var da="function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,c){b!=Array.prototype&&b!=Object.prototype&&(b[f]=c.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function fa(b,f){if(f){var c=ea;b=b.split(".");for(var a=0;a<b.length-1;a++){var d=b[a];d in c||(c[d]={});c=c[d]}b=b[b.length-1];a=c[b];f=f(a);f!=a&&null!=f&&da(c,b,{configurable:!0,writable:!0,value:f})}}
fa("Number.isNaN",function(b){return b?b:function(b){return"number"===typeof b&&isNaN(b)}});fa("Number.isFinite",function(b){return b?b:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.Bt||performance.Ct||performance.Ft||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var b=new Uint32Array(1);b[0]=4660;52===(new Uint8Array(b.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(b,c,a,d){b.addEventListener?b.addEventListener(c,a,d):b.attachEvent("on"+c,a)}})();(function(){function b(a,d,e){this.type=a;this.name=e;this.elements=d;this.size=d*c.bi(a);this.Ri=1}function f(){this.Zc=[];this.hi=this.Mk=this.gi=this.Lk=0}var c={Il:8,Jl:40,Gl:9,Hl:10,vl:0,tl:1,ul:2,rl:18,sl:19,bi:function(a){return 1<<(a&7)},typeName:function(a){var d=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(d+="Clamped");return d}};f.prototype.pq=function(a){var d="";0<=a&&a<this.Zc.length&&(a=this.Zc[a],d=c.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.Ri);
return d};f.prototype.c=function(a,d,e){for(var m=0,F=!1,B;m<this.Zc.length&&!F;)B=this.Zc[m],e===B.name?(F=!0,this.Mk+=1,this.hi+=B.elements*c.bi(B.type)):m+=1;F?(this.Zc[m].type=a,this.Zc[m].elements=d,this.Zc[m].Ri+=1,this.Zc[m].size=d*c.bi(a)):(m=this.Zc.length,this.Zc[m]=new b(a,d,e));this.Lk+=1;this.gi+=d*c.bi(a)};f.prototype.Ln=function(a,d,e,m,F){a=a.buffer;m*=c.bi(d);switch(d){case c.Il:e=new Uint8Array(a,m,e);break;case c.Jl:e=new Uint8Array(a,m,e);break;case c.Gl:e=new Uint16Array(a,m,
e);break;case c.Hl:e=new Uint32Array(a,m,e);break;case c.vl:e=new Int8Array(a,m,e);break;case c.tl:e=new Int16Array(a,m,e);break;case c.ul:e=new Int32Array(a,m,e);break;case c.rl:e=new Float32Array(a,m,e);break;case c.sl:e=new Float64Array(a,m,e);break;default:e=null,console.debug("Illegal type specified to allocator.typedView for "+F+": "+d)}return e};f.prototype.h=function(a,d,e){switch(a){case c.Il:d=new Uint8Array(d);break;case c.Jl:d=new Uint8Array(d);break;case c.Gl:d=new Uint16Array(d);break;
case c.Hl:d=new Uint32Array(d);break;case c.vl:d=new Int8Array(d);break;case c.tl:d=new Int16Array(d);break;case c.ul:d=new Int32Array(d);break;case c.rl:d=new Float32Array(d);break;case c.sl:d=new Float64Array(d);break;default:d=null,console.debug("Illegal type specified to allocator.typedMemory for "+e+": "+a)}return d};f.prototype.ga=function(a,d,e){var m;(m=this.h(a,d,e))&&this.c(a,d,e);return m};Array.$=function(a,d,e,m,F,B){var g=0,b=[];b.l=F;b.type=a;b.Aj=null;if(0!==d*e){var c=F.ga(a,d*e,
B);for(b.Aj=c;g<d;)b[g]=F.Ln(c,a,e,g*e,B),g+=1;if(0!==m)if(c.fill)c.fill(m);else for(g=0;g<c.length;)c[g]=m,g+=1}return b};Array.Wn=function(a,d){d=a.l.ga(a.type,a[0].length,d);a[a.length]=d};Array.ad=function(a,d){d.Aj.set(a.Aj)};Array.hg=function(a,d){var e=Uint16,m,F=a.length,B=[],g=a.l,b=a[0].length/c.bi(e);for(m=0;m<F;m+=1)B[m]=g.Ln(a.Aj,e,b,m*b,d);return B};Array.Kd=function(a,d,e){var m,F=a.length,B=[],g=a.l,b=a.type,c=a[0].length;for(m=0;m<F;m+=1)B[m]=g.Ln(a.Aj,b,c-d,m*c+d,e);return B};window.Allocator=
f;window.Uint8=c.Il;window.Uint8Clamped=c.Jl;window.Uint16=c.Gl;window.Uint32=c.Hl;window.Int8=c.vl;window.Int16=c.tl;window.Int32=c.ul;window.Float32=c.rl;window.Float64=c.sl})();window.AliasManager={f:[],ne:function(){this.f=[];this.f.push(["Totalistic",""]);this.f.push(["","B3/S23"]);this.f.push(["Conway's Life","B3/S23"]);this.f.push(["2x2","B36/S125"]);this.f.push(["34 Life","B34/S34"]);this.f.push(["3-4 Life","B34/S34"]);this.f.push(["Amoeba","B357/S1358"]);this.f.push(["AntiLife","B0123478/S01234678"]);this.f.push(["Assimilation","B345/S4567"]);this.f.push(["Bacteria","B34/S456"]);this.f.push(["Blinkers","B345/S2"]);this.f.push(["Bugs","B3567/S15678"]);this.f.push(["Coagulations",
"B378/S235678"]);this.f.push(["Coral","B3/S45678"]);this.f.push(["Corrosion of Conformity","B3/S124"]);this.f.push(["Day & Night","B3678/S34678"]);this.f.push(["Day and Night","B3678/S34678"]);this.f.push(["Diamoeba","B35678/S5678"]);this.f.push(["DotLife","B3/S023"]);this.f.push(["DryLife","B37/S23"]);this.f.push(["EightLife","B3/S238"]);this.f.push(["Electrified Maze","B45/S12345"]);this.f.push(["Flock","B3/S12"]);this.f.push(["Fredkin","B1357/S02468"]);this.f.push(["Gnarl","B1/S1"]);this.f.push(["H-Trees",
"B1/S012345678"]);this.f.push(["HighLife","B36/S23"]);this.f.push(["HoneyLife","B38/S238"]);this.f.push(["Holstein","B35678/S4678"]);this.f.push(["Iceballs","B25678/S5678"]);this.f.push(["InverseLife","B012345678/S34678"]);this.f.push(["Land Rush","B36/S234578"]);this.f.push(["Life without Death","B3/S012345678"]);this.f.push(["Life","B3/S23"]);this.f.push(["Live Free or Die","B2/S0"]);this.f.push(["LongLife","B345/S5"]);this.f.push(["Long Life","B345/S5"]);this.f.push(["LowDeath","B368/S238"]);this.f.push(["LowLife",
"B3/S13"]);this.f.push(["Majority","B45678/S5678"]);this.f.push(["Maze","B3/S12345"]);this.f.push(["Maze with Mice","B37/S12345"]);this.f.push(["Mazectric","B3/S1234"]);this.f.push(["Mazectric with Mice","B37/S1234"]);this.f.push(["Morley","B368/S245"]);this.f.push(["Move","B368/S245"]);this.f.push(["Pedestrian Life","B38/S23"]);this.f.push(["Persian Rug","B234/S"]);this.f.push(["Plow World","B378/S012345678"]);this.f.push(["Pseudo Life","B357/S238"]);this.f.push(["Replicator","B1357/S1357"]);this.f.push(["Seeds",
"B2/S"]);this.f.push(["Serviettes","B234/S"]);this.f.push(["Slow Blob","B367/S125678"]);this.f.push(["SnowLife","B3/S1237"]);this.f.push(["Stains","B3678/S235678"]);this.f.push(["Vote","B5678/S45678"]);this.f.push(["Vote 4/5","B4678/S35678"]);this.f.push(["Walled Cities","B45678/S2345"]);this.f.push(["Isotropic Non-Totalistic",""]);this.f.push(["aLife","B3/S234iw"]);this.f.push(["CB2","B2ae4i/S1e2in"]);this.f.push(["DLife","B3-n/S23"]);this.f.push(["GlideLife","B34ek5ak/S2-c34z"]);this.f.push(["Goat Flock",
"B2in3/S123a"]);this.f.push(["Just Friends","B2-a/S12"]);this.f.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.f.push(["Salad","B2i34c/S2-i3"]);this.f.push(["TauLife","B3-nr/S2-i34-aij"]);this.f.push(["tDryLife","B37/S2-i34q"]);this.f.push(["tHighLife","B36/S2-i34q"]);this.f.push(["TLife","B3/S2-i34q"]);this.f.push(["Generations",""]);this.f.push(["Banners","2367/3457/5"]);this.f.push(["BelZhab","23/23/8"]);this.f.push(["BelZhab Sediment","145678/23/8"]);this.f.push(["Bloomerang","234/34678/24"]);this.f.push(["Bombers",
"345/24/25"]);this.f.push(["Brain 6","6/246/3"]);this.f.push(["Brian's Brain","/2/3"]);this.f.push(["Burst","0235678/3468/9"]);this.f.push(["BurstII","235678/3468/9"]);this.f.push(["Caterpillars","124567/378/4"]);this.f.push(["Chenille","05678/24567/6"]);this.f.push(["Circuit Genesis","2345/1234/8"]);this.f.push(["Cooties","23/2/8"]);this.f.push(["Ebb&Flow","012478/36/18"]);this.f.push(["Ebb&Flow II","012468/37/18"]);this.f.push(["Faders","2/2/25"]);this.f.push(["Fireworks","2/13/21"]);this.f.push(["Flaming Starbows",
"347/23/8"]);this.f.push(["Frogs","12/34/3"]);this.f.push(["Frozen spirals","356/23/6"]);this.f.push(["Glisserati","035678/245678/7"]);this.f.push(["Glissergy","035678/245678/5"]);this.f.push(["Lava","12345/45678/8"]);this.f.push(["Lines","012345/458/3"]);this.f.push(["LivingOn TheEdge","345/3/6"]);this.f.push(["Meteor Guns","01245678/3/8"]);this.f.push(["Nova","45678/2478/25"]);this.f.push(["OrthoGo","3/2/4"]);this.f.push(["Prairie on fire","345/34/6"]);this.f.push(["RainZha","2/23/8"]);this.f.push(["Rake",
"3467/2678/6"]);this.f.push(["SediMental","45678/25678/4"]);this.f.push(["Snake","03467/25/6"]);this.f.push(["SoftFreeze","13458/38/6"]);this.f.push(["Spirals","2/234/5"]);this.f.push(["Star Wars","345/2/4"]);this.f.push(["Sticks","3456/2/6"]);this.f.push(["Swirl","23/34/8"]);this.f.push(["ThrillGrill","1234/34/48"]);this.f.push(["Transers","345/26/5"]);this.f.push(["TransersII","0345/26/6"]);this.f.push(["Wanderers","345/34678/5"]);this.f.push(["Worms","3467/25/6"]);this.f.push(["Xtasy","1456/2356/16"])},
lr:function(b){var f=null,c=0;for(b=b.toLowerCase();c<this.f.length&&null===f;)""!==this.f[c][1]&&this.f[c][0].toLowerCase()===b&&(f=this.f[c][1]),c+=1;return f},kr:function(b){for(var f=null,c=0;c<this.f.length&&null===f;)""!==this.f[c][1]&&this.f[c][1]===b&&(f=this.f[c][0]),c+=1;return f}};(function(){function b(a,e,g,d,m){this.g=m;this.ka=a;this.la=e;this.qa=g;this.message="";this.P=a;this.W=e;this.pa=g;this.Qe="";this.c=d;this.ma=!1;this.fa=this.o=0;this.Bp=this.Yl="rgb(32,255,255)";this.h=0;this.Sl=!1;this.Wa=this.fb="black";this.enabled=!1;this.B=30}function f(a,e,g,d){this.name=a;this.width=e;this.height=g;this.Ri=d}function c(a,e){this.h=e;this.o=a;this.c=[]}function a(a,e,g,d,b,c,f,k,l,q,E,C,K,r,G,p,u,A,t,H){this.id=a;this.H="";this.$f=-1;this.j=!1;this.Jb=e;this.caller=g;this.icon=
t;this.x=b;this.y=c;this.Rd=b;this.c=c;this.position=d;this.width=f;this.height=k;this.border=r;this.type=C;K===m.$n?this.orientation=f>=k?m.$b:m.vertical:this.orientation=K;this.lower=l;this.upper=q;C===m.ug?this.current=[E,E]:this.current=E;this.Pn=G;this.tb=p;this.$m=u;this.fixed=A;this.zk=!1;this.Ji=this.Ii=this.Li=this.Ki=this.$o=this.Zo=-1;this.textAlign=m.ko;this.enabled=!0;this.locked=!1;this.rj=[];this.Ok=0;this.yr=!1;this.be=H.be;this.Ed=H.Ed;this.ed=H.ed;this.mc=H.mc;this.qf=H.qf;this.pf=
H.pf;this.nh=H.nh;this.vg=H.vg;this.uf=H.uf;this.dg=H.dg;this.border=H.border;this.font=H.Fh}function d(a,e,g,d,b){this.c=d;this.Fh=b;this.locked=this.j=!1;this.ng=this.Je=-1;this.Ig=this.Fb=!1;this.P=6;this.Jb=a;this.zc=[];this.Ca=0;this.be="";this.Ed=0;this.ed="";this.mc=0;this.qf="";this.pf=0;this.nh="";this.vg=0;this.uf="";this.border=this.dg=0;this.o=m.$n;this.mg=this.si=-1;this.km=null;this.Kj=e;this.caller=g;this.Qa=null}function e(a,e,g,d,m,c){var F=this,k=0,l=a.canvas;this.Gm=!0;this.P=this.W=
40;this.dt=50;this.ue=0;this.c=this.h=this.o=-1;this.ih=!1;this.caller=m;this.Ve=this.ea=this.fh=this.pc=!1;this.Gb=4;this.nk=c;this.hasFocus=this.Xl=!1;this.ti=!0;this.vj=!1;this.uj=1;this.be="black";this.Ed=.7;this.ed="rgb(32,255,255)";this.mc=1;this.qf="rgb(0,240,32)";this.pf=.7;this.nh="blue";this.vg=.7;this.uf="grey";this.border=this.dg=1;this.jo=function(k){return function(){k.qa(k)}}(this);this.Qa=d;this.Jd=a;this.bc=e;this.Fb=!1;this.wf=this.vf=-1;this.Yb=null;this.Fh=g;this.ai=this.oh=!1;
this.Ak=performance.now();this.gh=5;this.pj=0;this.Km=[];this.Mm=[];this.Jm=[];for(k=0;5>k;k+=1)this.Km[k]=0,this.Mm[k]=0,this.Jm[k]=0;this.Ni=null;this.th=!1;this.notification=new b(25,100,25,e,this);this.Yo=performance.now();this.Ig=this.On=!1;registerEvent(l,"mousedown",function(k){F.fa(F,k)},!1);registerEvent(l,"mousemove",function(k){F.ka(F,k)},!1);registerEvent(l,"mouseup",function(k){F.pa(F,k)},!1);registerEvent(l,"mouseover",function(k){F.ma(F,k)},!1);registerEvent(l,"mouseout",function(k){F.la(F,
k)},!1);registerEvent(l,"touchstart",function(k){F.B(F,k)},!1);registerEvent(l,"touchmove",function(k){F.B(F,k)},!1);registerEvent(l,"touchend",function(k){F.B(F,k)},!1)}b.prototype.Rg=function(){var a=!1;if(""!==this.message||""!==this.Qe)a=!0;return a};b.prototype.clear=function(a,e){a?""!==this.Qe&&(e?this.Qe="":this.fa=performance.now()-(this.P+this.W)):""!==this.message&&(e?this.message="":this.o=performance.now()-(this.ka+this.la))};b.prototype.F=function(a,e,g){this.enabled&&(g?this.Qe!==a&&
(this.Qe=a,this.P=240,this.W=16*e,this.pa=240,this.fa=performance.now(),this.h=0,this.Sl=!1):(this.message=a,this.ka=240,this.la=16*e,this.qa=240,this.o=performance.now()))};b.prototype.Wf=function(a,e){96>this.c.canvas.width&&(this.B=24);var F=this.B;var d=this.c.measureText(a).width>>1;if(this.ma){this.c.fillStyle=this.Wa;var B=this.c.globalAlpha;this.c.globalAlpha=.5*B;this.c.fillRect(-d-20,-F,2*d+40,2*F);this.c.globalAlpha=B}this.c.fillStyle=this.fb;this.c.fillText(a,-d+2,2);e?this.Sl?(this.c.fillStyle=
128>this.h?"rgb("+2*this.h+","+2*this.h+",255)":"rgb("+2*(256-this.h)+","+2*(256-this.h)+",255)",this.h=this.h+4&255):this.c.fillStyle=this.Bp:this.c.fillStyle=this.Yl;this.c.fillText(a,-d,0)};b.prototype.Sa=function(a,e,g,d,m,b,c){var k=this.B,F=k+2,B=this.g.Gb,h=60,P=!0;this.g.pc?(h=0,b=this.c.canvas.height/2,this.ma=!0):this.ma=!1;""!==a&&(P=!1,m=performance.now()-m,this.c.save(),this.g.ea&&(c?(h=0,b=this.c.canvas.height/2):(k/=B,F=F/B|0,b=b/B|0,h=h/B|0)),this.c.font=k+"px Arial",this.c.translate(this.c.canvas.width/
2-1,h+b),m<=e?(b=m/e,b*=b,this.c.globalAlpha=b,this.c.scale(b,b)):m>e+g&&m<=e+g+d&&(b=(d-(m-(e+g)))/d,b*=b,this.c.globalAlpha=b,this.c.scale(b,b)),m>e+g+d?P=!0:(e=a.indexOf("\\n"),-1===e?this.Wf(a,c):(this.Wf(a.substr(0,e),c),this.c.translate(0,F),this.Wf(a.substr(e+2),c))),this.c.restore());return P};b.prototype.update=function(){this.Sa(this.message,this.ka,this.la,this.qa,this.o,36,!1)&&(this.message="");this.g.ea&&"Expand"!==this.Qe&&"Launch"!==this.Qe||!this.Sa(this.Qe,this.P,this.W,this.pa,
this.fa,0,!0)||(this.Qe="")};c.prototype.Wf=function(a,e,g){this.h.drawImage(this.o,a.Ri*a.width,0,a.width,a.height,e,g,a.width,a.height)};c.prototype.length=function(){return this.c.length};c.prototype.icon=function(a){var e,F=this.c,d=this.length(),m=null;for(e=0;e<d&&!m;)F[e].name===a?m=F[e]:e+=1;return m};c.prototype.add=function(a,e,g){var F=this.c.length;this.c[F]=new f(a,e,g,F)};var m={$n:0,$b:1,vertical:2,ug:0,button:1,toggle:2,Qd:3,list:4,label:5,qn:0,Md:1,left:0,ko:1,right:2,Kk:0,Ac:1,Co:2,
Td:3,Rp:4,yg:5,jq:6,md:7,Or:8};a.prototype.wq=function(a,e){this.x=this.Rd;this.y=this.c;switch(this.position){case m.Kk:this.x=(a-this.width>>1)+this.Rd;break;case m.Ac:this.x=a+this.Rd;break;case m.Co:this.y=(e-this.height>>1)+this.c;this.x=a+this.Rd;break;case m.Td:this.x=a+this.Rd;this.y=e+this.c;break;case m.Rp:this.x=(a-this.width>>1)+this.Rd;this.y=e+this.c;break;case m.yg:this.y=e+this.c;break;case m.jq:this.y=(e-this.height>>1)+this.c;break;case m.Or:this.x=(a-this.width>>1)+this.Rd,this.y=
(e-this.height>>1)+this.c}};a.prototype.Yn=function(a,e){var F=this.Ok;this.rj[F]=[a,e];this.Ok=F+1};a.prototype.Vn=function(a){var e=[],F;var d=a.length;for(F=0;F<d;F+=1)a[F].Yn(this,!0);d=e.length;for(F=0;F<d;F+=1)e[F].Yn(this,!1)};a.prototype.Yr=function(a,e){var F=!1;this.enabled&&a>=this.x&&a<this.x+this.width&&e>=this.y&&e<this.y+this.height&&(F=!0);return F};d.prototype.B=function(a,e){var F,d=a.Ok;a.type===m.list&&a.upper===m.Md?F=a.current[0]:F=a.current===a.upper;a.yr&&(F=!F);if(F&&e)for(e=
0;e<d;e+=1)F&=this.B(a.rj[e][0],a.rj[e][1]);return F};d.prototype.cq=function(a){var e,F=a.Ok;var d=!0;for(e=0;e<F;e+=1)d&=this.B(a.rj[e][0],a.rj[e][1]);a.enabled=d};d.prototype.ne=function(){var a;for(a=0;a<this.Ca;a+=1){var e=this.zc[a];e.enabled=!0;switch(e.type){case m.toggle:e.Jb&&(e.current=e.Jb(e.current===e.upper,!1,this.caller)?e.upper:e.lower);break;case m.ug:e.Jb&&(e.current=e.Jb(e.current,!1,this.caller));break;case m.list:e.Jb&&(e.current=e.Jb(e.current,!1,this.caller))}this.cq(e)}};
d.prototype.Dd=function(e,d,g,b,c,h,f,k,l){this.zc[this.Ca]=new a(this.Ca,e,this.caller,d,g,b,c,h,f,l,k,m.list,this.o,this.border,!0,"","",-1,[],this);this.Ca+=1;return this.zc[this.Ca-1]};d.prototype.Of=function(e,d,g,b,c,h,f,k,l,q,E,C){this.zc[this.Ca]=new a(this.Ca,e,this.caller,d,g,b,c,h,f,k,l,m.ug,this.o,this.border,!0,q,E,C,null,this);this.Ca+=1;return this.zc[this.Ca-1]};d.prototype.Na=function(e,d,g,b,c,h){this.zc[this.Ca]=new a(this.Ca,null,null,e,d,g,b,c,0,0,0,m.label,this.o,this.border,
!0,h,"",-1,null,this);this.Ca+=1;return this.zc[this.Ca-1]};d.prototype.Lj=function(e,d,g,b,c){this.zc[this.Ca]=new a(this.Ca,e,this.caller,d,g,b,40,40,0,0,0,m.button,this.o,this.border,!0,c,"",-1,null,this);this.Ca+=1;return this.zc[this.Ca-1]};d.prototype.oq=function(){this.zc[this.Ca]=new a(this.Ca,null,null,Menu.yg,0,-40,100,40,0,100,0,m.Qd,this.o,this.border,!1,"","",0,null,this);this.Ca+=1;return this.zc[this.Ca-1]};d.prototype.h=function(a,e,d){var F;a+=String();if(""!==a){this.c.save();this.c.translate(e.x+
e.width/2,e.y+e.height/2);this.c.font=e.font;e.orientation===m.vertical&&this.c.rotate(.5*Math.PI);var g=this.c.measureText(a).width;var B=e.orientation===m.vertical?e.height:e.width;if(g>=B-6){if(F=a.length){do{--F;var b=a.substr(0,F)+"...";g=this.c.measureText(b).width}while(1<F&&g>=B-6)}a=b}switch(e.textAlign){case m.left:var k=e.width/2-2;break;case m.ko:k=g/2;break;case m.right:k=g/2-(e.width-g)/2+4}this.c.fillStyle=e.be;d&&this.c.fillRect(2-k,2,g,2);this.c.fillText(a,2-k+.5,2.5);this.c.fillStyle=
e.locked||this.locked?e.uf:e.ed;this.c.fillText(a,-k+.5,.5);d&&this.c.fillRect(-k,0,g,2);this.c.restore()}};d.prototype.ka=function(a){this.c.globalAlpha=this.mc;this.h(a.tb,a,!1)};d.prototype.W=function(a){this.c.globalAlpha=this.mc;this.h(a.tb,a,!1);a.icon&&this.Qa.Wf(a.icon,a.x,a.y)};d.prototype.ma=function(a){var e=(a.current-a.lower)/(a.upper-a.lower);this.c.globalAlpha=this.Ed;this.c.fillStyle=this.ed;a.orientation===m.$b?(e*=a.width-3,this.c.fillRect(a.x+(e+1|0),a.y,1,a.height)):(e*=a.height-
3,this.c.fillRect(a.x,a.y+(e+1|0),a.width,1));e=a.tb;a.Pn&&(e=-1!==a.fixed?e+a.current.toFixed(a.fixed):e+a.current,e+=a.$m);""!==e&&(this.c.globalAlpha=this.mc,this.h(e,a,!1))};d.prototype.pa=function(a,e){var F=(a.current[0]-a.lower)/(a.upper-a.lower);var d=this.P;a.orientation===m.$b?(F*=a.width-3,F=F+1|0,e&&(this.c.fillStyle=this.qf,this.c.globalAlpha=this.pf,this.c.fillRect(a.x+F-d,a.y,d,a.height),this.c.fillRect(a.x+F+1,a.y,d,a.height)),a.locked||this.locked?(this.c.fillStyle=this.uf,this.c.globalAlpha=
this.dg):(this.c.fillStyle=this.ed,this.c.globalAlpha=this.mc),this.c.fillRect(a.x+F,a.y,1,a.height)):(F*=a.height-3,F=F+1|0,e&&(this.c.fillStyle=this.qf,this.c.globalAlpha=this.pf,this.c.fillRect(a.x,a.y+F-d,a.width,d),this.c.fillRect(a.x,a.y+F+1,a.width,d)),a.locked||this.locked?(this.c.fillStyle=this.uf,this.c.globalAlpha=this.dg):(this.c.fillStyle=this.ed,this.c.globalAlpha=this.mc),this.c.fillRect(a.x,a.y+F,a.width,1));e=a.tb;a.Pn&&(e=0<=a.fixed?e+a.current[1].toFixed(a.fixed):e+a.current[1]);
e+=a.$m;""!==e&&(this.c.globalAlpha=this.mc,this.h(e,a,!1))};d.prototype.qa=function(a){this.c.globalAlpha=this.mc;var e="-"===a.lower&&""===a.upper&&a.current===a.lower;var F=a.tb;a.Pn&&!e&&(F+=a.current);F+=a.$m;this.h(F,a,e)};d.prototype.la=function(a,e){var F=a.x;var d=a.y;var B=a.width;var b=a.height;var c=a.orientation;var k=a.current;var l=a.lower;var q=l.length;var f=a.orientation===m.$b?B/q:b/q;this.c.globalAlpha=this.vg;this.c.fillStyle=this.nh;if(a.upper===m.qn){var C=a.current;a.orientation===
m.$b?this.c.fillRect(F+C*f+1,d+1,f-2,b-2):this.c.fillRect(F+1,d+1+C*f,B-2,f-2)}else if(a.orientation===m.$b)for(C=0;C<q;C+=1)k[C]&&this.c.fillRect(F+C*f+1,d+1,f-2,b-2);else for(C=0;C<q;C+=1)k[C]&&this.c.fillRect(F+1,d+1+C*f,B-2,f-2);this.c.globalAlpha=this.mc;if(a.orientation===m.$b)for(C=0;C<q;C+=1)a.icon[C]&&this.Qa.Wf(a.icon[C],a.x+f*C,a.y);else for(C=0;C<q;C+=1)a.icon[C]&&this.Qa.Wf(a.icon[C],a.x,a.y+f*C);e?(this.c.globalAlpha=this.pf,this.c.fillStyle=this.qf,a.orientation===m.$b?(C=(this.Je-
F)/B*q|0,0<=C&&C<q&&this.c.fillRect(F+C*f+.5,d+.5,f-1,b-1)):(C=(this.ng-d)/b*q|0,0<=C&&C<q&&this.c.fillRect(F+.5,d+.5+C*f,B-1,f-1)),a.$f=C):a.$f=-1;this.c.globalAlpha=this.mc;this.c.fillStyle=this.ed;if(c===m.$b)for(C=0;C<q;C+=1)F=l[C],""!==F&&(this.c.save(),this.c.translate((.5+(C-q/2))*f,0),this.h(F,a,!1),this.c.restore());else for(C=0;C<q;C+=1)F=l[C],""!==F&&(this.c.save(),this.c.translate(0,(.5+(C-q/2))*f),this.h(F,a,!1),this.c.restore())};d.prototype.fa=function(a,e,d,b){!(d===b||-1===b&&e)||
a.type!==m.button&&a.type!==m.toggle?(this.c.fillStyle=a.be,this.c.globalAlpha=a.Ed):(this.c.fillStyle=a.qf,this.c.globalAlpha=a.pf);switch(a.type){case m.Qd:var g=(a.current-a.lower)/(a.upper-a.lower);this.c.fillStyle=a.nh;this.c.globalAlpha=a.vg;a.orientation===m.$b?(g*=a.width-3,g=g+1|0,this.c.fillRect(a.x,a.y,g,a.height),this.c.fillStyle=a.be,this.c.globalAlpha=a.Ed,this.c.fillRect(a.x+g,a.y,a.width-g,a.height)):(g*=a.height-3,g=g+1|0,this.c.fillRect(a.x,a.y,a.width,g),this.c.fillStyle=a.be,this.c.fillRect(a.x,
a.y+g,a.width,a.height-g));break;case m.ug:g=(a.current[0]-a.lower)/(a.upper-a.lower);if(d===b||-1===b&&e){var F=this.P;if(a.orientation===m.$b){g*=a.width-3;g=g+1|0;var B=g-F;0<B&&this.c.fillRect(a.x,a.y,B,a.height);B=1+g+F;B<a.width&&this.c.fillRect(a.x+B,a.y,a.width-B,a.height)}else g*=a.height-3,g=g+1|0,B=g-F,0<B&&this.c.fillRect(a.x,a.y,a.width,B),B=1+g+F,B<a.height&&this.c.fillRect(a.x,a.y+B,a.width,a.height-B)}else this.c.fillRect(a.x,a.y,a.width,a.height);break;default:this.c.fillRect(a.x,
a.y,a.width,a.height)}a.type!==m.list&&a.icon&&(this.c.globalAlpha=a.mc,this.Qa.Wf(a.icon,a.x,a.y),!(d===b||-1===b&&e)||a.type!==m.button&&a.type!==m.toggle||(this.c.globalAlpha=a.vg,this.c.fillRect(a.x,a.y,a.width,a.height)));if(0<a.border)switch(a.locked||this.locked?(this.c.strokeStyle=a.uf,this.c.globalAlpha=a.dg):(this.c.strokeStyle=a.ed,this.c.globalAlpha=a.mc),this.c.lineWidth=a.border,a.type){case m.label:break;case m.list:F=a.lower.length;if(a.orientation===m.$b)for(B=a.width/F,g=0;g<F;g+=
1)this.c.strokeRect(a.x+.5+g*B,a.y+.5,B-1,a.height-1);else for(B=a.height/F,g=0;g<F;g+=1)this.c.strokeRect(a.x+.5,a.y+.5+g*B,a.width-1,B-1);break;default:this.c.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case m.button:this.W(a);break;case m.label:this.ka(a);break;case m.ug:this.pa(a,d===b||-1===b&&e);break;case m.toggle:this.qa(a);break;case m.Qd:this.ma(a);break;case m.list:this.la(a,d===b||-1===b&&e)}if(d===b)switch(a.type){case m.ug:g=this.ng,a.orientation===m.vertical?(g<a.y?
g=a.y:g>=a.y+a.height&&(g=a.y+a.height-1),a.current[0]=(g-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):(g=this.Je,g<a.x?g=a.x:g>=a.x+a.width&&(g=a.x+a.width-1),a.current[0]=(g-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Jb&&(a.current=a.Jb(a.current,!0,a.caller))}if(e&&!this.Fb&&a.zk)switch(a.type){case m.button:a.Jb&&a.Jb(a.caller);break;case m.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Jb&&a.Jb(a.current===a.upper,!0,a.caller);break;case m.list:F=a.lower.length,B=a.orientation===m.$b?
(this.Je-a.x)/a.width*F|0:(this.ng-a.y)/a.height*F|0,a.upper===m.qn?a.Jb?a.current=a.Jb(B,!0,a.caller):a.current=B:(a.current[B]=!a.current[B],a.Jb&&a.Jb(a.current,!0,a.caller))}e&&d===b?(a.zk=this.Fb,a.Zo=this.Je,a.$o=this.ng):(a.zk=!1,a.Zo=-1,a.$o=-1)};d.prototype.mm=function(){var a,e,d=this.c.canvas.width,m=this.c.canvas.height;var b=!1;this.mg=-1;if(!this.j){var c=this.si;this.c.textAlign="left";for(e=0;e<this.Ca;e+=1){var f=this.zc[e];if(!f.j){f.wq(d,m);(a=f.Yr(this.Je,this.ng)&&!(f.locked||
this.locked))&&!this.Fb&&(this.mg=e);if(this.Fb&&-1===c&&a||a&&this.Ig)c=e,this.Ig&&(f.zk=e);e===c&&(f.locked||this.locked)&&(c=-1,a=!1);f.enabled&&this.fa(f,a,e,c)}}0<=c&&!this.Fb&&(b=!0);this.Fb&&-1===c&&(c=-2);-2===c&&this.km&&!this.locked&&this.km(this.Je,this.ng,this.Fb,this.caller);this.Fb||(c=-1);this.si=c;this.c.globalAlpha=1}return b};e.prototype.Bq=function(){var a=this.Jd.canvas,e=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;e;)this.offsetLeft+=e.offsetLeft,
this.offsetTop+=e.offsetTop,e=e.offsetParent;e=a.parentNode;if("fixed"===e.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==e.tagName.toLowerCase();)this.offsetLeft-=e.scrollLeft,this.offsetTop-=e.scrollTop,e=e.parentNode};e.prototype.Jq=function(a,e,g){a=new d(a,e,g,this.bc,this.Fh);a.ed=this.ed;a.mc=this.mc;a.be=this.be;a.Ed=this.Ed;a.qf=this.qf;a.pf=this.pf;
a.nh=this.nh;a.vg=this.vg;a.uf=this.uf;a.dg=this.dg;a.border=this.border;return a};e.prototype.br=function(){var a=this.Yb,e=this.bc;if(-1!==a.si||-1===a.si&&-1===a.mg)this.c=a.si;if(-1===a.mg||-1!==this.c&&this.c===a.mg)-1!==a.mg&&(a=a.zc[a.mg],a.id===this.o&&a.$f!==this.h&&(this.c=-1)),50>this.ue&&(this.ue+=1);else{a=a.zc[a.mg];a.id!==this.o||a.id===this.o&&a.$f!==this.h?(this.o=a.id,this.h=a.$f,50>this.ue&&(this.ue+=1)):0<=this.ue&&--this.ue;var d=-1!==this.h?a.H[this.h]:a.H;if(""!==d&&-1===this.ue){this.c=
-1;var b=a.x;var c=a.y;var h=a.width;var f=a.height;-1!==a.$f&&(a.orientation===m.$b?(b+=h/a.lower.length*a.$f,h/=a.lower.length):(c+=f/a.lower.length*a.$f,f/=a.lower.length));e.font="18px Arial";var k=e.measureText(d).width;var l=Math.round(b+h/2);c=Math.round(c+f/2);l-=k/2;5>l?l=5:l+k+4>e.canvas.width&&(l=e.canvas.width-k-4-1);f>h?(-1!==this.P&&h<this.P&&(h=this.P),l>e.canvas.width/2?l=b-k-h/2:l=b+a.width+h/2):(-1!==this.W&&f<this.W&&(f=this.W),c>e.canvas.height/2?c-=f:c+=f);e.globalAlpha=.7;e.fillStyle=
"black";e.fillRect((l-4|0)-.5,(c-9-4|0)-.5,k+2+8,26);e.globalAlpha=1;e.strokeStyle="rgb(32,255,255)";e.strokeRect((l-4|0)-.5,(c-9-4|0)-.5,k+2+8,26);e.globalAlpha=.7;e.strokeStyle="black";e.beginPath();e.moveTo((l-4|0)+.5,(c-9-4|0)+26.5);e.lineTo((l-4|0)+.5+k+2+8,(c-9-4|0)+26.5);e.lineTo((l-4|0)+.5+k+2+8,(c-9-4|0)+.5);e.stroke();e.globalAlpha=1;e.fillStyle="black";e.fillText(d,l+2,c+2);e.fillStyle="white";e.fillText(d,l,c)}}};e.prototype.qa=function(a){var e,d=a.bc,m=d.canvas.width-86,F=90;a.ea&&(F=
0);a.vj=!1;a.On=!0;a.Ni&&(a.Yb=a.Ni,a.Ni=null,d.font=a.Fh,a.Yb.ne(),a.Yb.Kj&&a.Yb.Kj(a.Yb.caller));var b=performance.now();a.Gm&&(a.Ak=b-1E3/60);a.ti||a.notification.Rg()||a.uj||a.dt!==a.ue&&-1!==a.ue?(a.fj(a),a.uj&&--a.uj,a.Gm=!1):a.Gm=!0;var c=b-a.Ak;a.Ak=b;a.Yb.Jb&&a.Yb.Jb(c,a.Yb.caller);b=performance.now()-b;var k=performance.now();a.mm();a.Ig=!1;a.br();a.notification.update();k=performance.now()-k;a.Km[a.pj]=k;for(e=k=0;e<a.gh;e+=1)k+=a.Km[e];k/=a.gh;a.Mm[a.pj]=b;for(e=b=0;e<a.gh;e+=1)b+=a.Mm[e];
b/=a.gh;a.Jm[a.pj]=c;for(e=c=0;e<a.gh;e+=1)c+=a.Jm[e];c/=a.gh;a.pj=(a.pj+1)%a.gh;c=Math.round(1E3/c);if(a.oh){d.font="12px Arial";d.globalAlpha=.7;d.fillStyle="black";a.ai?d.fillRect(m,F,88,83):d.fillRect(m,F,88,20);e=(b+k)/16.6666;1<e&&(e=1);d.fillStyle=.5>e?"rgb("+(510*e|0)+",255,0)":"rgb(255,"+(255*(1-2*(e-.5))|0)+",0)";d.fillRect(m,F,88*e|0,20);k=k.toFixed(1);b=b.toFixed(1);d.globalAlpha=1;d.fillStyle="black";var l=c+"fps";var q=d.measureText(l).width;d.fillText(l,m+36-q,F+12);l=(100*e|0)+"%";
q=d.measureText(l).width;d.fillText(l,m+84-q,F+12);a.ai&&(d.fillText("menu",m+6,F+28),d.fillText("work",m+6,F+44),d.fillText("update",m+6,F+60),d.fillText("focus",m+6,F+76),l=k+"ms",q=d.measureText(l).width,d.fillText(l,m+84-q,F+28),l=b+"ms",q=d.measureText(l).width,d.fillText(l,m+84-q,F+44),l=a.ti?"on":"off",q=d.measureText(l).width,d.fillText(l,m+84-q,F+60),l=a.hasFocus?"on":"off",q=d.measureText(l).width,d.fillText(l,m+84-q,F+76));d.fillStyle="white";l=c+"fps";q=d.measureText(l).width;d.fillText(l,
m+34-q,F+10);l=(100*e|0)+"%";q=d.measureText(l).width;d.fillText(l,m+82-q,F+10);a.ai&&(d.fillText("menu",m+4,F+26),d.fillText("work",m+4,F+42),d.fillText("update",m+4,F+58),d.fillText("focus",m+4,F+74),l=k+"ms",q=d.measureText(l).width,d.fillText(l,m+82-q,F+26),l=b+"ms",q=d.measureText(l).width,d.fillText(l,m+82-q,F+42),l=a.ti?"on":"off",q=d.measureText(l).width,d.fillText(l,m+82-q,F+58),l=a.hasFocus?"on":"off",q=d.measureText(l).width,d.fillText(l,m+82-q,F+74));d.globalAlpha=1}a.Jd.drawImage(d.canvas,
0,0)};e.prototype.lq=function(a){a.Qa=this.Qa;this.Yb?this.Ni=a:(this.Ni=null,this.Yb=a,this.bc.font=this.Fh,this.Yb.ne(),this.Yb.Kj&&this.Yb.Kj(this.Yb.caller),this.fj(this))};e.prototype.mm=function(){var a;if(this.Yb){var e=this.Yb;this.bc.font=this.Fh;e.Je=this.vf;e.ng=this.wf;e.Fb=this.Fb;e.Ig=this.Ig;if(e.mm()||this.th){for(a=0;a<e.Ca;a+=1){var d=e.zc[a];e.cq(d)}this.th=!1}}};e.prototype.fj=function(a){a.vj||(requestAnimationFrame?requestAnimationFrame(a.jo):setTimeout(a.jo,16),a.vj=!0)};e.prototype.B=
function(a,e){var d="";if("touchend"===e.type){d="mouseup";var m=document.createEvent("MouseEvent");m.initMouseEvent(d,!0,!0,window,1,a.Ki,a.Li,a.Ii,a.Ji,!1,!1,!1,!1,0,null);e.target.dispatchEvent(m);e.preventDefault()}else{if(1===e.touches.length)switch(e.type){case "touchstart":d="mousedown";break;case "touchmove":d="mousemove"}if(""!==d){var b=e.changedTouches[0];m=document.createEvent("MouseEvent");m.initMouseEvent(d,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(m);
e.preventDefault();a.Ki=b.screenX;a.Li=b.screenY;a.Ii=b.clientX;a.Ji=b.clientY}}};e.prototype.fa=function(a,e){a.ih||(a.ea&&a.nk&&a.nk(a.caller),a.wh(a,e),a.Fb=!0,a.On=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.pa=function(a,e){a.Yo=performance.now();a.ih||(a.wh(a,e),a.Fb=!1,a.On||(a.Ig=!0),a.hasFocus||(a.Jd.canvas.focus(),a.hasFocus=!0,a.notification.clear(!0,!1),a.nk&&a.nk(a.caller)),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.lo=function(a){a.hasFocus||
a.Xl&&""!==a.notification.Qe||(a.pc?a.fh||a.notification.F("Copy",3600,!0):a.ea?a.Ve?a.notification.F("Launch",3600,!0):a.notification.F("Expand",3600,!0):a.notification.F("Click to control",3600,!0),a.notification.Sl=!0,a.Xl=!0)};e.prototype.ka=function(a,e){a.ih||(a.lo(a),a.wh(a,e),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.ma=function(a,e){a.ih||(a.lo(a),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.la=function(a,e){var d=performance.now()-
a.Yo;a.ih||(1<d&&(a.hasFocus||a.notification.clear(!0,!1),a.Jd.canvas.blur(),a.hasFocus=!1,a.Fb=!1,a.vf=-1,a.wf=-1,a.Xl=!1,a.vj||(a.fj(a),a.uj=2)),e.stopPropagation&&e.stopPropagation(),e.preventDefault())};e.prototype.wh=function(a,e){if(e.pageX||e.pageY){var d=e.pageX;e=e.pageY}else d=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Bq();d-=a.offsetLeft;e-=a.offsetTop;a.vf=d-1|0;a.wf=e-1|0;a.vj||(a.fj(a),
a.uj=2)};e.prototype.wg=function(a){!a&&!this.notification.Rg()||this.ti||this.fj(this);this.ti=a};window.IconManager=c;window.Menu=m;window.MenuManager=e})();(function(){function b(a,d,e,m,b,c){this.ci=a;this.di=d;this.width=e;this.height=m;this.Xs=b;this.cr=c}function f(a){var d=a.lastIndexOf(".");-1!==d&&(a=a.substr(0,d));this.name=a;this.mf=this.me=this.jd=-1;this.Kh=this.Ci=0;this.wk=this.zm=!1;this.Zn=this.na="";this.R=this.Hi=this.pb=!1;this.Kf=-1;this.ac=this.xc=!1;this.Cf=-1;this.Sh=1;this.u=this.Yd=this.bf=this.Xc=this.Zd=-1;this.height=this.width=0;this.ld=this.Sb=null;this.qe=this.title="";this.xf=2;this.Qi=0;this.Mh=this.Gf=!1;this.tp=""}var c=
{Qj:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qh:86,Dk:22,Ek:6,Oi:8,dr:"XRLE",Ap:"Pos",Go:"Gen",U:"",vq:":",ho:"ptkcs",kl:"012345678ceaiknjqrytwz-",Uf:"0123456789",vr:"0123456",st:"01234",gn:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],Fr:[0,2,6,10,13,10,6,2,0],bs:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],Fs:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,
43,101,105,78,108]],Om:13,maxWidth:8192,maxHeight:8192,Kr:256,qd:new Uint32Array(256),bj:new Uint8Array(512),ct:new Uint16Array(512),za:!1,Jh:!1,Ro:"history",Po:"h",iq:"v",Gf:!1,wm:0,Yf:!1,Ym:0,Zm:0,Pe:!1,index:0,mp:1,jp:500,Wr:0,Lr:255,Rr:0,Gr:1,Vd:-1,Ud:-1,Rq:function(a,d,e){var m,b,c=0,g=0,f=0,D=!1;var h=d.length;for(m=b=0;m<h;){var w=d[m];m+=1;switch(b){case 0:switch(w){case "!":b=1;var k=!0;break;case "O":case "o":case "*":case ".":b=2;g=c=f=0;var l=--m}break;case 1:"\r"!==w&&(" "===w?k||(a.title+=
w):(k=!1,a.title+=w));"\n"===w&&(b=0);break;case 2:switch(w){case "O":case "o":case "*":case ".":g+=1;break;case "\n":f+=1;g>c&&(c=g);g=0;break;case " ":case "\t":break;default:m=h,D=!0}}}if(!D){2===b&&"\n"!==w&&(f+=1,g>c&&(c=g));a.height=f;a.width=c;a.qe="Cells";a.Sb=Array.$(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");m=l;for(e=b=0;m<h;)switch(w=d[m],m+=1,w){case "\n":b+=1;e=0;break;case "O":case "o":case "*":a.Sb[b][e>>4]|=1<<(~e&15);e+=1;break;case ".":e+=1}this.za=!0;this.zi(a,"")}},
Pq:function(a,d,e){var m,b;var c=d.length;var g=[];var f=0;var D=!1;var h=b=0;var w=!1;for(m=10;m<c;){var k=d[m];m+=1;switch(k){case "\n":w&&(w=!1,2===l&&D&&(h=-h,D=!1),g[f]=[b,h],f+=1);var l=h=b=0;break;case "-":D=!0;0===l?l=1:1===l&&(l=2);break;case " ":1===l&&(D&&(b=-b,D=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===l&&(l=1),1===l?b=10*b+parseInt(k,10):(h=10*h+parseInt(k,10),w=!0)}}w&&(2===l&&D&&(h=-h),g[f]=[b,h],f+=1);if(f){c=d=g[0][0];
l=k=g[0][1];for(m=1;m<f;m+=1)b=g[m][0],h=g[m][1],b<d&&(d=b),b>c&&(c=b),h<k&&(k=h),h>l&&(l=h);a.height=l-k+1;a.width=c-d+1;a.Sb=Array.$(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");a.qe="Life 1.06";this.zi(a,"");for(m=0;m<f;m+=1)b=g[m][0]-d,h=g[m][1]-k,a.Sb[h][b>>4]|=1<<(~b&15)}},ro:function(a,d,e,m){var c,B,g=[],f=0,D=d.length;var h="";var w=!1;var k=0,l=0,q=!1,E=!1,C=0,K=0;e=e?10:0;for(this.za=!0;e<D&&!E;){var r=d[e];e+=1;switch(k){case 0:switch(r){case "#":k=2;break;case "*":case ".":k=
3;var G=B=c=0;var p=--e}break;case 2:switch(r){case "C":case "D":k=1;var u=!0;break;case "N":k=0;break;case "R":k=4;break;case "P":k=5;l=0;q=!1;K=C=0;break;case "\n":k=0;break;default:k=1,u=!0}break;case 1:"\r"!==r&&(" "===r?u||(a.title+=r):(u=!1,a.title+=r));"\n"===r&&(k=0);break;case 4:"\n"===r?k=0:(h+=r,w=!0);break;case 5:switch(r){case "\n":k=0;2===l&&q&&(K=-K,q=!1);break;case "-":q=!0;0===l?l=1:1===l&&(l=2);break;case " ":1===l&&(q&&(C=-C,q=!1),l=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
l&&(l=1),1===l?C=10*C+parseInt(r,10):K=10*K+parseInt(r,10)}break;case 3:switch(r){case "\n":c>B&&(B=c);c=0;G+=1;break;case "#":g[f]=new b(C,K,B,G,p,e-1);f+=1;k=2;break;case "*":case ".":c+=1;break;default:E=!0}}}"\n"!==r&&(G+=1);3===k&&(g[f]=new b(C,K,B,G,p,e-1),f+=1);if(f&&!E){C=g[0].ci;K=g[0].di;r=C+g[0].width-1;c=K+g[0].height-1;for(e=1;e<f;e+=1)g[e].ci<C&&(C=g[e].ci),g[e].di<K&&(K=g[e].di),g[e].ci+g[e].width-1>r&&(r=g[e].ci+g[e].width-1),g[e].di+g[e].height-1>c&&(c=g[e].di+g[e].height-1);a.height=
c-K+1;a.width=r-C+1;a.Sb=Array.$(Uint16,a.height,(a.width-1>>4)+1,0,m,"Pattern.lifeMap");a.qe="Life 1.05";a.ld=Array.$(Uint8,a.height,a.width,0,m,"Pattern.multiStateMap");w?(this.uo(a,h,!1),this.za?0<=a.u||a.pb||(a.ld=null):(a.u=-1,a.pb=!1)):this.zi(a,"");for(e=0;e<f;e+=1)for(m=g[e].Xs,h=g[e].cr,c=g[e].ci-C,r=g[e].di-K,w=c,B=r;m<=h;)switch(r=d[m],m+=1,r){case "\n":B+=1;w=c;break;case "*":a.Sb[B][w>>4]|=1<<(~w&15);a.ld&&(a.ld[B][w]=1);w+=1;break;default:w+=1}}},mn:function(a,d,e,m){var b=0,c,g,f;e&&
(b=16);for(g=0;512>g;g+=32)for(f=0;16>f;f+=1){e=0;for(c=g+f&m;0<c;)e+=c&1,c>>=1;d===e&&(a[g+f+b]=1)}},hr:function(a){return(a&7)<<6|(a&448)>>6|a&56},Ip:function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6},Ss:function(a,d,e){var m;for(m=0;4>m;m+=1)a[d]=e,d=this.Ip(d);d=this.hr(d);for(m=0;4>m;m+=1)a[d]=e,d=this.Ip(d)},Rs:function(a,d,e,m,b,c){var g=0,F=d-1;0===d||8===d?this.mn(a,d,e,c):(3<F&&(F=6-F,g=495),d=this.gn[F].indexOf(m),-1!==d&&(g^=this.Fs[F][d],
e&&(g|=16),this.Ss(a,g,b)))},Op:function(a,d,e,m){var b=d.length,c=0,g="",f;for(f=0;f<b;f+=1){var D=d.charCodeAt(f)-48;c|=1<<D;this.mn(a,D,e,m)}for(f=0;9>f;f+=1)0!==(c&1<<f)&&(g+=String(f));return g},uq:function(a){for(var d=0;a;)d+=1,a&=a-1;return d},mq:function(a,d){var e="",m=0;if(d[a]){d=d[a];0!==(d&1<<this.Om)&&(m=1,d&=~(1<<this.Om));var b=this.uq(d);var c=this.Fr[a];(m||7!==b||13!==c)&&b+m>c>>1&&(d=~d&(1<<c)-1)&&(m=!m);if(!m||d)for(e+=String(a),m&&(e+="-"),b=0;b<c;b+=1)m=this.bs[a][b],0!==(d&
1<<m)&&(e+=this.gn[3][m])}else e+=String(a);return e},Np:function(a,d,e){var m=d.length,b=this.gn[3],c=0,g=[],f="",D;d+=" ";for(D=0;9>D;D+=1)g[D]=0;for(D=0;D<m;D+=1){var h=d.charCodeAt(D)-48;var w=c&1<<h;c|=1<<h;if(0<=h&&8>=h){var k=d[D+1];var l=b.indexOf(k);-1!==l||w||this.mn(a,h,e,511);w=1;"-"===k&&(w=0,D+=1,k=d[D+1],l=b.indexOf(k));for(;-1!==l;)this.Rs(a,h,e,k,w,511),g[h]|=1<<l,w||(g[h]|=1<<this.Om),D+=1,k=d[D+1],l=b.indexOf(k)}}for(D=0;9>D;D+=1)0!==(c&1<<D)&&(f+=this.mq(D,g));return f},Oq:function(a,
d){var e;for(e=0;512>e;e+=1)a[e]=0!==(d&1<<(e&7))?1:0!==(e&16)?1:0},Mq:function(a,d,e,m,b,B){var g,F=0,f=this.bj,h=this.ct;var w=(1<<this.Oi+1)/6|0;var k=new Uint8Array(512);var l=511;m?l=254:b&&(l=186);for(g=0;512>g;g+=1)k[g]=0,f[g]=0,h[g]=m?g:(g&448)>>6|g&56|(g&7)<<6;if(""!==e){B="MAP";for(g=0;g<w;g+=1)B+=e[g],d=c.Qj.indexOf(e[g]),k[F]=d>>5,F+=1,k[F]=d>>4&1,F+=1,k[F]=d>>3&1,F+=1,k[F]=d>>2&1,F+=1,k[F]=d>>1&1,F+=1,k[F]=d&1,F+=1;d=c.Qj.indexOf(e[g]);k[F]=d>>5;k[F+1]=d>>4&1;B+=c.Qj[d&48];for(g=0;512>
g;g+=1){e=0;w=c.Oi;for(F=8;0<=F;--F)0!==(l&1<<F)&&(0!==(g&1<<F)&&(e|=1<<w),--w);f[h[g]]=k[e]}}else m||b?(g=this.Op(f,a,!1,l),l=this.Op(f,d,!0,l)):(g=this.Np(f,a,!1),l=this.Np(f,d,!0)),B=-1!==B?l+"/"+g+"/"+B:"B"+g+"/S"+l;return B},At:function(a,d){var e,m="";for(e=0;e<=d;e+=1){var b=this.kl[e];-1!==a.indexOf(b)&&(m+=this.kl[d-e])}return m},wt:function(a){var d,e="";for(d=0;9>d;d+=1){var m=this.kl[d];-1===a.indexOf(m)&&(e+=m)}return e},Cp:function(a){var d=a,e=0;if(-1!==a.indexOf(" "))for(d="";e<a.length;)" "!==
a[e]&&(d+=a[e]),e+=1;return d},$q:function(a,d){for(var e=!0,m=0,b,c=1;c<d.length&&e;)b=this.Uf.indexOf(d[c]),-1!==b?m=10*m+b:(this.U="Illegal character in Wolfram rule",e=!1),c+=1;e&&(2>m||254<m?(this.U="Wolfram rule number must be 2-254",e=!1):0!==(m&1)?(this.U="Wolfram rule number must be even",e=!1):(this.Oq(this.bj,m),a.Kf=m,a.na="W"+m));return e},nq:function(a,d){var e=null;""===d&&(a.R?a.na+="H":a.xc&&(a.na+="V"),e=AliasManager.kr(a.na),a.pb&&(a.na+="History"));-1!==a.jd&&(a.na+=":"+c.ho[a.jd].toUpperCase(),
a.na+=a.me,a.Ci&&(a.na+="+"+a.Ci),a.zm&&(a.na+="*"),a.mf!==a.me||a.Kh||a.wk)&&(a.na+=","+a.mf,a.Kh&&(a.na+="+"+a.Kh),a.wk&&(a.na+="*"));null!==e&&(""===e&&(e=a.pb?"Life":"Conway's Life"),a.pb&&(e+="History"),a.Zn=e)},ot:function(a,d){var e=c.Qh,m=a.length;m>=e?this.Oi=8:(e=c.Dk,m>=e?(this.Oi=6,d.R=!0):(e=c.Ek,m>=e?(this.Oi=4,d.xc=!0):e=-1));if(0<=e)for(d=0;d<e;d+=1)-1===c.Qj.indexOf(a[d])&&(e=-1);return e},dd:function(a,d,e,m,b){var c=0,g=d.length,F=a.substr(this.index,g);if(F!==d)","===d[0]&&(","===
F[0]?(F=F.substr(1),d=d.substr(1)):(F=F[0],d=d[0])),this.U="LTL expected '"+d.toUpperCase()+"' got '"+F.toUpperCase()+"'",this.index=-1;else if(","===d[0]&&(d=d.substr(1)),this.index+=g,g=a[this.index],"n"===d)"m"===g||"n"===g?(this.index+=1,"n"===g&&(c=1)):(this.U="LTL expected 'NM' or 'NN' got 'N"+g.toUpperCase()+"'",this.index=-1);else if("0">g||"9"<g)this.U="LTL '"+b+d.toUpperCase()+"' needs a number",this.index=-1;else{for(;"0"<=g&&"9">=g;)c=10*c+(g-0),this.index+=1,g=a[this.index];-1!==e&&c<
e&&(this.U="LTL '"+b+d.toUpperCase()+c+"' < "+e,this.index=-1);-1!==m&&c>m&&(this.U="LTL '"+b+d.toUpperCase()+c+"' > "+m,this.index=-1)}return c},Uq:function(a,d){var e=!1;this.index=0;var m=this.dd(d,"r",this.mp,this.jp,"");-1!==this.index&&(a.Cf=m,m=this.dd(d,",c",this.Wr,this.Lr,""),-1!==this.index&&(2>m&&(m=2),a.u=m,m=this.dd(d,",m",this.Rr,this.Gr,""),-1!==this.index&&(a.Sh=m,m=this.dd(d,",s",0,-1,""),-1!==this.index&&(a.Zd=m,m=this.dd(d,"..",a.Zd,-1,"S"),-1!==this.index&&(a.Xc=m,m=this.dd(d,
",b",0,-1,""),-1!==this.index&&(a.bf=m,m=this.dd(d,"..",a.bf,-1,"B"),-1!==this.index&&(a.Yd=m,m=this.dd(d,",n",-1,-1,""),-1!==this.index&&(a.xc=m?!0:!1,e=!0))))))));e&&(this.index!==d.length?(e=!1,this.U="LTL invalid characters after rule"):(d=(2*a.Cf+1)*(2*a.Cf+1),a.xc&&(d=(d+1)/2),a.bf>d&&(e=!1,this.U="LTL 'B"+a.Yd+"..' > "+d),a.Yd>d&&(e=!1,this.U="LTL 'B.."+a.Yd+"' > "+d),a.Zd>d&&(e=!1,this.U="LTL 'S"+a.Xc+"..' > "+d),a.Xc>d&&(e=!1,this.U="LTL 'S.."+a.Xc+"' > "+d)));return e},Vq:function(a,d){var e=
!1;this.index=0;a.u=2;a.Sh=0;a.xc=!1;var m=this.dd(d,"",this.mp,this.jp,"");-1!==this.index&&(a.Cf=m,m=this.dd(d,",",0,-1,""),-1!==this.index&&(a.bf=m,m=this.dd(d,",",a.bf,-1,"B"),-1!==this.index&&(a.Yd=m,m=this.dd(d,",",0,-1,""),-1!==this.index&&(a.Zd=m,m=this.dd(d,",",a.Zd,-1,"S"),-1!==this.index&&(a.Xc=m,e=!0)))));e&&(this.index!==d.length?(e=!1,this.U="LTL invalid characters after rule"):(d=(2*a.Cf+1)*(2*a.Cf+1),a.bf>d&&(e=!1,this.U="LTL 'B"+a.Yd+"..' > "+d),a.Yd>d&&(e=!1,this.U="LTL 'B.."+a.Yd+
"' > "+d),a.Zd>d&&(e=!1,this.U="LTL 'S"+a.Xc+"..' > "+d),a.Xc>d&&(e=!1,this.U="LTL 'S.."+a.Xc+"' > "+d)));return e},zi:function(a,d){var e=!1,m=null,b=null,B=null;var g=this.kl;var f=c.Po.length;var D=c.iq.length;var h="";var w=AliasManager.lr(d);null!==w&&(""===d&&(a.na="Conway's Life"),d=w);if("map"===d.substr(0,3).toLowerCase())if(h=d.substr(3),D=h.indexOf("/"),-1===D?"=="===h.substr(-2)&&(h=h.substr(0,h.length-2)):"=="===h.substr(D-2,2)&&(h=h.substr(0,D-2)+h.substr(D)),g=this.ot(h,a),0<=g)if(e=
!0,B=h.substr(g),h=h.substr(0,g),"/"===B[0]){d=1;for(D=a.u=0;d<B.length&&-1!==D;)D=this.Uf.indexOf(B[d]),-1!==D?a.u=10*a.u+D:(this.U="Illegal character in generations number",a.u=-1,e=!1),d+=1;-1!==a.u&&(2>a.u||256<a.u)&&(this.U="Generations number must be 2-256",a.u=-1,e=!1)}else""!==B&&(d=B.length,this.U="MAP length must be "+c.Ek+", "+c.Dk+" or "+c.Qh+" not "+(d+g),e=!1);else this.U=h.length===c.Qh||h.length===c.Dk||h.length===c.Ek?"MAP contains illegal base64 character":"MAP length must be "+
c.Ek+", "+c.Dk+" or "+c.Qh+" not "+h.length;else if(d=d.toLowerCase(),d=this.Cp(d),"r"===d[0]||"1"<=d[0]&&"9">=d[0]&&-1!==d.indexOf(",")){if(e="r"===d[0]?this.Uq(a,d):this.Vq(a,d))a.ac=!0,a.na="R"+a.Cf+",C"+a.u+",M"+a.Sh+",S"+a.Zd+".."+a.Xc+",B"+a.bf+".."+a.Yd+",N",a.na=a.xc?a.na+"N":a.na+"M",0===a.Sh&&(a.Zd+=1,a.Xc+=1)}else if("w"===d[0])e=this.$q(a,d);else{w=d.lastIndexOf(c.Po);-1!==w&&w===d.length-f&&(a.R=!0,d=d.substr(0,d.length-f),g=this.vr);f=d.lastIndexOf(c.iq);-1!==f&&f===d.length-D&&(a.xc=
!0,d=d.substr(0,d.length-D),g=this.st);D=d.indexOf("/");-1===D&&(D=d.indexOf("_"));-1!==D&&(f=d.lastIndexOf("/"),-1===f&&(f=d.lastIndexOf("_")),f!==D&&(B=d.substring(f+1),d=d.substr(0,f)));f=d.indexOf("b");w=d.indexOf("s");-1===D?0===f||0===w?-1===w?(m=d,b=""):-1===f?(b=d,m=""):f<w&&-1!==w?(m=d.substring(f+1,w),b=d.substring(w+1)):(b=d.substring(w+1,f),m=d.substring(f+1)):this.U="Unsupported rule name":f<w?(m=d.substring(0,D),b=d.substring(D+1)):(m=d.substring(D+1),b=d.substring(0,D));-1!==f&&m&&
"b"===m[0]&&(m=m.substring(1));-1!==w&&b&&"s"===b[0]&&(b=b.substring(1));if(null!==B){d=0;for(D=a.u=0;d<B.length&&-1!==D;)D=this.Uf.indexOf(B[d]),-1!==D?a.u=10*a.u+D:(this.U="Illegal character in generations number",a.u=-1,m=null),d+=1;-1!==a.u&&(2>a.u||256<a.u)&&(this.U="Generations number must be 2-256",a.u=-1,m=null)}if(null!==m&&null!==b){e=!0;for(d=0;d<m.length;)D=g.indexOf(m[d]),-1===D?(this.U="Illegal character in birth specification",e=!1,d=m.length):d+=1;if(e)for(d=0;d<b.length;)D=g.indexOf(b[d]),
-1===D?(this.U="Illegal character in survival specification",e=!1,d=b.length):d+=1}}e&&-1===a.Kf&&!1===a.ac&&(a.na=this.Mq(m,b,h,a.R,a.xc,a.u),this.nq(a,h));return e},to:function(a,d,e,m){var b=0,B=d.length-1,g=!1,f=!0,D,h=0,w=0,k=0,l=0,q=this.qd;for(D=d[b];!g;){var E=D;D=d[b+1];var C=-1;switch(E){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":l=10*l+parseInt(E,10);break;case "b":C=0;break;case "o":C=1;break;case ".":C=0;break;case "z":C=7;a.pb=!0;a.Hi=!0;
break;case "$":0===l&&(l=1);k+=l;l=0;w>h&&(h=w);w=0;break;case "!":0===l&&(l=1);k+=l;l=0;w>h&&(h=w);g=!0;break;default:f=!1,"A"<=E&&"X">=E?(f=!0,C=E.charCodeAt(0)-64):"p"<=E&&"y">E?"A"<=D&&"X">=D?(f=!0,C=24*(E.charCodeAt(0)-111)+(D.charCodeAt(0)-64),b+=1,D=d[b+1]):"x"===E&&(f=!0,a.pb=!0,a.Hi=!0,C=3):"y"===E&&("A"<=D&&"O">=D?(f=!0,C=24*(E.charCodeAt(0)-111)+(D.charCodeAt(0)-64),b+=1,D=d[b+1]):(f=!0,a.pb=!0,a.Hi=!0,C=5))}if(0<=C)if(0===l&&(l=1),e||(0===q[C]&&(a.Qi+=1),q[C]+=l,C>=a.xf&&(a.xf=C+1)),0<
C&&e)for(;0<l;){a.ld[k][w]=-1===a.u?C:0<=a.u-C?a.u-C:1;if(!a.pb&&-1===a.u||a.pb&&C&1||-1!==a.u&&1===C)a.Sb[k][w>>4]|=1<<(~w&15);w+=1;--l}else w+=l,l=0;f||(" "===E||"\t"===E||"\n"===E?f=!0:g=a.Mh=!0);b+=1;b===B&&(g||(0===l&&(l=1),k+=l,l=0,w>h&&(h=w)),g=!0)}e||(a.width=h,a.height=k,0<h&&0<k&&(h>c.maxWidth||k>c.maxHeight?(a.Gf=!0,a.Mh=!0):(a.Sb=Array.$(Uint16,k,(h-1>>4)+1,0,m,"Pattern.lifeMap"),a.ld=Array.$(Uint8,k,h,0,m,"Pattern.multiStateMap"),a.qe="RLE")));a.Mh&&(b=-1);return b},Ns:function(a,d){var e=
d.indexOf("\n");-1===e&&(e=d.length);a.tp=d.substring(0,e).trim()},dl:function(a,d,e){for(var m=!1;d<e&&!m;)" "===a[d]?d+=1:m=!0;return d},qs:function(a){var d=a.indexOf("\n"),e=0,m=!1,b=0;-1===d&&(d=a.length);for(;b<d&&!m;)"="===a[b]?m=!0:" "!==a[b]?m=!0:b+=1;if(m&&"="===a[b]){b=this.dl(a,b+1,d);for(m=!1;b<d&&!m;){var B=c.Uf.indexOf(a[b]);-1!==B?(e=10*e+B,b+=1):m=!0}this.Yf=!0;this.wm=e}},rs:function(a){var d=a.indexOf("\n"),e=0,m=0,b=!1,B=!1,g=!1,f=0;-1===d&&(d=a.length);for(;f<d&&!g;)"="===a[f]?
g=!0:" "!==a[f]?g=!0:f+=1;if(g&&"="===a[f]&&(f=this.dl(a,f+1,d),f<d)){"-"===a[f]&&(b=!0,f+=1);for(g=!1;f<d&&!g;){var D=c.Uf.indexOf(a[f]);-1!==D?(e=10*e+D,f+=1):g=!0}this.Pe=!0;this.Ym=b?-e:e;f=this.dl(a,f,d);if(f<d&&","===a[f]&&(f=this.dl(a,f+1,d),f<d)){"-"===a[f]&&(B=!0,f+=1);for(g=!1;f<d&&!g;)D=c.Uf.indexOf(a[f]),-1!==D?(m=10*m+D,f+=1):g=!0;this.Zm=B?-m:m}}},yq:function(a){var d=a.indexOf(c.dr);0===d&&(d=a.indexOf(c.Ap),-1!==d&&this.rs(a.substr(d+c.Ap.length)),d=a.indexOf(c.Go),-1!==d&&this.qs(a.substr(d+
c.Go.length)))},Ms:function(a,d){var e=d.indexOf("\n");-1===e&&(e=d.length);a.name=d.substring(0,e).trim()},Xn:function(a,d){var e=d.indexOf("\n");-1===e&&(e=d.length);a.title+=d.substring(0,e)+" ";return e+1},od:function(a){var d=-1;a+=" ";var e=this.Uf.indexOf(a[this.index]);if(-1!==e)for(d=0;-1!==e;)d=10*d+e,this.index+=1,e=this.Uf.indexOf(a[this.index]);return d},Yq:function(a,d){d=this.od(d);a.me=d;a.mf=d},Zq:function(a,d){var e=this.od(d),m=-1,b=0,c=0;if(-1!==e){var g=d[this.index];if("-"===
g||"+"===g)this.index+=1,b=this.od(d),-1===b?e=-1:"-"===g&&(b=-b);if(","===d[this.index])if(this.index+=1,m=this.od(d),-1===m)e=-1;else{if(g=d[this.index],"-"===g||"+"===g)this.index+=1,c=this.od(d),-1===c?e=-1:"-"===g&&(c=-c)}else m=e}0!==b&&0!==c&&(e=-1);0===e&&0===m&&(e=-1);0===b&&0===c||0!==e&&0!==m||(e=-1);a.me=e;a.mf=m;a.Ci=b;a.Kh=c},Tq:function(a,d){var e=this.od(d),m=-1,b=0,c=0,g=!1,f=!1;if(-1!==e){var D=d[this.index];"*"===D&&(g=!0,this.index+=1,D=d[this.index]);if("-"===D||"+"===D)b=this.od(d),
-1===b?e=-1:"-"===D&&(b=-b),this.index+=1,D=d[this.index];if(","===D)if(this.index+=1,m=this.od(d),-1===m)e=-1;else{if(D=d[this.index],"*"===D&&(f=!0,this.index+=1,D=d[this.index]),"-"===D||"+"===D)this.index+=1,c=this.od(d),-1===c?e=-1:"-"===D&&(c=-c)}else m=e}g&&f&&(e=-1);0!==b&&0!==c&&(e=-1);if(g&&0!==c||f&&0!==b)e=-1;if(0===e||0===m)e=-1;g||f||(g=!0);a.me=e;a.mf=m;a.Ci=b;a.Kh=c;a.zm=g;a.wk=f},Sq:function(a,d){var e=this.od(d),b=-1;-1!==e&&(","===d[this.index]?(this.index+=1,b=this.od(d),-1===
b&&(e=-1)):b=e);a.me=e;a.mf=b},Wq:function(a,d){var e=this.od(d),b=-1;-1!==e&&(","===d[this.index]?(this.index+=1,b=this.od(d),-1===b&&(e=-1)):b=e);0===e&&0===b&&(e=-1);a.me=e;a.mf=b},Qq:function(a,d){var e=!1;d=this.Cp(d).toLowerCase();if(""!==d){a.jd=this.ho.indexOf(d[0]);if(-1!==a.jd)switch(this.index=1,a.jd){case 0:this.Wq(a,d);break;case 1:this.Zq(a,d);break;case 2:this.Tq(a,d);break;case 3:this.Sq(a,d);break;case 4:this.Yq(a,d);break;default:a.me=-1}-1!==a.me?e=!0:(a.jd=-1,this.reason="Invalid bounded grid definition '"+
d+"'")}return e},Xq:function(a,d){var e=0,b;this.Ud=this.Vd=-1;if("x"===a[e]){for(e+=1;e<d&&" "===a[e];)e+=1;for(e<d&&"="===a[e]&&(e+=1);e<d&&" "===a[e];)e+=1;var c=0;for(b=!1;e<d&&"0"<=a[e]&&"9">=a[e];)c=10*c+(a[e]-0),e+=1,b=!0;b&&(this.Vd=c);for(;e<d&&" "===a[e];)e+=1;for(e<d&&","===a[e]&&(e+=1);e<d&&" "===a[e];)e+=1}if("y"===a[e]){for(e+=1;e<d&&" "===a[e];)e+=1;for(e<d&&"="===a[e]&&(e+=1);e<d&&" "===a[e];)e+=1;c=0;for(b=!1;e<d&&"0"<=a[e]&&"9">=a[e];)c=10*c+(a[e]-0),e+=1,b=!0;b&&(this.Ud=c);for(;e<
d&&" "===a[e];)e+=1}},uo:function(a,d,e){var b=d.indexOf("\n"),F=d.indexOf("rule"),B=c.Ro.length,g="";-1===b&&(b=d.length);this.Xq(d,b);-1===F?e?g="":g=d.substring(1,b).trim():(g=d.substring(F+4,b).trim(),"="===g[0]&&(g=g.substring(1).trim()));a.na=g;d=g.lastIndexOf(c.vq);-1!==d&&(this.Qq(a,g.substring(d+1))?g=g.substr(0,d).trim():d=-2);e=g.toLowerCase().lastIndexOf(c.Ro);-1!==e&&e===g.length-B&&(a.pb=!0,g=g.substr(0,g.length-B).trim());this.zi(a,g)&&-2!==d?this.za=!0:this.Jh=!0;return b+1},fo:function(a){switch(a){case 0:a=
"Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a},so:function(a,d,e){var b=0,F=d.length,B=!1,g=!1;var f=this.qd;var D=c.Kr,h;a.jd=-1;a.width=0;a.height=0;a.Gf=!1;a.Sb=null;a.ld=null;a.Mh=!1;a.pb=!1;a.Hi=!1;a.R=!1;a.Kf=-1;a.xc=!1;a.u=-1;a.ac=!1;a.Cf=-1;a.Sh=1;a.Zd=-1;a.Xc=-1;a.bf=-1;a.Yd=-1;a.title="";a.xf=2;for(h=a.Qi=0;h<D;h+=1)f[h]=0;for(d+=" ";b<F&&!a.Mh;)switch(f=d[b],f){case "#":b+=1;f=d[b];
b+=1;switch(f){case "N":this.Ms(a,d.substring(b));break;case "O":this.Ns(a,d.substring(b));break;case "C":this.yq(d.substring(b));break;case "\n":--b}b+=this.Xn(a,d.substring(b));break;case "x":b+=this.uo(a,d.substring(b),!0);g=!0;break;case "\n":b+=1;break;default:B?b+=this.Xn(a,d.substring(b)):(B=!0,-1!==this.to(a,d.substring(b),!1,e)&&(b+=this.to(a,d.substring(b),!0,e)))}g||(this.zi(a,"")?this.za=!0:this.Jh=!0);-1!==a.jd&&(a.me>=this.maxWidth-4||a.mf>=this.maxHeight-4)&&(this.U="Bounded grid is too big",
this.za=!1,a.jd=-1);a.ac&&(1<a.jd&&(this.U="LTL only supports Plane or Torus",this.za=!1,this.jd=-1),a.R&&(this.U="LTL does not support Hex grid",this.za=!1,a.R=!1));-1!==a.u&&a.pb&&!a.ac&&(this.U="[R]History not valid with Generations",this.za=a.pb=!1);-1!==a.u&&this.bj[0]&&!a.ac&&(this.U="Generations does not support B0",this.za=!1);a.ac&&a.pb&&(this.U="[R]History not valid with LTL",this.za=a.pb=!1);this.za&&(a.Hi?8<a.xf&&(this.U="Illegal state in pattern for Niemiec",this.za=!1):a.pb?7<a.xf&&
(this.U="Illegal state in pattern for [R]History",this.za=!1):-1!==a.u&&a.xf>a.u&&(this.U=a.ac?"Illegal state in pattern for LTL":"Illegal state in pattern for Generations",this.za=!1))},create:function(a,d,e){a=new f(a);this.za=this.Jh=this.Gf=!1;this.U="";this.Yf=!1;this.wm=0;this.Pe=!1;this.Zm=this.Ym=0;this.Ud=this.Vd=-1;if("!"===d.substr(0,1)||"O"===d.substr(0,1)||"."===d.substr(0,1)||"*"===d.substr(0,1)||"o"===d.substr(0,1))this.Rq(a,d,e),this.za=!0;null===a.Sb&&(this.za=!1,"#Life 1.05"===d.substr(0,
10)?this.ro(a,d,!0,e):"#Life 1.06"===d.substr(0,10)?(this.Pq(a,d,e),this.za=!0):"#"===d[0]||"x"===d[0]?(this.so(a,d,e),null!==a.Sb||a.Gf||a.Mh||(this.ro(a,d,!1,e),this.Jh=!1,a.ld=null,a.pb=!1,a.xf=2,a.Qi=0)):this.so(a,d,e));a.Gf&&(this.U="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",this.Gf=!0,this.za=!1);-1!==a.jd&&(a.na=a.na.substr(0,a.na.lastIndexOf(":")));null===a.Sb&&(a.Gf||(this.U="Invalid pattern"),a=null,this.za=!1);return a}};window.PatternManager=c;window.Pattern=f})();(function(){function b(){this.$l=[]}b.prototype.add=function(b,a,d){this.$l[this.$l.length]=b<<16|a<<8|d};var f={ff:[],cj:[],Uo:!1,fm:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,
179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,
39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,
0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,
62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,
226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],em:[],kc:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",
255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",
0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],
darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",
128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},vt:function(){return this.em},no:function(b){for(var a=0,d=!1,e=[];a<this.cj.length&&!d;)b===this.cj[a][0]?d=!0:a+=1;d&&(e=this.ff[this.cj[a][1]].$l);return e},ta:function(b){this.cj[this.cj.length]=b},ne:function(){var c,a=0,d;if(!this.Uo){this.Uo=!0;for(c=d=0;256>c;c+=1)this.em[c]=this.fm[d]<<16|this.fm[d+1]<<8|this.fm[d+2],d+=3;c=new b;c.add(0,0,0);c.add(0,255,0);c.add(0,0,128);
c.add(216,255,216);c.add(255,0,0);c.add(255,255,0);c.add(96,96,96);c.add(255,128,128);this.ff[a]=c;f.ta(["LifeHistory",a]);a+=1;c=new b;c.add(48,48,48);c.add(0,128,255);c.add(255,255,255);c.add(255,128,0);this.ff[a]=c;f.ta(["WireWorld",a]);a+=1;c=new b;c.add(0,0,0);c.add(255,255,255);c.add(144,128,112);c.add(144,90,45);c.add(192,192,192);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(0,255,0);c.add(0,255,208);c.add(0,192,255);c.add(0,0,255);c.add(192,0,255);c.add(255,64,160);c.add(112,128,
144);c.add(0,128,0);c.add(0,96,128);c.add(160,0,80);c.add(40,40,40);c.add(220,220,220);c.add(140,60,0);c.add(0,160,0);c.add(160,160,250);this.ff[a]=c;f.ta(["WWE",a]);f.ta(["WWE2",a]);f.ta(["WWEJ",a]);f.ta(["WWEJ2",a]);f.ta(["WWEJ3",a]);a+=1;c=new b;c.add(30,30,30);c.add(0,128,128);c.add(0,255,0);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(128,0,128);c.add(128,128,128);c.add(255,255,255);c.add(128,128,255);this.ff[a]=c;f.ta(["Novoloop",a]);a+=1;c=new b;c.add(0,0,0);c.add(255,128,0);c.add(255,
0,0);c.add(0,255,0);c.add(0,0,255);c.add(0,190,0);c.add(0,140,0);c.add(255,255,255);c.add(80,80,80);c.add(95,95,95);c.add(128,128,128);c.add(0,64,0);c.add(255,255,0);c.add(64,0,164);c.add(64,32,64);c.add(80,80,100);c.add(95,95,125);c.add(128,255,128);c.add(64,100,100);this.ff[a]=c;f.ta(["shapeloop",a]);f.ta(["shapeloop-b",a]);f.ta(["shapeloop2",a]);f.ta(["shapeloop-ltd",a]);f.ta(["2armshapeloop-a",a]);f.ta(["2armshapeloop2-a",a]);f.ta(["shapeloop2a-bounded",a]);f.ta(["foodshapeloop",a]);f.ta(["foodshapeloop2",
a]);a+=1;c=new b;c.add(0,0,0);c.add(255,255,255);c.add(255,0,0);c.add(0,128,255);c.add(170,0,0);c.add(85,0,0);this.ff[a]=c;f.ta(["b3s23mmg",a]);a+=1;c=new b;c.add(0,0,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(255,255,0);c.add(0,255,255);c.add(255,0,255);c.add(92,36,110);c.add(0,99,140);c.add(176,196,222);c.add(115,61,26);this.ff[a]=c;f.ta(["_235_4_O3",a]);f.ta(["0_245_5_O4",a]);f.ta(["0_245_5_O3",a]);f.ta(["58_27_4_O3",a]);f.ta(["0_24_4H_O3",a]);f.ta(["2_235_4H_O3",a]);f.ta(["24_235_4H_O3",
a]);f.ta(["3_25_4_O2",a]);f.ta(["Snake_O5",a]);f.ta(["Mites",a]);f.ta(["Mites2",a]);f.ta(["Mites3",a]);a+=1;c=new b;c.add(48,48,48);c.add(255,128,0);c.add(0,0,255);c.add(32,32,255);c.add(64,64,255);c.add(96,96,255);this.ff[a]=c;f.ta(["Alpha-1",a])}}};window.ColourManager=f})();window.BoundingBox=function(b,f,c,a){this.X=b;this.V=f;this.Y=c;this.Z=a};(function(){function b(b,a){this.index=a;this.aa=b.sh[a];this.Ia=b.Kg[a];this.o=b.tk[a];this.h=b.Rj[a];this.G=new BoundingBox(0,0,0,0);this.Ic=this.ba=this.i=this.wc=this.vc=this.Tb=0;this.c=b}function f(b,a){this.l=b;this.Ub=[];this.Gd=[];this.sh=[];this.Kg=[];this.tk=[];this.Rj=[];this.c=0;this.index=-1;this.Jr=51;this.Pc=[];this.bo=a}b.prototype.Es=function(b,a,d){var e=a.length,m=a[0].length,c,B,g=0,f,D=d.nj;d=d.oj;var h,w=0,k=this.o,l=0,q=k[l],E=q.length;Array.ad(this.aa,a);for(c=0;c<e;c+=1){var C=
this.aa[c];for(a=h=0;a<m;a+=1)if(f=C[a])for(B=15;0<=B;--B){if(0!==(f&1<<B)){var K=w;var r=h;var G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=
G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;K+=2;G=q[g];g+=1;b[K][r]=G&255;b[K][r+1]=G>>8&255;b[K+1][r]=G>>16&255;b[K+1][r+1]=G>>24;g>=E&&(l+=1,q=k[l],g=0)}h+=D}else h+=D<<4;w+=d}};b.prototype.Js=function(b,a,d){var e=a.length,m=a[0].length,c,B=0,g;var f=0;var D=d.nj,h=d.oj,w,k=0,l=this.o,q=0,E=l[q],C=E.length,K=l.length;var r=this.c.bo;Array.ad(a,
this.aa);for(c=0;c<e;c+=1){var G=a[c];for(d=0;d<m;d+=1)(g=G[d])&&(f+=r[g])}if(f)for(c=0;c<e;c+=1){G=a[c];for(d=w=0;d<m;d+=1)if(g=G[d])for(f=15;0<=f;--f){if(0!==(g&1<<f)){var p=k;r=w;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;
B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;p+=2;E[B]=b[p][r]|b[p][r+1]<<8|b[p+1][r]<<16|b[p+1][r+1]<<24;B+=1;B>=C&&(q+=1,B=0,q>=K&&(Array.Wn(l,"Snapshot.gridBufferRow"),K+=1));E=l[q]}w+=D}else w+=D<<4;k+=h}};b.prototype.Ds=function(b,a,d){var e=a.length,m=a[0].length,c,B,g,f=0,D,h=d.nj<<3,w=d.oj,k,l=0,q=this.h,E=0,C=q[E],K=C.length;Array.ad(this.Ia,a);for(c=0;c<e;c+=1){var r=a[c];for(d=k=0;d<m;d+=1)if(D=
r[d])for(B=15;0<=B;--B){if(0!==(D&1<<B))for(g=k;g<k+h;g+=4){var G=l;var p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;
p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+
3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;G+=1;p=C[f];f+=1;b[G][g]=p&255;b[G][g+1]=p>>8&255;b[G][g+2]=p>>16&255;b[G][g+3]=p>>24;f>=K&&(E+=1,C=q[E],f=0)}k+=h}else k+=h<<4;l+=w}};b.prototype.Gs=
function(b,a,d){var e=a.length,m=a[0].length,c,B=0,g;var f=0;var D=d.nj<<3,h=d.oj,w,k=0,l=this.h,q=0,E=l[q],C=E.length,K=l.length;var r=this.c.bo;Array.ad(a,this.Ia);for(c=0;c<e;c+=1){var G=a[c];for(d=0;d<m;d+=1)(g=G[d])&&(f+=r[g])}if(f)for(c=0;c<e;c+=1){G=a[c];for(d=w=0;d<m;d+=1)if(g=G[d])for(f=15;0<=f;--f){if(0!==(g&1<<f))for(r=w;r<w+D;r+=4){var p=k;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+
1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|
b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;p+=1;E[B]=b[p][r]|b[p][r+1]<<8|b[p][r+2]<<16|b[p][r+3]<<24;B+=1;B>=C&&(q+=1,B=0,q>=K&&(Array.Wn(l,"Snapshot.colourGridBufferRow"),K+=1),E=l[q])}w+=D}else w+=D<<4;k+=h}};f.prototype.bufferSize=function(){for(var b=
0,a=0;a<this.Gd.length;)b+=this.sh[a].length*this.sh[a][0].length*2,b+=this.Kg[a].length*this.Kg[a][0].length*2,b+=this.tk[a].length*this.tk[a][0].length*4,b+=this.Rj[a].length*this.Rj[a][0].length*4,a+=1;return b};f.prototype.nt=function(){for(var b=0,a=0;a<this.Gd.length;)this.Gd[a]&&(b+=1),a+=1;return b};f.prototype.reset=function(){var b=0,a;this.Ub=[];for(this.index=-1;b<this.Gd.length;){var d=!1;for(a=0;a<this.Pc.length&&!d;)b===this.Pc[a].index?d=!0:a+=1;d||(this.Gd[b]=!1);b+=1}};f.prototype.Ws=
function(b){var a=null;0<this.Ub.length&&(a=this.Ub[this.index],a.i>b&&(a=null,0<this.index&&(this.h(this.Ub[this.index].index),this.Ub.pop(),--this.index,0<=this.index&&(a=this.Ub[this.index]))));return a};f.prototype.ej=function(b,a,d,e,m,f,B,g,P,D,h,w,k,l,q){var c=null,F=0,K=this.Pc.length,r=!1;if(k){for(;F<K&&!r;)this.Pc[F].i===P?r=!0:F+=1;r?c=this.Pc[F]:alert("reset snapshot at generation "+P+" not found!")}else if(51>this.Ub.length)c=this.cm(D,h,!1,P),this.index+=1;else{this.index+=1;if(51<=
this.index){this.index=50;this.h(this.Ub[0].index);for(F=0;50>F;F+=1)this.Ub[F]=this.Ub[F+1];this.Ub.pop();this.cm(D,h,!1,P)}c=this.Ub[this.index]}c.ba=l;c.Ic=q;c.Js(b,a,w);c.Gs(d,e,w);c.G.X=m.X;c.G.Y=m.Y;c.G.V=m.V;c.G.Z=m.Z;c.Tb=f;c.vc=B;c.wc=g;c.i=P};f.prototype.h=function(b){this.Gd[b]=!1};f.prototype.B=function(b,a){for(var d=0,e=!1;d<this.c&&!e;)this.Gd[d]?d+=1:e=!0;e?(b=d,this.Gd[d]=!0):(this.sh[d]=Array.$(Uint16,a,b,0,this.l,"Snapshot.tileGrid"+d),this.Kg[d]=Array.$(Uint16,a,b,0,this.l,"Snapshot.colourTileGrid"+
d),this.tk[d]=Array.$(Uint32,1,1024,0,this.l,"Snapshot.gridBuffer"+d),this.Rj[d]=Array.$(Uint32,1,8192,0,this.l,"Snapshot.colourGridBuffer"+d),this.Gd[d]=!0,this.c+=1,b=d);return b};f.prototype.cm=function(c,a,d,e){var m=0,f=this.Pc.length,B=!1;c=this.B(c,a);if(d){for(;m<f&&!B;)this.Pc[m].i===e?B=!0:m+=1;B?d=this.Pc[m]:(d=new b(this,c),this.Pc[this.Pc.length]=d)}else d=new b(this,c),this.Ub[this.Ub.length]=d;return d};f.prototype.o=function(b,a,d,e){var m=b.aa,c=b.Ia,f=b.aa.length,g=f>>1,P=b.aa[0].length>>
1,D=0,h=b.index;this.sh[h]=Array.$(Uint16,d,a,0,this.l,"Snapshot.tileGrid"+h);this.Kg[h]=Array.$(Uint16,d,a,0,this.l,"Snapshot.colourTileGrid"+h);b.aa=this.sh[h];for(b.Ia=this.Kg[h];D<f;)b.aa[D+g].set(m[D],P),b.Ia[D+g].set(c[D],P),D+=1;b.G.X+=e;b.G.Y+=e;b.G.V+=e;b.G.Z+=e};f.prototype.Cs=function(b,a,d){for(var e=0,m=this.Pc.length;e<m;)this.o(this.Pc[e],b,a,d),e+=1;e=0;for(m=this.Ub.length;e<m;)this.o(this.Ub[e],b,a,d),e+=1;for(e=0;e<this.Gd.length;)this.Gd[e]||(this.sh[e]=Array.$(Uint16,a,b,0,this.l,
"Snapshot.tileGrid"+e),this.Kg[e]=Array.$(Uint16,a,b,0,this.l,"Snapshot.colourTileGrid"+e)),e+=1};window.SnapshotManager=f;window.Snapshot=b})();window.LTL=function(b){this.l=b;this.Tb=this.Dr=this.Pr=this.Ir=this.Vr=this.et=this.Ks=this.ug=this.border=0};(function(){function b(a,b,d){this.Ya=b;this.Ua=a;this.sc=d}function f(a,b,d){this.red=a;this.green=b;this.blue=d}function c(a,b){this.O=a;this.ia=b}function a(a,b,c,f,g){this.l=new Allocator;this.Tc=this.l.ga(Uint8,65536,"Life.bitCounts16");this.xl();this.yd=this.l.ga(Uint32,d.Rh,"Life.popGraphData");this.ve=this.l.ga(Uint32,d.Rh,"Life.birthGraphData");this.Ce=this.l.ga(Uint32,d.Rh,"Life.deathGraphData");this.Oc=this.nd=this.xb=0;this.cc=1;this.ba=0;this.gl=-1;this.Ic=0;this.Aa=this.ua=this.yb=-1;
this.vi=this.ui=0;this.io=this.Vl=!1;this.Vk=ViewConstants.vo;this.Uc=[];this.Vc=[];this.Uc[0]=this.l.ga(Int32,d.dn,"Life.boundaryX0");this.Vc[0]=this.l.ga(Int32,d.dn,"Life.boundaryY0");this.kh=0;this.Ah=4294967295;this.Kf=-1;this.xc=this.Pk=this.R=!1;this.u=-1;this.jf=this.ac=this.Kc=!1;this.Dc=new SnapshotManager(this.l,this.Tc);this.eh=d.ij;this.Cb=this.Yp=!1;this.ri=this.nb=this.oc=this.G=null;this.title="LifeViewer";this.width=f;this.height=g;this.nj=2;this.oj=16;this.h=this.width>>4;this.o=
this.height>>4;this.Xk=this.Dc.cm((this.h-1>>4)+1,this.o,!0,0);this.v=b;this.s=c;this.wc=this.vc=this.Tb=0;this.W=64;this.P=127;this.Yc=63;this.Wc=1;this.Ak=this.sc=0;this.Jg=this.de=this.m=1;this.mo=30;this.angle=this.i=0;this.zoom=6;this.D=this.I=0;this.qb=.1;this.zb=0;this.S=1;this.Bb=this.Ab=0;this.c=.1;this.cg=littleEndian;this.rc=[];this.Qb=this.pa=this.qa=this.Fc=this.Wa=this.mb=null;this.qc=12;this.jc=this.lc=this.rf=null;this.$d=a;this.$a=this.Xa=0;this.aa=Array.$(Uint16,this.o,(this.h-1>>
4)+1,0,this.l,"Life.tileGrid");this.wa=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Eb=Array.$(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Pb=Array.$(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.ob=Array.hg(this.Eb,"Life.grid16");this.fa=Array.hg(this.Pb,"Life.nextGrid16");this.ye=this.l.ga(Uint32,this.v,"Life.blankPixelRow");this.fb=this.l.ga(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.hc=this.l.ga(Uint16,this.h>>4,"Life.blankTileRow");
this.we=this.l.ga(Uint8,this.width,"Life.blankColourRow");this.va=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.colourGrid");this.B=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.smallColourGrid");this.la=Array.Kd(this.B,1,"Life.smallColourGrid4");this.ma=Array.Kd(this.B,3,"Life.smallColourGrid8");this.Sa=Array.Kd(this.B,7,"Life.smallColourGrid16");this.Yh=Array.hg(this.va,"Life.colourGrid16");this.Ge=this.He=this.Cd=this.Bd=this.ka=this.Bc=null;this.Ia=Array.$(Uint16,this.o,
(this.h-1>>4)+1,0,this.l,"Life.colourTileGrid");this.Oa=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.re=this.tc=this.uc=this.Ib=null;this.pd=this.l.ga(Uint8,256,"Life.redChannel");this.fd=this.l.ga(Uint8,256,"Life.greenChannel");this.$c=this.l.ga(Uint8,256,"Life.blueChannel");this.Ne=this.l.ga(Uint32,256,"Life.pixelColours");this.l.ga(Uint8,d.Oo,"Life.indexLookup33");this.De=this.l.ga(Uint8,d.Cm,"Life.indexLookup63");this.Ee=this.l.ga(Uint8,d.Cm,"Life.indexLookup632");
this.Zh=this.l.ga(Uint8,2*(this.P+1),"Life.colourLookup");this.ei=this.l.ga(Uint8,1048576,"Life.colourReset");this.hd=this.vk=5263440;this.bg=-1;this.le=this.Am=7368816;this.ag=-1;this.wl=13750737;this.ni=15066597;this.gd=10;this.Zf=!0;this.Be=this.l.ga(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.rb=8192;this.pr=[0,0,48];this.nr=[255,255,255];this.mr=[255,255,255];this.qr=[0,255,0];this.rr=[255,0,0];this.he=[0,0,48];this.ge=[255,255,255];this.fe=[255,255,255];this.ie=[0,255,0];this.je=
[255,0,0];this.Nf=new LTL(this.l)}var d={dn:4096,Oo:512,Cm:262144,ij:50,eo:255,Rh:262144,Id:1,Sd:2,Wd:4,Fd:8,We:16,Xe:32,ze:64,Ae:128};b.prototype.tr=function(){var a=!0;this.Ya.O.Hm(this.Ya.ia)&&this.Ua.O.Hm(this.Ua.ia)&&this.Ua.O.Hm(this.sc)&&(a=!1);return a};f.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};f.prototype.Hm=function(a){var e=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(e=!0);return e};c.prototype.set=function(a){this.O.set(a.O);this.ia.set(a.ia)};
a.prototype.getState=function(a,b,d){var e=0,g=ViewConstants.Ra[3]+128,m=ViewConstants.Ra[4]+128,c=ViewConstants.Ra[5]+128,f=ViewConstants.Ra[6]+128;if(a===(a&this.Xa)&&b===(b&this.$a)){var F=this.va[b][a];d||-1!==this.u?-1!==this.u&&0<F?e=this.u-F:e=F:this.Bc?(a=this.Bc[b][a],a===m||a===f?(F>=this.W&&(a=g),e=ViewConstants.Ra[a-128]):a===g||a===c?(F<this.W&&(a=m),e=ViewConstants.Ra[a-128]):e=F===this.sc?0:F<=this.Yc?2:1):e=F<=this.Yc?0:1}return e};a.prototype.mj=function(a){var e,b,d,g=a.length,c=
a[0].length,f=this.Tc,h=0;for(e=0;e<g;e+=1){var w=a[e];for(b=0;b<c;b+=1)(d=w[b])&&(h+=f[d])}return h};a.prototype.dj=function(a,b,c){var e=this.Dc.Ub.length,g=this.Dc.Ws(a),m=!0;e!==this.Dc.Ub.length&&(this.eh-=d.ij);if(g){for(this.oi(g);this.i<a-1;)this.dh(!1,!0,c),this.Bh();this.i<a&&this.dh(b,!0,c);m=this.Bh()}return m};a.prototype.oi=function(a){var e,b=this.fb,d=this.we;this.i=a.i;if(0!==(this.i&1)){var g=this.Pb;var c=this.Eb;var f=this.wa;var h=this.aa}else g=this.Eb,c=this.Pb,f=this.aa,h=
this.wa;var w=g.length;for(e=0;e<w;e+=1)g[e].set(b),this.va[e].set(d),this.B[e].set(d);Array.ad(g,c);Array.ad(this.Oa,this.Ia);a.Es(g,f,this);a.Ds(this.va,this.Oa,this);Array.ad(f,h);Array.ad(g,c);this.G.X=a.G.X;this.G.V=a.G.V;this.G.Y=a.G.Y;this.G.Z=a.G.Z;this.Tb=a.Tb;this.vc=a.vc;this.wc=a.wc;this.ba=a.ba;this.Ic=a.Ic};a.prototype.ej=function(){if(0!==(this.i&1)){var a=this.Pb;var b=this.wa}else a=this.Eb,b=this.aa;this.pi(!1,a,b)};a.prototype.Yk=function(a){this.oi(this.Xk);this.Dc.reset();this.eh=
d.ij;a||this.ej(0)};a.prototype.pi=function(a,b,d){this.Dc.ej(b,d,this.va,this.Oa,this.G,this.Tb,this.vc,this.wc,this.i,(this.h-1>>4)+1,this.o,this,a,this.ba,this.Ic)};a.prototype.Is=function(a){this.Dc.reset();this.pi(!0,this.Eb,this.aa);a||this.ej(0)};a.prototype.No=function(){var a=this.Eb,b=this.Pb,d=this.va,c=this.B,g=this.Bc,f=this.ka,D=this.Ib,h=this.tc,w=this.uc,k=this.re,l=this.aa,q=this.wa,E=this.Ia,C=this.Oa,K=this.height,r=this.o,G=this.width>>1,p=this.height>>1,u;if(8192>this.width){this.width*=
2;this.height*=2;this.Eb=Array.$(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Pb=Array.$(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.ob=Array.hg(this.Eb,"Life.grid16");this.fa=Array.hg(this.Pb,"Life.nextGrid16");D&&(this.Ib=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask"),this.tc=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive"),this.uc=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells"));
this.h=this.width>>4;this.o=this.height>>4;D&&(this.re=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.state6TileGrid"));this.aa=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.tileGrid");this.wa=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Ia=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.colourTileGrid");this.Oa=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.fb=this.l.ga(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.hc=
this.l.ga(Uint16,this.h>>4,"Life.blankTileRow");this.we=this.l.ga(Uint8,this.width,"Life.blankColourRow");this.Be=this.l.ga(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.va=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.colourGrid");this.B=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.smallColourGrid");this.la=Array.Kd(this.B,1,"Life.smallColourGrid4");this.ma=Array.Kd(this.B,3,"Life.smallColourGrid8");this.Sa=Array.Kd(this.B,7,"Life.smallColourGrid16");this.Yh=Array.hg(this.va,
"Life.colourGrid16");g&&(this.Bc=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.overlayGrid"),this.ka=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.smallOverlayGrid"),this.Bd=Array.Kd(this.ka,1,"Life.smallColourGrid4"),this.Cd=Array.Kd(this.ka,3,"Life.smallColourGrid8"),this.He=Array.Kd(this.ka,7,"Life.smallColourGrid16"),this.Ge=Array.hg(this.Bc,"Life.overlayGrid16"));this.Xa=this.width-1;this.$a=this.height-1;for(u=0;u<K;u+=1)this.Eb[u+p].set(a[u],G>>3),this.Pb[u+p].set(b[u],
G>>3),this.va[u+p].set(d[u],G),this.B[u+p].set(c[u],G),g&&f&&(this.Bc[u+p].set(g[u],G),this.ka[u+p].set(f[u],G)),D&&h&&w&&(this.Ib[u+p].set(D[u],G>>4),this.tc[u+p].set(h[u],G>>4),this.uc[u+p].set(w[u],G>>4));p=r>>1;for(u=0;u<r;u+=1)k&&this.re[u+p].set(k[u],this.re[u].length>>2),this.aa[u+p].set(l[u],this.aa[u].length>>2),this.wa[u+p].set(q[u],this.wa[u].length>>2),this.Ia[u+p].set(E[u],this.Ia[u].length>>2),this.Oa[u+p].set(C[u],this.Oa[u].length>>2);G=this.width>>2;p=this.height>>2;this.Dc.Cs((this.h-
1>>4)+1,this.o,G);this.I+=G;this.D+=p;this.R&&(this.I-=p/2|0);this.G.X+=G;this.G.Y+=G;this.G.Z+=p;this.G.V+=p;this.oc.X+=G;this.oc.Y+=G;this.oc.Z+=p;this.oc.V+=p;this.nb.X+=G;this.nb.Y+=G;this.nb.Z+=p;this.nb.V+=p}};a.prototype.zq=function(a){var e=this.G,b=this.width,d=this.height,g=!1;8192>b&&this.ba&&(e.X<=a||e.V<=a||e.Y>=b-a||e.Z>=d-a)&&(this.No(),g=!0);return g};a.prototype.xl=function(){var a,b,d=this.Tc;for(a=0;65536>a;a+=1){var c=a;for(b=0;c;b+=1)c&=c-1;d[a]=b}};a.prototype.yl=function(){var a,
b,d=this.ei,c=this.W;for(a=0;65536>a;a+=1)for(b=0;16>b;b+=1)d[(a<<4)+b]=a&1<<15-b?c:0};a.prototype.As=function(a){var e,b=0,d=this.Tc;var g=this.G;var c=g.X>>4,f=g.Y>>4,h=g.Z;for(g=g.V;g<=h;g+=1){var w=a[g];for(e=c;e<=f;e+=1){var k=d[w[e]];b+=k}}this.Tb=b;this.wc=this.vc=0};a.prototype.Gp=function(a,b){var e=this.$d;var d=this.cg?4278190080:255;this.v=a;this.s=b;this.rf=this.lc=this.jc=null;this.jc=e.createImageData(e.canvas.width,e.canvas.height);this.jc.data.buffer?this.lc=new Uint32Array(this.jc.data.buffer):
(this.lc=new Uint32Array(this.jc.data.length>>2),this.rf=new Uint8Array(this.lc.buffer));this.ye=this.l.ga(Uint32,a,"Life.blankPixelRow");for(b=0;b<a;b+=1)this.ye[b]=d;this.Ej()};a.prototype.Eq=function(a,b,d){var e,g,m=this.va,c=a.width,f=a.height,F=this.Xa,k=this.$a,l=this.Wc,q=ViewConstants.Ra[2];for(g=0;g<f;g+=1){var E=a.ld[g];var C=m[g+d&k];for(e=0;e<c;e+=1)E[e]===q&&(C[e+b&F]=l)}};a.prototype.ir=function(){this.Ge=this.ka=this.Bc=null};a.prototype.Lq=function(){this.Bc=Array.$(Uint8,this.height,
this.width,this.sc,this.l,"Life.overlayGrid");this.ka=Array.$(Uint8,this.height,this.width,this.sc,this.l,"Life.smallOverlayGrid");this.Bd=Array.Kd(this.ka,1,"Life.smallOverlayGrid4");this.Cd=Array.Kd(this.ka,3,"Life.smallOverlayGrid8");this.He=Array.Kd(this.ka,7,"Life.smallOverlayGrid16");this.Ge=Array.hg(this.Bc,"Life.overlayGrid16")};a.prototype.jr=function(){this.re=this.uc=this.tc=this.Ib=null};a.prototype.Nq=function(){this.Ib=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask");
this.tc=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive");this.uc=Array.$(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells");this.re=Array.$(Uint16,this.o,(this.h-1>>4)+1,0,this.l,"Life.state6TileGrid")};a.prototype.ks=function(a,b,d){var e,g,m=a.width,c=a.height,f=this.Xa,F=this.$a,k=this.re;for(g=0;g<c;g+=1){var l=a.ld[g];var q=this.Ib[g-1+d&F];var E=this.Ib[g+d&F];var C=this.Ib[g+1+d&F];var K=this.uc[g+d&F];var r=k[(g-1+d&F)>>4];var G=k[(g+d&F)>>4];var p=
k[(g+1+d&F)>>4];for(e=0;e<m;e+=1)if(6===l[e]){var u=e+b&f;K[u>>4]|=1<<(~u&15);q[u>>4]|=1<<(~u&15);E[u>>4]|=1<<(~u&15);C[u>>4]|=1<<(~u&15);r[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15);u=e-1+b&f;q[u>>4]|=1<<(~u&15);E[u>>4]|=1<<(~u&15);C[u>>4]|=1<<(~u&15);r[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15);u=e+1+b&f;q[u>>4]|=1<<(~u&15);E[u>>4]|=1<<(~u&15);C[u>>4]|=1<<(~u&15);r[u>>8]|=1<<(~(u>>4)&15);G[u>>8]|=1<<(~(u>>4)&15);p[u>>8]|=1<<(~(u>>4)&15)}}};
a.prototype.ys=function(a){var e,b=this.va,d=this.ei;var g=this.G;var c=g.X>>4,f=g.Y>>4,h=g.Z;for(e=g.V;e<=h;e+=1){var w=a[e];var k=b[e];var l=c<<4;for(g=c;g<=f;g+=1){var q=w[g]<<4;k[l]=d[q];l+=1;k[l]=d[q+1];l+=1;k[l]=d[q+2];l+=1;k[l]=d[q+3];l+=1;k[l]=d[q+4];l+=1;k[l]=d[q+5];l+=1;k[l]=d[q+6];l+=1;k[l]=d[q+7];l+=1;k[l]=d[q+8];l+=1;k[l]=d[q+9];l+=1;k[l]=d[q+10];l+=1;k[l]=d[q+11];l+=1;k[l]=d[q+12];l+=1;k[l]=d[q+13];l+=1;k[l]=d[q+14];l+=1;k[l]=d[q+15];l+=1}}};a.prototype.xr=function(a,b,d){var e=this.sc,
g=this.fb,m=this.we,c=this.ye,f=this.hc;var F=this.cg?4278190080:255;this.jf=!1;this.Xa=this.width-1;this.$a=this.height-1;this.G=new BoundingBox(0,0,this.width-1,this.height-1);this.oc=new BoundingBox(0,0,this.width-1,this.height-1);this.nb=new BoundingBox(0,0,this.width-1,this.height-1);this.ri=new BoundingBox(0,0,this.width-1,this.height-1);this.$d=a;this.yl();AliasManager.ne();this.Gp(b,d);d=(this.width-1>>3)+1;for(a=0;a<d;a+=1)g[a]=0;d=this.width;for(a=0;a<d;a+=1)m[a]=e;d=this.h>>4;for(a=0;a<
d;a+=1)f[a]=0;for(a=0;a<b;a+=1)c[a]=F};a.prototype.Hq=function(){var a=0;this.rc[a]=new b(new c(new f(0,0,0),new f(0,0,0)),new c(new f(255,255,255),new f(255,255,255)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(0,0,47),new f(0,0,255)),new c(new f(0,255,255),new f(255,255,255)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(32,0,0),new f(160,0,0)),new c(new f(255,144,0),new f(255,255,0)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(0,24,0),new f(0,128,0)),new c(new f(0,255,255),new f(255,
255,255)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(0,47,0),new f(128,0,128)),new c(new f(255,255,0),new f(255,255,255)),new f(0,32,128));a+=1;this.rc[a]=new b(new c(new f(16,16,16),new f(104,104,104)),new c(new f(176,176,176),new f(255,255,255)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(255,255,255),new f(255,255,255)),new c(new f(0,0,0),new f(0,0,0)),new f(255,255,255));a+=1;this.rc[a]=new b(new c(new f(240,240,240),new f(0,255,255)),new c(new f(0,0,255),new f(0,0,0)),new f(255,255,
255));a+=1;this.rc[a]=new b(new c(new f(240,240,240),new f(240,240,240)),new c(new f(240,240,240),new f(240,240,240)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(160,0,0),new f(160,0,0)),new c(new f(240,240,240),new f(240,240,240)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(0,0,96),new f(0,0,160)),new c(new f(0,240,0),new f(16,255,16)),new f(0,0,0));a+=1;this.rc[a]=new b(new c(new f(255,255,0),new f(255,255,0)),new c(new f(255,0,0),new f(255,0,0)),new f(0,0,0));this.rc[a+1]=new b(new c(new f(0,
0,0),new f(0,0,0)),new c(new f(0,0,0),new f(0,0,0)),new f(0,0,0));this.Wa=new c(new f(0,0,0),new f(0,0,0));this.mb=new c(new f(0,0,0),new f(0,0,0));this.Fc=new f(0,0,0);this.pa=new c(new f(0,0,0),new f(0,0,0));this.qa=new c(new f(0,0,0),new f(0,0,0));this.Qb=new f(0,0,0)};a.prototype.xg=function(a,b){var e=this.rc[a];this.de=a;this.Wa.set(this.pa);this.mb.set(this.qa);this.Fc.set(this.Qb);this.pa.set(e.Ya);this.qa.set(e.Ua);this.Qb.set(e.sc);this.Jg=b;this.Yp=e.tr();if(this.hd===this.vk||this.hd===
this.ni)128<=(this.Qb.red+this.Qb.green+this.Qb.blue)/3?(this.hd=this.ni,this.le=this.wl):(this.hd=this.vk,this.le=this.Am)};a.prototype.Gq=function(){var a;var b=this.Zh;var d=this.P;var c=this.W;var g=this.Wc;var f=this.Yc;b[0]=0;b[d+1]=c;for(a=1;a<d+1;a+=1)b[a]=Math.min(Math.max(a-1,g),f),b[a+d+1]=Math.max(Math.min(a+1,d),c)};a.prototype.po=function(){var a=(this.Jg-1)/30;var b=0;this.pd[b]=this.Fc.red*a+this.Qb.red*(1-a);this.fd[b]=this.Fc.green*a+this.Qb.green*(1-a);this.$c[b]=this.Fc.blue*a+
this.Qb.blue*(1-a);if(-1!==this.u)for(b=1;b<this.u;b+=1){var d=2===this.u?1:1-(b-1)/(this.u-2);var c=this.Wa.O.red*d+this.mb.O.red*(1-d);var g=this.pa.O.red*d+this.qa.O.red*(1-d);this.pd[b]=c*a+g*(1-a);c=this.Wa.O.green*d+this.mb.O.green*(1-d);g=this.pa.O.green*d+this.qa.O.green*(1-d);this.fd[b]=c*a+g*(1-a);c=this.Wa.O.blue*d+this.mb.O.blue*(1-d);g=this.pa.O.blue*d+this.qa.O.blue*(1-d);this.$c[b]=c*a+g*(1-a)}else{for(b=this.Wc;b<=this.Yc;b+=1)d=1-(b-this.Wc)/(this.Yc-this.Wc),c=this.mb.O.red*d+this.mb.ia.red*
(1-d),g=this.qa.O.red*d+this.qa.ia.red*(1-d),this.pd[b]=c*a+g*(1-a),c=this.mb.O.green*d+this.mb.ia.green*(1-d),g=this.qa.O.green*d+this.qa.ia.green*(1-d),this.fd[b]=c*a+g*(1-a),c=this.mb.O.blue*d+this.mb.ia.blue*(1-d),g=this.qa.O.blue*d+this.qa.ia.blue*(1-d),this.$c[b]=c*a+g*(1-a);for(b=this.W;b<=this.P;b+=1)d=1-(b-this.W)/(this.P-this.W),c=this.Wa.O.red*d+this.Wa.ia.red*(1-d),g=this.pa.O.red*d+this.pa.ia.red*(1-d),this.pd[b]=c*a+g*(1-a),c=this.Wa.O.green*d+this.Wa.ia.green*(1-d),g=this.pa.O.green*
d+this.pa.ia.green*(1-d),this.fd[b]=c*a+g*(1-a),c=this.Wa.O.blue*d+this.Wa.ia.blue*(1-d),g=this.pa.O.blue*d+this.pa.ia.blue*(1-d),this.$c[b]=c*a+g*(1-a)}};a.prototype.Kq=function(a){var e=this.pd,b=this.fd,d=this.$c,g;for(g=0;g<a.length;g+=1){var c=a[g];e[g]=c>>16;b[g]=c>>8&255;d[g]=c&255}this.Jg=0};a.prototype.Iq=function(a,b){var e=this.pd,d=this.fd,g=this.$c,m=ViewConstants.Ra,c=b.length,f;for(f=0;f<a.length;f+=1)f>=c||-1===b[f]?(e[128+m[f]]=a[f]>>16,d[128+m[f]]=a[f]>>8&255,g[128+m[f]]=a[f]&255):
(e[128+m[f]]=b[f]>>16,d[128+m[f]]=b[f]>>8&255,g[128+m[f]]=b[f]&255)};a.prototype.Xb=function(a){var e=this.pd,b=this.fd,c=this.$c,g=this.Ne,f=this.hd,D=this.le,h,w=0;if(-1!==this.u)if(this.cg)for(h=0;h<this.u;h+=1)0<h&&(w=this.u-h),g[h]=-16777216|c[w]<<16|b[w]<<8|e[w];else for(h=0;h<this.u;h+=1)0<h&&(w=this.u-h),g[h]=e[w]<<24|b[w]<<16|c[w]<<8|255;else if(this.cg){for(h=0;h<this.W;h+=1)g[h]=-16777216|c[h]<<16|b[h]<<8|e[h];for(h=this.W;h<=this.P;h+=1)g[h]=-16777216|c[h]*a<<16|b[h]*a<<8|e[h]*a;for(h=
this.P+1;256>h;h+=1)g[h]=-16777216|c[h]*a<<16|b[h]*a<<8|e[h]*a}else{for(h=0;h<this.W;h+=1)g[h]=e[h]<<24|b[h]<<16|c[h]<<8|255;for(h=this.W;h<=this.P;h+=1)g[h]=e[h]*a<<24|b[h]*a<<16|c[h]*a<<8|255;for(h=this.P+1;256>h;h+=1)g[h]=e[h]*a<<24|b[h]*a<<16|c[h]*a<<8|255}this.cg?(this.bg=-16777216|(f&255)<<16|(f>>8&255)<<8|f>>16,this.ag=-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16):(this.bg=(f&255)<<24|(f>>8&255)<<16|f>>16<<8|255,this.ag=(D&255)<<24|(D>>8&255)<<16|D>>16<<8|255);-1!==this.yb&&(g[d.eo]=this.cg?4286611584:
2155905279)};a.prototype.Aq=function(){var a=this.height,b=this.Eb,d=this.Pb,c=this.va,g=this.B,f=this.Bc,D=this.ka,h=this.aa,w=this.Ia,k=this.Oa,l=this.wa,q=this.fb,E=this.hc,C=this.we,K;for(K=0;K<a;K+=1)b[K].set(q),d[K].set(q),c[K].set(C),g[K].set(C),f&&(f[K].set(C),D[K].set(C));a=this.o;for(K=0;K<a;K+=1)h[K].set(E),l[K].set(E),w[K].set(E),k[K].set(E)};a.prototype.mi=function(a,b){var e=d.Cm,m;for(m=0;m<e;m+=1){var g=b[m>>9&448|m>>6&56|m>>3&7]<<3;g|=b[m>>8&448|m>>5&56|m>>2&7]<<2;g|=b[m>>7&448|m>>
4&56|m>>1&7]<<1;g|=b[m>>6&448|m>>3&56|m&7];a[m]=g}};a.prototype.ht=function(){var a,b=PatternManager.bj,c=d.Oo,f=!1;if(-1===this.Kf&&b[0]){if(!b[c-1]){for(a=0;a<c/2;a+=1){var g=b[a];b[a]=b[c-a-1];b[c-a-1]=g}f=!0;this.mi(this.Ee,b)}for(a=0;a<c/2;a+=1)g=b[a],b[a]=1-b[c-a-1],b[c-a-1]=1-g}this.mi(this.De,PatternManager.bj);f||this.Ee.set(this.De)};a.prototype.gg=function(a){var e=0;0!==(a&32768)?e=0:0!==(a&16384)?e=1:0!==(a&8192)?e=2:0!==(a&4096)?e=3:0!==(a&2048)?e=4:0!==(a&1024)?e=5:0!==(a&512)?e=6:
0!==(a&256)?e=7:0!==(a&128)?e=8:0!==(a&64)?e=9:0!==(a&32)?e=10:0!==(a&16)?e=11:0!==(a&8)?e=12:0!==(a&4)?e=13:0!==(a&2)?e=14:0!==(a&1)&&(e=15);return e};a.prototype.rg=function(a){var e=0;0!==(a&1)?e=15:0!==(a&2)?e=14:0!==(a&4)?e=13:0!==(a&8)?e=12:0!==(a&16)?e=11:0!==(a&32)?e=10:0!==(a&64)?e=9:0!==(a&128)?e=8:0!==(a&256)?e=7:0!==(a&512)?e=6:0!==(a&1024)?e=5:0!==(a&2048)?e=4:0!==(a&4096)?e=3:0!==(a&8192)?e=2:0!==(a&16384)&&(e=1);return e};a.prototype.Gj=function(a){var e=this.Bc,b=this.aa,d=this.width,
g=this.height,c,f=this.G.Z,h=this.G.V,w=this.G.X,k=this.G.Y,l,q;for(l=0;l<g;l+=1){var E=e[l];var C=b[l>>4];for(q=c=0;q<d;q+=1)0!==E[q]&&(C[q>>8]|=1<<(~(q>>4)&15),c|=E[q],q<w&&(w=q),q>k&&(k=q));c&&(l<h&&(h=l),l>f&&(f=l))}a||(this.G.Z=f,this.G.V=h,this.G.X=w,this.G.Y=k)};a.prototype.zr=function(){var a,b,c,f=this.ob,g=this.wa,P=this.aa,D,h=this.o,w=this.h>>4,k=this.hc;var l=0;var q=l+16;for(b=0;b<h;b+=1)P[b].set(k);for(b=0;b<h;b+=1){var E=0;var C=g[b];var K=P[b];var r=0<b?P[b-1]:k;var G=b<h-1?P[b+1]:
k;C[0]&=32767;C[w-1]&=65534;for(c=0;c<w;c+=1)if(D=C[c]){var p=K[c];var u=r[c];var A=G[c];for(a=15;0<=a;--a){if(0!==(D&1<<a)){var t=!1;var H=0;var z=l;var x=f[z];if(x=x[E])t=!0,0!==(x&32768)&&(H|=d.Id,H|=d.ze),0!==(x&1)&&(H|=d.Sd,H|=d.Ae),H|=d.Fd;for(z+=1;z<q-1;){x=f[z];if(x=x[E])t=!0,0!==(x&32768)&&(H|=d.Id),0!==(x&1)&&(H|=d.Sd);z+=1}x=f[z];if(x=x[E])t=!0,0!==(x&32768)&&(H|=d.Id,H|=d.We),0!==(x&1)&&(H|=d.Sd,H|=d.Xe),H|=d.Wd;t&&(p|=1<<a,H&&(0!==(H&d.Id)&&(15>a?p|=1<<a+1:0<c&&(K[c-1]|=1)),0!==(H&d.Sd)&&
(0<a?p|=1<<a-1:c<w-1&&(K[c+1]|=32768)),0!==(H&d.Fd)&&(u|=1<<a),0!==(H&d.Wd)&&(A|=1<<a),0!==(H&d.ze)&&(15>a?u|=1<<a+1:0<c&&(r[c-1]|=1)),0!==(H&d.Ae)&&(0<a?u|=1<<a-1:c<w-1&&(r[c+1]|=32768)),0!==(H&d.We)&&(15>a?A|=1<<a+1:0<c&&(G[c-1]|=1)),0!==(H&d.Xe)&&(0<a?A|=1<<a-1:c<w-1&&(G[c+1]|=32768))))}E+=1}K[c]|=p;0<b&&(r[c]|=u);b<h-1&&(G[c]|=A)}else E+=16;l+=16;q+=16}for(b=0;b<k.length;b+=1)k[b]=0};a.prototype.Ar=function(){var a,b,c,f=this.ob,g=this.wa,P=this.va,D=this.aa,h,w=this.o,k=this.h>>4,l=this.hc;var q=
0;var E=q+16;for(b=0;b<w;b+=1)D[b].set(l);for(b=0;b<w;b+=1){var C=0;var K=g[b];var r=D[b];var G=0<b?D[b-1]:l;var p=b<w-1?D[b+1]:l;K[0]&=32767;K[k-1]&=65534;for(c=0;c<k;c+=1)if(h=K[c]){var u=r[c];var A=G[c];var t=p[c];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var H=!1;var z=0;var x=q;var v=f[x];var n=P[x];v=v[C];var y=C<<4;0<n[y]&&(v|=32768);y+=1;0<n[y]&&(v|=16384);y+=1;0<n[y]&&(v|=8192);y+=1;0<n[y]&&(v|=4096);y+=1;0<n[y]&&(v|=2048);y+=1;0<n[y]&&(v|=1024);y+=1;0<n[y]&&(v|=512);y+=1;0<n[y]&&(v|=256);y+=1;
0<n[y]&&(v|=128);y+=1;0<n[y]&&(v|=64);y+=1;0<n[y]&&(v|=32);y+=1;0<n[y]&&(v|=16);y+=1;0<n[y]&&(v|=8);y+=1;0<n[y]&&(v|=4);y+=1;0<n[y]&&(v|=2);y+=1;0<n[y]&&(v|=1);v&&(H=!0,0!==(v&32768)&&(z|=d.Id,z|=d.ze),0!==(v&1)&&(z|=d.Sd,z|=d.Ae),z|=d.Fd);for(x+=1;x<E-1;)v=f[x],n=P[x],v=v[C],y=C<<4,0<n[y]&&(v|=32768),y+=1,0<n[y]&&(v|=16384),y+=1,0<n[y]&&(v|=8192),y+=1,0<n[y]&&(v|=4096),y+=1,0<n[y]&&(v|=2048),y+=1,0<n[y]&&(v|=1024),y+=1,0<n[y]&&(v|=512),y+=1,0<n[y]&&(v|=256),y+=1,0<n[y]&&(v|=128),y+=1,0<n[y]&&(v|=
64),y+=1,0<n[y]&&(v|=32),y+=1,0<n[y]&&(v|=16),y+=1,0<n[y]&&(v|=8),y+=1,0<n[y]&&(v|=4),y+=1,0<n[y]&&(v|=2),y+=1,0<n[y]&&(v|=1),v&&(H=!0,0!==(v&32768)&&(z|=d.Id),0!==(v&1)&&(z|=d.Sd)),x+=1;v=f[x];n=P[x];v=v[C];y=C<<4;0<n[y]&&(v|=32768);y+=1;0<n[y]&&(v|=16384);y+=1;0<n[y]&&(v|=8192);y+=1;0<n[y]&&(v|=4096);y+=1;0<n[y]&&(v|=2048);y+=1;0<n[y]&&(v|=1024);y+=1;0<n[y]&&(v|=512);y+=1;0<n[y]&&(v|=256);y+=1;0<n[y]&&(v|=128);y+=1;0<n[y]&&(v|=64);y+=1;0<n[y]&&(v|=32);y+=1;0<n[y]&&(v|=16);y+=1;0<n[y]&&(v|=8);y+=
1;0<n[y]&&(v|=4);y+=1;0<n[y]&&(v|=2);y+=1;0<n[y]&&(v|=1);v&&(H=!0,0!==(v&32768)&&(z|=d.Id,z|=d.We),0!==(v&1)&&(z|=d.Sd,z|=d.Xe),z|=d.Wd);H&&(u|=1<<a,z&&(0!==(z&d.Id)&&(15>a?u|=1<<a+1:0<c&&(r[c-1]|=1)),0!==(z&d.Sd)&&(0<a?u|=1<<a-1:c<k-1&&(r[c+1]|=32768)),0!==(z&d.Fd)&&(A|=1<<a),0!==(z&d.Wd)&&(t|=1<<a),0!==(z&d.ze)&&(15>a?A|=1<<a+1:0<c&&(G[c-1]|=1)),0!==(z&d.Ae)&&(0<a?A|=1<<a-1:c<k-1&&(G[c+1]|=32768)),0!==(z&d.We)&&(15>a?t|=1<<a+1:0<c&&(p[c-1]|=1)),0!==(z&d.Xe)&&(0<a?t|=1<<a-1:c<k-1&&(p[c+1]|=32768))))}C+=
1}r[c]|=u;0<b&&(G[c]|=A);b<w-1&&(p[c]|=t)}else C+=16;q+=16;E+=16}for(b=0;b<l.length;b+=1)l[b]=0};a.prototype.ws=function(a){var e,b,d=this.width>>4,g=this.height,c=this.width,f=this.ob,h=this.Bc;var w=this.va;var k=this.G,l=this.oc,q=this.height,E=-1,C=this.width,K=-1,r=this.height,G=-1,p=this.width,u=-1,A,t=this.Be,H=this.o,z=this.aa,x=this.wa,v=this.Ia,n=this.Oa,y=this.hc;if(h&&!a)for(b=0;b<g;b+=1){var L=h[b];for(e=A=0;e<c;e+=1){var J=L[e];A|=J;J&&(e<p&&(p=e),e>u&&(u=e))}A&&(b<r&&(r=b),b>G&&(G=
b))}for(b=0;b<t.length;b+=1)t[b]=0;for(b=0;b<H;b+=1)x[b].set(y);if(-1!==this.u)for(b=0;b<g;b+=1){d=w[b];for(e=A=0;e<c;e+=1)J=d[e],A|=J,J&&(e<C&&(C=e),e>K&&(K=e));A&&(b<q&&(q=b),b>E&&(E=b))}else{for(b=0;b<g;b+=1){w=f[b];for(e=A=0;e<d;e+=1)J=w[e],A|=J,t[e]|=J;A&&(b<q&&(q=b),b>E&&(E=b))}for(e=0;e<d;e+=1)t[e]&&(e<C&&(C=e),e>K&&(K=e));C=(C<<4)+this.gg(t[C]);K=(K<<4)+this.rg(t[K])}if(0>E||q>=g||C>=c||0>K)q=E=g>>1,K=C=c>>1;h&&!a&&(G<E&&(E=G),r>q&&(q=r),p<C&&(C=p),u>K&&(K=u));E>this.height-1&&(E=this.height-
1);0>q&&(q=0);0>C&&(C=0);K>this.width-1&&(K=this.width-1);k.Z=E;k.V=q;k.X=C;k.Y=K;l.Z=E;l.V=q;l.X=C;l.Y=K;0<C&&--C;0<q&&--q;K<this.width-1&&(K+=1);E<this.height-1&&(E+=1);J=E>>4;C>>=8;K>>=8;for(b=q>>4;b<=J;b+=1)for(q=x[b],e=C;e<=K;e+=1)q[e]=-1;-1!==this.u?this.Ar():this.zr();h&&(this.Gj(a),l.Z=k.Z,l.V=k.V,l.X=k.X,l.Y=k.Y);Array.ad(z,x);Array.ad(z,v);Array.ad(z,n)};a.prototype.Wb=function(a){var b=Math.round((this.width-this.ua)/2),e=Math.round((this.height-this.Aa)/2),d=b+this.ua-1,g=e+this.Aa-1,
c=d+a>>4,f=b-a>>4,h=d+a>>4,w=~(1<<(~(b-a)&15)),k=~(1<<(~(d+a)&15)),l;var q=0!==(this.i&1)?this.fa:this.ob;var E=q[g+a];var C=q[e-a];if(0===this.ua)for(c=this.width>>4,l=0;l<c;l+=1)C[l]=0,E[l]=0;else if(0===this.Aa)for(e=0,g=this.height,c=0;c<g;c+=1)q[c][f]&=w,q[c][h]&=k;else{for(l=b-a>>4;l<=c;l+=1)C[l]=0,E[l]=0;for(c=e-a+1;c<=g+a-1;c+=1)q[c][f]&=w,q[c][h]&=k}if(-1!==this.u)if(q=this.va,b-=a,d+=a,g+=a,e-=a,E=q[g],C=q[e],0===this.ua)for(l=0;l<this.width;l+=1)C[l]=0,E[l]=0;else if(0===this.Aa)for(c=
0;c<this.height;c+=1)q[c][b]=0,q[c][d]=0;else{for(l=b;l<=d;l+=1)C[l]=0,E[l]=0;for(c=e+1;c<=g-1;c+=1)q[c][b]=0,q[c][d]=0}};a.prototype.ln=function(){var a=this.ua;var b=this.Aa;var d=Math.round((this.width-a)/2-1)>>4,c=Math.round((this.width+a)/2)>>4;var g=Math.round((this.height-b)/2-1)>>4;var f=Math.round((this.height+b)/2)>>4;0===b&&(g=0,f=(this.height>>4)-1);0===a&&(d=0,c=(this.width>>4)-1);0>d&&(d=0);0>g&&(g=0);c>=this.width>>4&&(c=(this.width>>4)-1);f>=this.height>>4&&(f=(this.height>>4)-1);
for(b=d;b<=c;b+=1)a=1<<(~b&15),this.aa[g][b>>4]|=a,this.wa[g][b>>4]|=a,this.Ia[g][b>>4]|=a,this.Oa[g][b>>4]|=a,this.aa[f][b>>4]|=a,this.wa[f][b>>4]|=a,this.Ia[f][b>>4]|=a,this.Oa[f][b>>4]|=a;for(;g<=f;g+=1)a=1<<(~d&15),this.aa[g][d>>4]|=a,this.wa[g][d>>4]|=a,this.Ia[g][d>>4]|=a,this.Oa[g][d>>4]|=a,a=1<<(~c&15),this.aa[g][c>>4]|=a,this.wa[g][c>>4]|=a,this.Ia[g][c>>4]|=a,this.Oa[g][c>>4]|=a};a.prototype.Nl=function(){var a=this.Ia,b=this.ua,d=this.Aa,c=Math.round((this.width-b)/2),g=Math.round((this.height-
d)/2),f=c+b-1,D=g+d-1,h=this.ui,w=this.vi,k;if(0!==(this.i&1)){var l=this.fa;var q=this.wa}else l=this.ob,q=this.aa;0===this.ua&&(c=0,f=this.width-1,b=this.width);0===this.Aa&&(g=0,D=this.height-1,d=this.height);if(0!==this.Aa)for(k=0;k<b;k+=1){var E=c+k;var C=c+(k+h+b)%b;0!==(l[D][E>>4]&1<<(~E&15))&&(l[g-1][C>>4]|=1<<(~C&15),q[g-1>>4][C>>8]|=1<<(~(C>>4)&15),a[g-1>>4][C>>8]|=1<<(~(C>>4)&15),15===(g-1&15)&&(q[(g-1>>4)+1][C>>8]|=1<<(~(C>>4)&15),a[(g-1>>4)+1][C>>8]|=1<<(~(C>>4)&15)));C=c+(k-h+b)%b;0!==
(l[g][E>>4]&1<<(~E&15))&&(l[D+1][C>>4]|=1<<(~C&15),q[D+1>>4][C>>8]|=1<<(~(C>>4)&15),a[D+1>>4][C>>8]|=1<<(~(C>>4)&15),0===(D+1&15)&&(q[(D+1>>4)-1][C>>8]|=1<<(~(C>>4)&15),a[(D+1>>4)-1][C>>8]|=1<<(~(C>>4)&15)))}if(0!==this.ua)for(k=0;k<d;k+=1)E=g+k,C=g+(k-w+d)%d,0!==(l[E][c>>4]&1<<(~c&15))&&(l[C][f+1>>4]|=1<<(~(f+1)&15),q[C>>4][f+1>>8]|=1<<(~(f+1>>4)&15),a[C>>4][f+1>>8]|=1<<(~(f+1>>4)&15),0===(f+1&15)&&(q[C>>4][f-15>>8]|=1<<(~(f-15>>4)&15),a[C>>4][f-15>>8]|=1<<(~(f-15>>4)&15))),C=g+(k+w+d)%d,0!==(l[E][f>>
4]&1<<(~f&15))&&(l[C][c-1>>4]|=1<<(~(c-1)&15),q[C>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[C>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(q[C>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[C>>4][c+15>>8]|=1<<(~(c+15>>4)&15)));0!==this.ua&&0!==this.Aa&&(E=c+(-h+b)%b,l[g-1][f+1>>4]=0!==(l[g+(d-1+w+d)%d][E>>4]&1<<(~E&15))?l[g-1][f+1>>4]|1<<(~(f+1)&15):l[g-1][f+1>>4]&~(1<<(~(f+1)&15)),E=c+(b-1-h+b)%b,l[g-1][c-1>>4]=0!==(l[g+(d-1-w+d)%d][E>>4]&1<<(~E&15))?l[g-1][c-1>>4]|1<<(~(c-1)&15):l[g-1][c-1>>4]&~(1<<(~(c-1)&15)),E=
c+(h+b)%b,l[D+1][f+1>>4]=0!==(l[g+(w+d)%d][E>>4]&1<<(~E&15))?l[D+1][f+1>>4]|1<<(~(f+1)&15):l[D+1][f+1>>4]&~(1<<(~(f+1)&15)),E=c+(b-1+h+b)%b,l[D+1][c-1>>4]=0!==(l[g+(-w+d)%d][E>>4]&1<<(~E&15))?l[D+1][c-1>>4]|1<<(~(c-1)&15):l[D+1][c-1>>4]&~(1<<(~(c-1)&15)))};a.prototype.Ll=function(){var a=this.Ia,b=this.ua,d=this.Aa,c=Math.round((this.width-b)/2),g=Math.round((this.height-d)/2),f=c+b-1,D=g+d-1,h=this.ui,w=this.vi,k=this.Vl,l=this.io,q;if(0!==(this.i&1)){var E=this.fa;var C=this.wa}else E=this.ob,C=
this.aa;for(q=0;q<b;q+=1){var K=c+q;var r=k?f-(q+h+b)%b:c+(q+h+b)%b;0!==(E[D][K>>4]&1<<(~K&15))&&(E[g-1][r>>4]|=1<<(~r&15),C[g-1>>4][r>>8]|=1<<(~(r>>4)&15),a[g-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(g-1&15)&&(C[(g-1>>4)+1][r>>8]|=1<<(~(r>>4)&15),a[(g-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=k?f-(q-h+b)%b:c+(q-h+b)%b;0!==(E[g][K>>4]&1<<(~K&15))&&(E[D+1][r>>4]|=1<<(~r&15),C[D+1>>4][r>>8]|=1<<(~(r>>4)&15),a[D+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(D+1&15)&&(C[(D+1>>4)-1][r>>8]|=1<<(~(r>>4)&15),a[(D+1>>4)-1][r>>8]|=
1<<(~(r>>4)&15)))}for(q=0;q<d;q+=1)K=g+q,r=l?D-(q-w+d)%d:g+(q-w+d)%d,0!==(E[K][c>>4]&1<<(~c&15))&&(E[r][f+1>>4]|=1<<(~(f+1)&15),C[r>>4][f+1>>8]|=1<<(~(f+1>>4)&15),a[r>>4][f+1>>8]|=1<<(~(f+1>>4)&15),0===(f+1&15)&&(C[r>>4][f-15>>8]|=1<<(~(f-15>>4)&15),a[r>>4][f-15>>8]|=1<<(~(f-15>>4)&15))),r=l?D-(q+w+d)%d:g+(q+w+d)%d,0!==(E[K][f>>4]&1<<(~f&15))&&(E[r][c-1>>4]|=1<<(~(c-1)&15),C[r>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[r>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(C[r>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[r>>
4][c+15>>8]|=1<<(~(c+15>>4)&15)));K=k?f-(-h+b)%b:c+(-h+b)%b;0!==(E[l?D-(d-1+w+d)%d:g+(d-1+w+d)%d][K>>4]&1<<(~K&15))&&(E[g-1][f+1>>4]|=1<<(~(f+1)&15));K=k?f-(b-1-h+b)%b:c+(b-1-h+b)%b;0!==(E[l?D-(d-1+w+d)%d:g+(d-1+w+d)%d][K>>4]&1<<(~K&15))&&(E[g-1][c-1>>4]|=1<<(~(c-1)&15));K=k?f-(h+b)%b:c+(h+b)%b;0!==(E[l?D-(w+d)%d:g+(w+d)%d][K>>4]&1<<(~K&15))&&(E[D+1][f+1>>4]|=1<<(~(f+1)&15));K=k?f-(b-1+h+b)%b:c+(b-1+h+b)%b;0!==(E[l?D-(w+d)%d:g+(w+d)%d][K>>4]&1<<(~K&15))&&(E[D+1][c-1>>4]|=1<<(~(c-1)&15))};a.prototype.Kl=
function(){var a=this.Ia,b=Math.round((this.width-this.ua)/2),d=Math.round((this.height-this.Aa)/2),c=b+this.ua-1,g=d+this.Aa-1,f;if(0!==(this.i&1)){var D=this.fa;var h=this.wa}else D=this.ob,h=this.aa;for(f=0;f<this.ua;f+=1){var w=b+f;var k=c-f;0!==(D[g][w>>4]&1<<(~w&15))&&(D[d-1][k>>4]|=1<<(~k&15),h[d-1>>4][k>>8]|=1<<(~(k>>4)&15),a[d-1>>4][k>>8]|=1<<(~(k>>4)&15),15===(d-1&15)&&(h[(d-1>>4)+1][k>>8]|=1<<(~(k>>4)&15),a[(d-1>>4)+1][k>>8]|=1<<(~(k>>4)&15)));0!==(D[d][w>>4]&1<<(~w&15))&&(D[g+1][k>>4]|=
1<<(~k&15),h[g+1>>4][k>>8]|=1<<(~(k>>4)&15),a[g+1>>4][k>>8]|=1<<(~(k>>4)&15),0===(g+1&15)&&(h[(g+1>>4)-1][k>>8]|=1<<(~(k>>4)&15),a[(g+1>>4)-1][k>>8]|=1<<(~(k>>4)&15)))}for(f=0;f<=this.Aa;f+=1)w=d+f,k=g-f,0!==(D[w][b>>4]&1<<(~b&15))&&(D[k][c+1>>4]|=1<<(~(c+1)&15),h[k>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[k>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[k>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[k>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),0!==(D[w][c>>4]&1<<(~c&15))&&(D[k][b-1>>4]|=1<<(~(b-1)&15),h[k>>4][b-1>>8]|=1<<
(~(b-1>>4)&15),a[k>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[k>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[k>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(D[g][b>>4]&1<<(~b&15))&&(D[g+1][b-1>>4]|=1<<(~(b-1)&15));0!==(D[g][c>>4]&1<<(~c&15))&&(D[g+1][c+1>>4]|=1<<(~(c+1)&15));0!==(D[d][b>>4]&1<<(~b&15))&&(D[d-1][b-1>>4]|=1<<(~(b-1)&15));0!==(D[d][c>>4]&1<<(~c&15))&&(D[d-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.Ml=function(){var a=this.Ia,b=Math.round((this.width-this.ua)/2),d=Math.round((this.height-this.Aa)/
2),c=b+this.ua-1,g=d+this.ua-1,f;if(0!==(this.i&1)){var D=this.fa;var h=this.wa}else D=this.ob,h=this.aa;for(f=0;f<this.ua;f+=1){var w=d+f;var k=b+f;0!==(D[w][b>>4]&1<<(~b&15))&&(D[d-1][k>>4]|=1<<(~k&15),h[d-1>>4][k>>8]|=1<<(~(k>>4)&15),a[d-1>>4][k>>8]|=1<<(~(k>>4)&15),15===(d-1&15)&&(h[(d-1>>4)+1][k>>8]|=1<<(~(k>>4)&15),a[(d-1>>4)+1][k>>8]|=1<<(~(k>>4)&15)));0!==(D[w][c>>4]&1<<(~c&15))&&(D[g+1][k>>4]|=1<<(~k&15),h[g+1>>4][k>>8]|=1<<(~(k>>4)&15),a[g+1>>4][k>>8]|=1<<(~(k>>4)&15),0===(g+1&15)&&(h[(g+
1>>4)-1][k>>8]|=1<<(~(k>>4)&15),a[(g+1>>4)-1][k>>8]|=1<<(~(k>>4)&15)));0!==(D[d][k>>4]&1<<(~k&15))&&(D[w][b-1>>4]|=1<<(~(b-1)&15),h[w>>4][b-1>>8]|=1<<(~(b-1>>4)&15),a[w>>4][b-1>>8]|=1<<(~(b-1>>4)&15),15===(b-1&15)&&(h[w>>4][b+15>>8]|=1<<(~(b+15>>4)&15),a[w>>4][b+15>>8]|=1<<(~(b+15>>4)&15)));0!==(D[g][k>>4]&1<<(~k&15))&&(D[w][c+1>>4]|=1<<(~(c+1)&15),h[w>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[w>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[w>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[w>>4][c-15>>8]|=1<<(~(c-15>>
4)&15)))}0!==(D[g][b>>4]&1<<(~b&15))&&(D[g+1][b-1>>4]|=1<<(~(b-1)&15));0!==(D[g][c>>4]&1<<(~c&15))&&(D[g+1][c+1>>4]|=1<<(~(c+1)&15));0!==(D[d][b>>4]&1<<(~b&15))&&(D[d-1][b-1>>4]|=1<<(~(b-1)&15));0!==(D[d][c>>4]&1<<(~c&15))&&(D[d-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.El=function(){switch(this.yb){case 0:this.Wb(1);break;case 1:this.Wb(1);this.Wb(2);break;case 2:this.Wb(1);this.Wb(2);break;case 3:this.Wb(1);this.Wb(2);break;case 4:this.Wb(1),this.Wb(2)}};a.prototype.Fl=function(){this.ln();switch(this.yb){case 1:this.Nl();
break;case 2:this.Ll();break;case 3:this.Kl();break;case 4:this.Ml()}this.ln()};a.prototype.dh=function(a,b,c){var e=!1,g=this.G,f=this.nb;c||(a=!0);this.i===this.eh-1&&(e=!0,b||(a=!0));-1===this.yb||this.ac||this.Fl();this.Ib&&this.Nr();this.ba&&(this.ac?this.Bl():a?this.Dl():this.Cl());this.i+=1;-1===this.u||this.ac||(this.ba?this.zl():this.Al());this.Ib&&this.Cr();-1===this.yb||this.ac||this.El();8192===this.width&&(16>=g.X||8176<=g.Y||16>=g.V||8176<=g.Z)&&this.Dj();e&&(this.eh+=d.ij,b||this.ej());
g.X<f.X&&(f.X=g.X);g.Y>f.Y&&(f.Y=g.Y);g.V<f.V&&(f.V=g.V);g.Z>f.Z&&(f.Z=g.Z);this.i<d.Rh&&(a?(this.yd[this.i]=this.Tb,this.ve[this.i]=this.vc,this.Ce[this.i]=this.wc,this.Tb>this.xb&&(this.xb=this.Tb),this.vc>this.xb&&(this.xb=this.vc),this.wc>this.xb&&(this.xb=this.wc)):(this.yd[this.i]=0,this.ve[this.i]=0,this.Ce[this.i]=0))};a.prototype.qg=function(a,b,c,f,g,P,D,h){var e,k=1,l;this.i>c&&(k=c/this.i);if(h){a.strokeStyle=b;a.beginPath();var q=f-D[0]/this.xb*f|0;a.moveTo(0+P+.5,q+g+P+.5)}else a.fillStyle=
b;var m=0;for(b=e=1;b<c;b+=1){if(e<d.Rh){var B=l=D[e];m+=k;for(e+=1;0===(m|0);){var F=D[e];e+=1;F>B&&(B=F);F<l&&(l=F);m+=k}--m}else B=l=0;b<=this.i&&(F=0+P+1+b,q=f-l/this.xb*f|0,h?(a.lineTo(F+.5,q+g+P+.5),l!==B&&(q=f-B/this.xb*f|0,a.lineTo(F+.5,q+g+P+.5))):0<l&&0<B&&(l!==B&&(q=f-B/this.xb*f|0),a.fillRect(F+.5,q+g+P+.5,1,1)))}h&&a.stroke()};a.prototype.Bo=function(a,b,d,c){var e=this.$d,f=40,m=40,h=this.v-0-m,B=this.s-f-m,k="rgb("+this.he[0]+","+this.he[1]+","+this.he[2]+")",l="rgb("+this.ge[0]+","+
this.ge[1]+","+this.ge[2]+")",q="rgb("+this.fe[0]+","+this.fe[1]+","+this.fe[2]+")",F="rgb("+this.ie[0]+","+this.ie[1]+","+this.ie[2]+")",C="rgb("+this.je[0]+","+this.je[1]+","+this.je[2]+")";if(d||c)f=0,B+=80;c&&(m=0,h=this.v-0);var K=h-m;e.save();e.fillStyle=k;e.globalAlpha=b;e.fillRect(0,f,h+m,B);e.globalAlpha=1;d&&(B-=40);if(!c){e.font="16px Arial";e.textAlign="center";e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(this.v/2,B+m/2-6),e.fillText("Generation",b,b),e.restore(),e.save(),
e.translate(m/2+6,this.s/2),e.rotate(-90*Math.PI/180),320>this.s?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=l;e.fillStyle="black";for(b=2;0<=b;b-=2)e.save(),e.translate(m-m/2+6,f+m),e.rotate(-90*Math.PI/180),e.fillText(String(this.xb),b,b),e.restore(),e.save(),e.translate(m-m/2+6,B),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(m,B+m/2-6),e.fillText("0",b,b),e.restore(),e.save(),e.translate(h,B+m/2-6),e.fillText(String(this.i>K?this.i:
K),b,b),e.restore(),e.fillStyle=l}this.qg(e,C,K,B-f-m,f,m,this.Ce,a);this.qg(e,F,K,B-f-m,f,m,this.ve,a);this.qg(e,q,K,B-f-m,f,m,this.yd,a);e.strokeStyle=l;e.lineWidth=1;e.beginPath();e.moveTo(m+.5,f+m+.5);e.lineTo(m+.5,B+.5);e.lineTo(h+.5,B+.5);e.lineTo(h+.5,B+2.5);e.moveTo(m+.5,B+.5);e.lineTo(m+.5,B+2.5);e.moveTo(m+.5,B+.5);e.lineTo(m+.5-2,B+.5);e.moveTo(m+.5,f+m+.5);e.lineTo(m+.5-2,f+m+.5);e.stroke();e.restore()};a.prototype.Fp=function(){var a;for(a=0;a<d.Rh;a+=1)this.yd[a]=0,this.ve[a]=0,this.Ce[a]=
0;this.xb=this.yd[0]=this.Tb};a.prototype.fn=function(){var a=this.G,b=this.nb;b.X=a.X;b.Y=a.Y;b.Z=a.Z;b.V=a.V};a.prototype.Nr=function(){var a,b,d,c,g=this.Ib,f=this.tc,D=this.uc,h=this.re,w=this.o,k=this.h>>4,l;var q=0;var E=0!==(this.i&1)?this.fa:this.ob;for(a=0;a<w;a+=1){var C=0;var K=h[a];for(b=0;b<k;b+=1)if(l=K[b])for(d=15;0<=d;--d){if(0!==(l&1<<d))for(c=q;c<q+16;c+=1)f[c][C]=(E[c][C]|D[c][C])&g[c][C];C+=1}else C+=16;q+=16}};a.prototype.Cr=function(){var a,b,d,c,g,f=this.tc,D=this.re,h=this.o,
w=this.h>>4,k;var l=0!==(this.i&1)?this.fa:this.ob;for(a=g=0;a<h;a+=1){var q=0;var E=D[a];for(b=0;b<w;b+=1)if(k=E[b])for(d=15;0<=d;--d){if(0!==(k&1<<d))for(c=g;c<g+16;c+=1)l[c][q]&=~f[c][q];q+=1}else q+=16;g+=16}};a.prototype.pg=function(a,b,c){var e,g,f=this.kh,m=0,h=this.Uc[m],F=this.Vc[m],k=0,l=d.dn,q=l-1,E=0,C=l,K=this.Vk,r=this.Xa,G=this.$a;h[k]=a;F[k]=b;k+=1;for(c[b][a>>4]&=~(1<<(~a&15));0<k;)for(--k,k<E&&(--m,E-=l,C-=l,h=this.Uc[m],F=this.Vc[m]),a=h[k&q],b=F[k&q],g=b-K;g<=b+K;){for(e=a-K;e<=
a+K;)e===(e&r)&&g===(g&G)&&0!==(c[g][e>>4]&1<<(~e&15))&&(c[g][e>>4]&=~(1<<(~e&15)),k===C&&(m+=1,E+=l,C+=l,m>f&&(this.Uc[m]=this.l.ga(Int32,l,"Life.boundaryX"+m),this.Vc[m]=this.l.ga(Int32,l,"Life.boundaryY"+m),this.kh=f+=1),h=this.Uc[m],F=this.Vc[m]),h[k&q]=e,F[k&q]=g,k+=1),e+=1;g+=1}};a.prototype.yh=function(a,b,d){for(var e=d[b][a],c=15;0<=c;)0!==(e&1<<c)&&this.pg((a<<4)+(~c&15),b,d),--c};a.prototype.Ol=function(a,b){this.pg(0,a,b)};a.prototype.ql=function(a,b,d){this.pg((a<<4)+15,b,d)};a.prototype.Dj=
function(){var a;var b=0!==(this.i&1)?this.fa:this.ob;var d=b.length;var c=b[0].length;var g=b[0];var f=b[d-1];for(a=0;a<c;)g[a]&&this.yh(a,0,b),f[a]&&this.yh(a,d-1,b),a+=1;for(a=0;a<d;)0!==(b[a][0]&32768)&&this.Ol(a,b),0!==(b[a][c-1]&1)&&this.ql(c-1,a,b),a+=1};a.prototype.Cl=function(){var a,b,c,f,g=this.Be,P,D=this.height,h=this.width,w=h>>4,k=this.G,l=D,q=-1,E=h,C=-1,K=this.o,r=this.h>>4,G=this.hc;var p=0;var u=K;if(0!==(this.i&1)){var A=this.fa;var t=this.ob;var H=this.wa;var z=this.aa;var x=
this.Ee}else A=this.ob,t=this.fa,H=this.aa,z=this.wa,x=this.De;for(b=0;b<g.length;b+=1)g[b]=0;0>p&&(p=0);u>K&&(u=K);var v=p<<4;var n=v+16;for(b=p;b<u;b+=1){var y=z[b];for(c=0;c<y.length;c+=1)y[c]=0}for(b=p;b<u;b+=1){var L=0;y=H[b];var J=z[b];var S=0<b?z[b-1]:G;var ba=b<K-1?z[b+1]:G;for(c=0;c<r;c+=1)if(f=y[c]){var ca=J[c];var V=S[c];var aa=ba[c];for(a=15;0<=a;--a){if(0!==(f&1<<a)){var X=P=0;var Q=v;var W=0===Q?this.fb:A[Q-1];var T=A[Q];p=A[Q+1];var Z=T[L];if(L)if(L>=w-1){W=W[L-1]<<17|W[L]<<1;T=T[L-
1]<<17|Z<<1;var R=p[L-1]<<17|p[L]<<1;var I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&32768)&&(X|=d.ze),X|=d.Fd;for(Q+=1;Q<n-1;){Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&
63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1}Z|=p[L];p=Q===this.height-1?this.fb:A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&32768)&&(X|=d.We),X|=d.Wd}else{W=W[L-1]<<17|W[L]<<1|W[L+1]>>15;T=T[L-1]<<17|Z<<1|T[L+1]>>15;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<
12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&32768)&&(X|=d.ze),0!==(I&1)&&(X|=d.Ae),X|=d.Fd;Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];
p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=
I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&
63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<
6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&
63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<
12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>
12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1;Z|=p[L];p=Q===this.height-1?
this.fb:A[Q+1];W=T;T=R;R=p[L-1]<<17|p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&32768)&&(X|=d.We),0!==(I&1)&&(X|=d.Xe),X|=d.Wd}else{W=W[L]<<1|W[L+1]>>15;T=Z<<1|T[L+1]>>15;R=p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>
4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&1)&&(X|=d.Ae),X|=d.Fd;for(Q+=1;Q<n-1;){Z|=p[L];p=A[Q+1];W=T;T=R;R=p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q);Q+=1}Z|=p[L];p=Q===this.height-1?this.fb:A[Q+1];W=T;T=R;R=p[L]<<1|p[L+1]>>15;I=x[W>>12&63|(T>>12&63)<<6|(R>>12&63)<<
12]<<12;I|=x[W>>8&63|(T>>8&63)<<6|(R>>8&63)<<12]<<8;I|=x[W>>4&63|(T>>4&63)<<6|(R>>4&63)<<12]<<4;I|=x[W&63|(T&63)<<6|(R&63)<<12];if(t[Q][L]=I)P|=I,Q<l&&(l=Q),Q>q&&(q=Q),0!==(I&1)&&(X|=d.Xe),X|=d.Wd}P&&(0!==(P&32768)&&(X|=d.Id),0!==(P&1)&&(X|=d.Sd));g[L]|=P;if(P||Z)ca|=1<<a,X&&(0!==(X&d.Id)&&(15>a?ca|=1<<a+1:0<c&&0<L&&(J[c-1]|=1)),0!==(X&d.Sd)&&(0<a?ca|=1<<a-1:c<r-1&&L<w-1&&(J[c+1]|=32768)),0!==(X&d.Fd)&&(V|=1<<a),0!==(X&d.Wd)&&(aa|=1<<a),0!==(X&d.ze)&&(15>a?V|=1<<a+1:0<c&&0<L&&(S[c-1]|=1)),0!==(X&
d.Ae)&&(0<a?V|=1<<a-1:c<r-1&&L<w-1&&(S[c+1]|=32768)),0!==(X&d.We)&&(15>a?aa|=1<<a+1:0<c&&0<L&&(ba[c-1]|=1)),0!==(X&d.Xe)&&(0<a?aa|=1<<a-1:c<r-1&&L<w-1&&(ba[c+1]|=32768)))}L+=1}J[c]|=ca;0<b&&(S[c]|=V);b<K-1&&(ba[c]|=aa)}else L+=16;v+=16;n+=16}for(c=0;c<w;c+=1)g[c]&&(c<E&&(E=c),c>C&&(C=c));E=(E<<4)+this.gg(g[E]);C=(C<<4)+this.rg(g[C]);0>q&&(q=D-1);l>=D&&(l=0);E>=h&&(E=0);0>C&&(C=h-1);q>D-1&&(q=D-1);0>l&&(l=0);0>E&&(E=0);C>h-1&&(C=h-1);k.Z=q;k.V=l;k.X=E;k.Y=C;for(b=0;b<G.length;b+=1)G[b]=0};a.prototype.Bl=
function(){Array.ad(this.aa,this.wa);Array.ad(this.Eb,this.Pb)};a.prototype.Dl=function(){var a,b,c,f,g,P=this.Be,D,h=this.height,w=this.width,k=w>>4,l=this.G,q=h,E=-1,C=w,K=-1,r=this.o,G=this.h>>4,p=this.hc,u=this.Tc,A=0,t=0,H=0;var z=0;var x=r;if(0!==(this.i&1)){var v=this.fa;var n=this.ob;var y=this.wa;var L=this.aa;var J=this.Ee}else v=this.ob,n=this.fa,y=this.aa,L=this.wa,J=this.De;for(b=0;b<P.length;b+=1)P[b]=0;0>z&&(z=0);x>r&&(x=r);var S=z<<4;var ba=S+16;for(b=z;b<x;b+=1){var ca=L[b];for(c=
0;c<ca.length;c+=1)ca[c]=0}for(b=z;b<x;b+=1){var V=0;ca=y[b];var aa=L[b];var X=0<b?L[b-1]:p;var Q=b<r-1?L[b+1]:p;for(c=0;c<G;c+=1)if(f=ca[c]){var W=aa[c];var T=X[c];var Z=Q[c];for(a=15;0<=a;--a){if(0!==(f&1<<a)){var R=D=0;var I=S;var O=0===I?this.fb:v[I-1];var N=v[I];z=v[I+1];var Y=g=N[V];if(V)if(V>=k-1){O=O[V-1]<<17|O[V]<<1;N=N[V-1]<<17|g<<1;var U=z[V-1]<<17|z[V]<<1;var M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12;M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8;M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<
12]<<4;M|=J[O&63|(N&63)<<6|(U&63)<<12];n[I][V]=M;A+=u[M];t+=u[M&~g];H+=u[g&~M];M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&32768)&&(R|=d.ze),R|=d.Fd);for(I+=1;I<ba-1;)g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1;g=z[V];Y|=g;z=I===this.height-1?this.fb:v[I+1];
O=N;N=U;U=z[V-1]<<17|z[V]<<1;M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12;M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8;M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4;M|=J[O&63|(N&63)<<6|(U&63)<<12];n[I][V]=M;A+=u[M];t+=u[M&~g];H+=u[g&~M];M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&32768)&&(R|=d.We),R|=d.Wd)}else O=O[V-1]<<17|O[V]<<1|O[V+1]>>15,N=N[V-1]<<17|g<<1|N[V+1]>>15,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|
(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&32768)&&(R|=d.ze),0!==(M&1)&&(R|=d.Ae),R|=d.Fd),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=
z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=
J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>
12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),
I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>
4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|
(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&
(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&
63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1,g=z[V],Y|=g,z=I===this.height-1?this.fb:v[I+1],O=N,N=
U,U=z[V-1]<<17|z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&32768)&&(R|=d.We),0!==(M&1)&&(R|=d.Xe),R|=d.Wd);else{O=O[V]<<1|O[V+1]>>15;N=g<<1|N[V+1]>>15;U=z[V]<<1|z[V+1]>>15;M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12;M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8;M|=J[O>>4&63|(N>>4&
63)<<6|(U>>4&63)<<12]<<4;M|=J[O&63|(N&63)<<6|(U&63)<<12];n[I][V]=M;A+=u[M];t+=u[M&~g];H+=u[g&~M];M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&1)&&(R|=d.Ae),R|=d.Fd);for(I+=1;I<ba-1;)g=z[V],Y|=g,z=v[I+1],O=N,N=U,U=z[V]<<1|z[V+1]>>15,M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12,M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8,M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4,M|=J[O&63|(N&63)<<6|(U&63)<<12],n[I][V]=M,A+=u[M],t+=u[M&~g],H+=u[g&~M],M&&(D|=M,I<q&&(q=I),I>E&&(E=I)),I+=1;g=z[V];Y|=g;z=I===this.height-1?
this.fb:v[I+1];O=N;N=U;U=z[V]<<1|z[V+1]>>15;M=J[O>>12&63|(N>>12&63)<<6|(U>>12&63)<<12]<<12;M|=J[O>>8&63|(N>>8&63)<<6|(U>>8&63)<<12]<<8;M|=J[O>>4&63|(N>>4&63)<<6|(U>>4&63)<<12]<<4;M|=J[O&63|(N&63)<<6|(U&63)<<12];n[I][V]=M;A+=u[M];t+=u[M&~g];H+=u[g&~M];M&&(D|=M,I<q&&(q=I),I>E&&(E=I),0!==(M&1)&&(R|=d.Xe),R|=d.Wd)}D&&(0!==(D&32768)&&(R|=d.Id),0!==(D&1)&&(R|=d.Sd));P[V]|=D;if(D||Y)W|=1<<a,R&&(0!==(R&d.Id)&&(15>a?W|=1<<a+1:0<c&&0<V&&(aa[c-1]|=1)),0!==(R&d.Sd)&&(0<a?W|=1<<a-1:c<G-1&&V<k-1&&(aa[c+1]|=32768)),
0!==(R&d.Fd)&&(T|=1<<a),0!==(R&d.Wd)&&(Z|=1<<a),0!==(R&d.ze)&&(15>a?T|=1<<a+1:0<c&&0<V&&(X[c-1]|=1)),0!==(R&d.Ae)&&(0<a?T|=1<<a-1:c<G-1&&V<k-1&&(X[c+1]|=32768)),0!==(R&d.We)&&(15>a?Z|=1<<a+1:0<c&&0<V&&(Q[c-1]|=1)),0!==(R&d.Xe)&&(0<a?Z|=1<<a-1:c<G-1&&V<k-1&&(Q[c+1]|=32768)))}V+=1}aa[c]|=W;0<b&&(X[c]|=T);b<r-1&&(Q[c]|=Z)}else V+=16;S+=16;ba+=16}for(c=0;c<k;c+=1)P[c]&&(c<C&&(C=c),c>K&&(K=c));C=(C<<4)+this.gg(P[C]);K=(K<<4)+this.rg(P[K]);0>E&&(E=h-1);q>=h&&(q=0);C>=w&&(C=0);0>K&&(K=w-1);E>h-1&&(E=h-1);
0>q&&(q=0);0>C&&(C=0);K>w-1&&(K=w-1);l.Z=E;l.V=q;l.X=C;l.Y=K;for(b=0;b<p.length;b+=1)p[b]=0;this.Tb=A;this.vc=t;this.wc=H};a.prototype.ji=function(a,b){var e,d=this.Oa,c,f,m,h,w=this.o,k=this.h>>4;var l=0;var q=l+16;for(c=0;c<w;c+=1){var E=0;var C=d[c];for(f=0;f<k;f+=1)if(h=C[f])for(m=15;0<=m;--m){if(0!==(h&1<<m))for(e=l;e<q;e+=2){var K=a[e];var r=a[e+1];var G=b[e];var p=E<<3;var u=0;var A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=
K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);
A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u;p+=1;u=0;A=K[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);A=r[p];(A&255)>u&&(u=A&255);A>>=8;A>u&&(u=A);G[p+p]=u}E+=1}else E+=16;l+=16;q+=16}};a.prototype.ki=function(a,b){var e,d=this.Oa,c,f,m,h,w=this.o,k=this.h>>4;var l=0;var q=l+16;for(c=0;c<w;c+=1){var E=0;var C=d[c];for(f=0;f<k;f+=1)if(h=C[f])for(m=15;0<=m;--m){if(0!==(h&1<<m))for(e=l;e<q;e+=4){var K=b[e];var r=a[e];
var G=a[e+2];var p=E<<4;var u=r[p];var A=r[p+2];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+2];A>u&&(u=A);K[p]=u;p+=4;u=r[p];A=r[p+2];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+2];A>u&&(u=A);K[p]=u;p+=4;u=r[p];A=r[p+2];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+2];A>u&&(u=A);K[p]=u;p+=4;u=r[p];A=r[p+2];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+2];A>u&&(u=A);K[p]=u}E+=1}else E+=16;l+=16;q+=16}};a.prototype.li=function(a,b){var e,d=this.Oa,c,f,m,h,w=this.o,k=this.h>>4;var l=0;var q=l+16;for(c=0;c<w;c+=1){var E=0;var C=d[c];for(f=
0;f<k;f+=1)if(h=C[f])for(m=15;0<=m;--m){if(0!==(h&1<<m))for(e=l;e<q;e+=8){var K=b[e];var r=a[e];var G=a[e+4];var p=E<<4;var u=r[p];var A=r[p+4];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+4];A>u&&(u=A);K[p]=u;p+=8;u=r[p];A=r[p+4];A>u&&(u=A);A=G[p];A>u&&(u=A);A=G[p+4];A>u&&(u=A);K[p]=u}E+=1}else E+=16;l+=16;q+=16}};a.prototype.ii=function(a,b){var e=this.Oa,d,c,f,m,h,w=this.o,k=this.h>>4;for(d=m=0;d<w;d+=1){var l=0;var q=e[d];for(c=0;c<k;c+=1)if(h=q[c])for(f=15;0<=f;--f){if(0!==(h&1<<f)){var E=b[m];var C=a[m];
var K=a[m+8];var r=l<<4;var G=C[r];C=C[r+8];C>G&&(G=C);C=K[r];C>G&&(G=C);C=K[r+8];C>G&&(G=C);E[r]=G}l+=1}else l+=16;m+=16}};a.prototype.Hj=function(){1>this.S&&(this.ji(this.Yh,this.B),.5>this.S&&(this.ki(this.B,this.la),.25>this.S&&(this.li(this.la,this.ma),.125>this.S&&this.ii(this.ma,this.Sa))));this.jf&&1>this.S&&(this.ji(this.Ge,this.ka),.5>this.S&&(this.ki(this.ka,this.Bd),.25>this.S&&(this.li(this.Bd,this.Cd),.125>this.S&&this.ii(this.Cd,this.He))))};a.prototype.zl=function(){var a=this.va,
b=this.Oa,d=this.Ia,c,f,P;var D=this.o;var h=this.h>>4,w=this.u-1;var k=0;var l=D;this.Ic=this.ba=0;if(0!==(this.i&1)){var q=this.fa;var E=this.wa}else q=this.ob,E=this.aa;0>k&&(k=0);l>D&&(l=D);D=k<<4;var C=D+16;for(c=k;c<l;c+=1){var K=0;var r=E[c];var G=d[c];var p=b[c];for(f=0;f<h;f+=1){var u=r[f]|G[f];var A=0;if(u)for(P=15;0<=P;--P){if(0!==(u&1<<P)){var t=0;for(k=D;k<C;k+=1){var H=q[k];var z=a[k];var x=K<<4;var v=H[K];var n=32768;var y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=
y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,
t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=
w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;x+=1;n>>=1;y=z[x];0!==y&&y!==w||0===(v&n)?(v&=~n,0<y&&(--y,t|=y)):(y=w,t|=y);z[x]=y;H[K]=v;this.ba|=v}t&&(A|=1<<P,this.Ic=t)}K+=1}else K+=16;G[f]=A;p[f]|=A}D+=16;C+=16}};a.prototype.Al=function(){var a=this.va,b=this.Oa,d,c,f,P,D;var h=this.o;var w=this.h>>4;var k=0;var l=h;this.Ic=0;0>k&&(k=0);l>h&&(l=h);h=k<<4;var q=
h+16;for(d=k;d<l;d+=1){var E=0;var C=b[d];for(c=0;c<w;c+=1)if(D=C[c])for(f=15;0<=f;--f){if(0!==(D&1<<f))for(k=h;k<q;k+=1){var K=a[k];var r=E<<4;for(P=15;0<=P;--P){var G=K[r];0<G&&--G;K[r]=G;r+=1;this.Ic|=G}}E+=1}else E+=16;h+=16;q+=16}};a.prototype.Bh=function(){var a=this.ba,b=this.i;-1===this.u?(0===a&&-1!==this.gl&&(this.i=this.gl),this.Fj(),this.i=b,0!==a&&0===this.ba&&(this.gl=this.i),a=this.ba):a=this.ba|this.Ic;return a};a.prototype.Fj=function(){var a=this.va,b=this.Oa,d=this.Ia,c=this.Zh,
f=this.P+1,P,D,h;var w=this.o;var k=this.h>>4;var l=0;var q=w;this.ba=0;if(0!==(this.i&1)){var E=this.fa;var C=this.wa}else E=this.ob,C=this.aa;0>l&&(l=0);q>w&&(q=w);w=l<<4;var K=w+16;for(P=l;P<q;P+=1){var r=0;var G=C[P];var p=d[P];var u=b[P];for(D=0;D<k;D+=1){var A=G[D]|p[D];var t=0;if(A)for(h=15;0<=h;--h){if(0!==(A&1<<h)){var H=0;for(l=w;l<K;){var z=E[l];var x=a[l];var v=r<<4;z=z[r];this.ba|=z;H|=z;if(0!==(z&32768))var n=c[x[v]+f];else n=c[x[v]],H|=1<n;x[v]=n;v+=1;0!==(z&16384)?n=c[x[v]+f]:(n=c[x[v]],
H|=1<n);x[v]=n;v+=1;0!==(z&8192)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4096)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2048)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1024)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&512)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&256)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&128)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&64)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&32)?n=c[x[v]+f]:(n=c[x[v]],H|=1<
n);x[v]=n;v+=1;0!==(z&16)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;l+=1;z=E[l];x=a[l];v=r<<4;z=z[r];this.ba|=z;H|=z;0!==(z&32768)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16384)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8192)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&
4096)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2048)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1024)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&512)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&256)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&128)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&64)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&32)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8)?n=c[x[v]+
f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;l+=1;z=E[l];x=a[l];v=r<<4;z=z[r];this.ba|=z;H|=z;0!==(z&32768)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16384)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8192)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4096)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2048)?n=c[x[v]+f]:(n=c[x[v]],H|=
1<n);x[v]=n;v+=1;0!==(z&1024)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&512)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&256)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&128)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&64)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&32)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;
v+=1;0!==(z&2)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;l+=1;z=E[l];x=a[l];v=r<<4;z=z[r];this.ba|=z;H|=z;0!==(z&32768)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16384)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8192)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4096)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2048)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1024)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&512)?
n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&256)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&128)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&64)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&32)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&16)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&8)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&4)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&2)?n=c[x[v]+f]:(n=c[x[v]],H|=1<n);x[v]=n;v+=1;0!==(z&1)?n=c[x[v]+f]:(n=c[x[v]],
H|=1<n);x[v]=n;l+=1}H&&(t|=1<<h)}r+=1}else r+=16;p[D]=t;u[D]|=t}w+=16;K+=16}};a.prototype.kq=function(a,b,d,c,f,P,D,h,w,k){var e=this.oc;c=c*a+e.Z;d=d*a+e.Y;b=b*a+e.V;f=f*a+e.X;e=d-f+1;a=c-b+1;this.R&&(e=d-b/2-(f-c/2)+1);0===e&&(e=1);0===a&&(a=1);P/=e;D/=a;k=Math.round(1E3*(P>D?D:P)/k)/1E3;k<h?k=h:k>w&&(k=w);return k};a.prototype.Fe=function(a,b,d,c,f,P,D,h,w,k,l,q,E,C,K,r){var e=this.G,g=this.oc,m=this.nb,B=this.ri;l?(B.Z=C*a+g.Z,B.Y=E*a+g.Y,B.V=q*a+g.V,B.X=K*a+g.X,k&&(m.X<B.X&&(B.X=m.X),m.V<B.V&&
(B.V=m.V),m.Y>B.Y&&(B.Y=m.Y),m.Z>B.Z&&(B.Z=m.Z)),e=B):k&&(e=m);a=e.X;k=e.Y;l=e.Z;e=e.V;this.Kc&&!r&&(g.X<a&&(a=g.X),g.Y>k&&(k=g.Y),g.Z>l&&(l=g.Z),g.V<e&&(e=g.V));-1!==this.yb&&(r=this.ua,g=this.Aa,this.width/2-r/2<a&&(a=this.width/2-r/2),this.width/2+r/2>k&&(k=this.width/2+r/2),this.height/2-g/2<e&&(e=this.height/2-g/2),this.height/2+g/2>l&&(l=this.height/2+g/2));w?(r=D,g=h,a=this.width/2-r/2,k=this.width/2+r/2,l=this.height/2+g/2,e=this.height/2-g/2):(r=k-a+1,g=l-e+1);this.R&&(a-=l/2,r=k-e/2-a+1);
0===r&&(r=1);0===g&&(g=1);b/=r;d/=g;P=Math.round(1E3*(b>d?d:b)/P)/1E3;P/=this.cc;P<c?P=c:P>f&&(P=f);return[P,a-this.nd+r/2,e-this.Oc+g/2]};a.prototype.Jj=function(a,b,d){var e=this.lc,c=this.v,f=this.s,m=b*c;a=b*c+a;c=a-15;if(0<=b&&b<f){for(;m<=c;)e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1,e[m]=d,m+=1;for(;m<=a;)e[m]=d,m+=1}};a.prototype.sf=function(a,b,d,c){var e=
this.lc,f=this.v;b=b*f+a;d=d*f+a;var m=d-15*f;if(0<=a&&a<f){for(;b<=m;)e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f,e[b]=c,b+=f;for(;b<=d;)e[b]=c,b+=f}};a.prototype.ic=function(){var a,b,d=this.v,c=this.s,f=this.bg,P=this.ag,D=this.S,h=f,w,k=((this.height/2-(this.D+this.Oc))*D+c/2)%D,l=((this.width/2-(this.I+this.nd))*D+d/2)%D;var q=0<this.gd&&this.Zf?2:1;for(w=f;q;){var E=
-(d/2/D)-(this.width/2-this.I-this.nd)|0;for(a=0;a<=d+D;a+=D)if(0<this.gd&&this.Zf&&(h=0===E%this.gd?P:f),E+=1,h===w)if(this.R){var C=-(c/2/D)-(this.height/2-this.D-this.Oc)|0;for(b=k;b<c;b+=D)0===(C&1)?this.sf(Math.round(a+l),Math.round(b),Math.round(b+D-1),h):this.sf(Math.round(a+l+D/2),Math.round(b),Math.round(b+D-1),h),C+=1}else this.sf(Math.round(a+l),0,c-1,h);E=-(c/2/D)-(this.height/2-this.D-this.Oc)|0;for(b=k;b<c;b+=D)0<this.gd&&this.Zf&&(h=0===E%this.gd?P:f),E+=1,h===w&&this.Jj(d-1,Math.round(b),
h);--q;w=P}};a.prototype.ef=function(){return 4<=this.S&&0===this.zb};a.prototype.Ij=function(){var a=this.ua,b=this.Aa,c=this.va,f=Math.round((this.width-a)/2-1),g=f+a+1,P=Math.round((this.height-b)/2-1),D=P+b+1,h=d.eo,w=c[P],k=c[D];if(0===a)for(a=0;a<this.width;a+=1)w[a]=h,k[a]=h;else if(0===b)for(a=0;a<this.height;a+=1)c[a][f]=h,c[a][g]=h;else{for(a=f;a<=g;a+=1)w[a]=h,k[a]=h;for(a=P+1;a<=D-1;a+=1)c[a][f]=h,c[a][g]=h}};a.prototype.ts=function(){this.Jg&&(this.po(),--this.Jg,this.Jg||(this.Wa.set(this.pa),
this.mb.set(this.qa),this.Fc.set(this.Qb)));this.S=this.zoom*this.cc;this.S<ViewConstants.Ba?this.S=ViewConstants.Ba:this.S>ViewConstants.sb&&(this.S=ViewConstants.sb);this.Ab=this.I+this.nd;this.Bb=this.D+this.Oc;this.c=this.qb/2+1;this.zb=this.R?0:this.angle;-1!==this.yb&&this.Ij();this.Hj();.125>this.S?this.jf?this.zd(this.He,this.Sa,15):this.Ad(this.Sa,this.Sa,15):.25>this.S?this.jf?this.zd(this.Cd,this.ma,7):this.Ad(this.ma,this.ma,7):.5>this.S?this.jf?this.zd(this.Bd,this.la,3):this.Ad(this.la,
this.la,3):1>this.S?this.jf?this.zd(this.ka,this.B,1):this.Ad(this.B,this.B,1):this.jf?this.zd(this.Bc,this.va,0):this.Ad(this.va,this.va,0)};a.prototype.um=function(a,b){var d=this.v>>3,c=this.Ne,e=this.lc,f,m,h=1,w=1,k=0,l=this.Xa&~b,q=this.$a&~b,E=~b;b=~b;var C=a,K=this.S;1<this.c&&(h=this.m);a=Math.sin(this.zb/180*Math.PI)/this.S;var r=Math.cos(this.zb/180*Math.PI)/this.S;var G=-(this.v/2*-a+this.s/2*r)+this.Bb;var p=-(this.v/2*r+this.s/2*a)+this.Ab;1<this.m&&1<this.c&&(k=.4/(this.m-1),w=.6);
this.Xb(w);var u=8192>this.width?c[0]|0:this.Ah|0;var A=0;var t=G;for(f=0;f<this.s;f+=1){var H=p;for(m=0;m<d;m+=1){if((H&E)===(H&l)&&(t&b)===(t&q)){var z=C[t&q][H&l]|0;e[A]=c[z]}else e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=
u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a;(H&E)===(H&l)&&(t&b)===(t&q)?(z=C[t&q][H&l]|0,e[A]=c[z]):e[A]=u;A+=1;H+=r;t-=a}p+=a;t=G+=r}this.Cb&&this.ef()&&this.ic();for(u=1;u<h;u+=1){var x=-1!==this.u?this.u/this.m*u|0:(this.P+1)/this.m*u|0;w+=k;this.Xb(w);a/=this.c;r/=this.c;K*=this.c;.125>K?(C=this.Sa,b=15):.25>K?(C=this.ma,b=7):.5>K?(C=this.la,b=3):1>K?(C=this.B,b=
1):(C=this.va,b=0);l=this.Xa&~b;q=this.$a&~b;E=~b;b=~b;G=-(this.v/2*-a+this.s/2*r)+this.Bb;p=-(this.v/2*r+this.s/2*a)+this.Ab;A=0;t=G;for(f=0;f<this.s;f+=1){H=p;for(m=0;m<d;m+=1)(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,
(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a,(H&E)===(H&l)&&(t&b)===(t&q)&&(z=C[t&q][H&l]|0,z>=x&&(e[A]=c[z])),A+=1,H+=r,t-=a;p+=a;t=G+=r}}};a.prototype.vm=function(a,b){var d=this.v>>3,c=this.Ne,e=this.lc,f,m,h=1,w=1,k=0,l=this.Xa&~b,q=this.$a&~b,E=~b;b=~b;var C=a,K=this.S;1<this.c&&(h=this.m);a=1/this.S;
var r=-(this.s/2*a)+this.Bb;var G=-(this.v/2*a)+this.Ab;1<this.m&&1<this.c&&(k=.4/(this.m-1),w=.6);this.Xb(w);var p=8192>this.width?c[0]|0:this.Ah|0;var u=0;var A=r;for(f=0;f<this.s;f+=1){if((A&b)===(A&q)){var t=C[A&q];var H=G;this.R&&(H+=.5*(A|0));for(m=0;m<d;m+=1){if((H&E)===(H&l)){var z=t[H&l]|0;e[u]=c[z]}else e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===
(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a;(H&E)===(H&l)?(z=t[H&l]|0,e[u]=c[z]):e[u]=p;u+=1;H+=a}}else for(m=0;m<d;m+=1)e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1,e[u]=p,u+=1;A=r+=a}this.Cb&&this.ef()&&this.ic();for(p=1;p<h;p+=1){var x=-1!==this.u?this.u/this.m*p|0:(this.P+1)/this.m*p|0;w+=k;this.Xb(w);a/=this.c;K*=this.c;.125>K?(C=this.Sa,b=15):.25>
K?(C=this.ma,b=7):.5>K?(C=this.la,b=3):1>K?(C=this.B,b=1):(C=this.va,b=0);l=this.Xa&~b;q=this.$a&~b;E=~b;b=~b;r=-(this.s/2*a)+this.Bb;G=-(this.v/2*a)+this.Ab;u=0;A=r;for(f=0;f<this.s;f+=1){if((A&b)===(A&q))for(t=C[A&q],H=G,this.R&&(H+=.5*(A|0)),m=0;m<d;m+=1)(H&E)===(H&l)&&(z=t[H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===
(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a,(H&E)===(H&l)&&(z=C[A&q][H&l]|0,z>=x&&(e[u]=c[z])),u+=1,H+=a;else u+=d<<3;A=r+=a}}};a.prototype.ur=function(a,b){var d=this.v>>3,c=this.Ne,e=this.lc,f,m,h=1,w=1,k=0,l=this.Xa&~b;b=this.$a&~b;var q=a,E=this.S;1<this.c&&(h=this.m);var C=Math.sin(this.zb/180*Math.PI)/this.S;var K=Math.cos(this.zb/180*Math.PI)/this.S;var r=-(this.v/
2*-C+this.s/2*K)+this.Bb;var G=-(this.v/2*K+this.s/2*C)+this.Ab;1<this.m&&1<this.c&&(k=.4/(this.m-1),w=.6);this.Xb(w);var p=0;var u=r;for(f=0;f<this.s;f+=1){var A=G;for(m=0;m<d;m+=1){var t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=1;A+=K;u-=C;t=q[u&b][A&l]|0;e[p]=c[t];p+=
1;A+=K;u-=C}G+=C;u=r+=K}this.Cb&&this.ef()&&this.ic();for(a=1;a<h;a+=1){var H=-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0;w+=k;this.Xb(w);C/=this.c;K/=this.c;E*=this.c;.125>E?(q=this.Sa,b=15):.25>E?(q=this.ma,b=7):.5>E?(q=this.la,b=3):1>E?(q=this.B,b=1):(q=this.va,b=0);l=this.Xa&~b;b=this.$a&~b;r=-(this.v/2*-C+this.s/2*K)+this.Bb;G=-(this.v/2*K+this.s/2*C)+this.Ab;p=0;u=r;for(f=0;f<this.s;f+=1){A=G;for(m=0;m<d;m+=1)t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=
c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C,t=q[u&b][A&l]|0,t>=H&&(e[p]=c[t]),p+=1,A+=K,u-=C;G+=C;u=r+=K}}};a.prototype.wr=function(a,b){var d=this.v>>3,c=this.Ne,e=this.lc,f,m=1,h=1,w=0,k=this.Xa&~b;b=this.$a&~b;var l=a,q=this.S;1<this.c&&(m=this.m);var E=1/this.S;var C=-(this.s/
2*E)+this.Bb;var K=-(this.v/2*E)+this.Ab;1<this.m&&1<this.c&&(w=.4/(this.m-1),h=.6);this.Xb(h);var r=0;var G=C;for(f=0;f<this.s;f+=1){var p=l[G&b];var u=K;this.R&&(u+=.5*(G|0));for(G=0;G<d;G+=1){var A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E;A=p[u&k]|0;e[r]=c[A];r+=1;u+=E}G=C+=E}this.Cb&&this.ef()&&this.ic();for(a=1;a<m;a+=1){var t=
-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0;h+=w;this.Xb(h);E/=this.c;q*=this.c;.125>q?(l=this.Sa,b=15):.25>q?(l=this.ma,b=7):.5>q?(l=this.la,b=3):1>q?(l=this.B,b=1):(l=this.va,b=0);k=this.Xa&~b;b=this.$a&~b;C=-(this.s/2*E)+this.Bb;K=-(this.v/2*E)+this.Ab;r=0;G=C;for(f=0;f<this.s;f+=1){p=l[G&b];u=K;this.R&&(u+=.5*(G|0));for(G=0;G<d;G+=1)A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=
E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E,A=p[u&k]|0,A>=t&&(e[r]=c[A]),r+=1,u+=E;G=C+=E}}};a.prototype.Ad=function(a,b,d){var c=Math.sin(this.zb/180*Math.PI)/this.S,e=Math.cos(this.zb/180*Math.PI)/this.S,f=this.v,m=this.s,h=-(this.v/2*-c+this.s/2*e)+this.Bb,w=-(this.v/2*e+this.s/2*c)+this.Ab;b=h+f*-c;var k=w+f*e,l=h+m*e;m=w+m*c;c=l+f*-c;e=m+f*e;f=h;var q=w;k<q&&(q=k);m<q&&(q=m);e<q&&(q=m);k>w&&(w=k);m>w&&(w=m);e>w&&(w=e);
b<f&&(f=b);l<f&&(f=l);c<f&&(f=c);b>h&&(h=b);l>h&&(h=l);c>h&&(h=c);0>(q|0)||(w|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.zb?this.vm(a,d):this.um(a,d):0===this.zb?this.wr(a,d):this.ur(a,d)};a.prototype.Pl=function(a,b,d){var c=this.v>>3,e=this.Ne,f=this.lc,m,h;var w=ViewConstants.Ra[3]+128;var k=ViewConstants.Ra[4]+128,l=ViewConstants.Ra[5]+128,q=ViewConstants.Ra[6]+128,E=1,C=1,F=0,r=this.W,G=this.Xa&~d,p=this.$a&~d,u=~d;d=~d;var A=b,t=this.S;1<this.c&&(E=this.m);b=Math.sin(this.zb/180*Math.PI)/
this.S;var H=Math.cos(this.zb/180*Math.PI)/this.S;var z=-(this.v/2*-b+this.s/2*H)+this.Bb;var x=-(this.v/2*H+this.s/2*b)+this.Ab;1<this.m&&1<this.c&&(F=.4/(this.m-1),C=.6);this.Xb(C);var v=8192>this.width?e[0]|0:this.Ah|0;var n=0;var y=z;for(m=0;m<this.s;m+=1){var L=x;for(h=0;h<c;h+=1){if((L&u)===(L&G)&&(y&d)===(y&p)){var J=A[y&p][L&G];var S=a[y&p][L&G];S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0;f[n]=J}else f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?(J=
A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?
(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&p)?(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b;(L&u)===(L&G)&&(y&d)===(y&
p)?(J=A[y&p][L&G],S=a[y&p][L&G],S===k||S===q?(J>=r&&(S=w),J=e[S]|0):S===w||S===l?(J<r&&(S=k),J=e[S]|0):J=e[J]|0,f[n]=J):f[n]=v;n+=1;L+=H;y-=b}x+=b;y=z+=H}this.Cb&&this.ef()&&this.ic();for(a=1;a<E;a+=1)for(w=-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0,C+=F,this.Xb(C),b/=this.c,H/=this.c,t*=this.c,.125>t?(A=this.Sa,d=15):.25>t?(A=this.ma,d=7):.5>t?(A=this.la,d=3):1>t?(A=this.B,d=1):(A=this.va,d=0),G=this.Xa&~d,p=this.$a&~d,u=~d,d=~d,z=-(this.v/2*-b+this.s/2*H)+this.Bb,x=-(this.v/2*H+this.s/
2*b)+this.Ab,n=0,y=z,m=0;m<this.s;m+=1){L=x;for(h=0;h<c;h+=1)(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&
p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b,(L&u)===(L&G)&&(y&d)===(y&p)&&(J=A[y&p][L&G]|0,J>=w&&(f[n]=e[J])),n+=1,L+=H,y-=b;x+=b;y=z+=H}};a.prototype.Wl=function(a,b,d){var c=this.v>>3,e=this.Ne,f=this.lc,m,h;var w=ViewConstants.Ra[3]+128;var k=ViewConstants.Ra[4]+128,l=ViewConstants.Ra[5]+128,q=ViewConstants.Ra[6]+128,E=1,C=1,K=0,r=this.W,G=this.Xa&~d;d=this.$a&~d;var p=b,u=this.S;1<this.c&&(E=this.m);b=Math.sin(this.zb/
180*Math.PI)/this.S;var A=Math.cos(this.zb/180*Math.PI)/this.S;var t=-(this.v/2*-b+this.s/2*A)+this.Bb;var F=-(this.v/2*A+this.s/2*b)+this.Ab;1<this.m&&1<this.c&&(K=.4/(this.m-1),C=.6);this.Xb(C);var z=0;var x=t;for(m=0;m<this.s;m+=1){var v=F;for(h=0;h<c;h+=1){var n=p[x&d][v&G];var y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|
0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),
n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b;n=p[x&d][v&G];y=a[x&d][v&G];y===k||y===q?(n>=r&&(y=w),n=e[y]|0):y===w||y===l?(n<r&&(y=k),n=e[y]|0):n=e[n]|0;f[z]=n;z+=1;v+=A;x-=b}F+=b;x=t+=A}this.Cb&&this.ef()&&this.ic();for(a=1;a<E;a+=1)for(w=-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0,C+=K,this.Xb(C),b/=this.c,A/=this.c,u*=this.c,.125>u?(p=this.Sa,d=15):.25>u?(p=this.ma,
d=7):.5>u?(p=this.la,d=3):1>u?(p=this.B,d=1):(p=this.va,d=0),G=this.Xa&~d,d=this.$a&~d,t=-(this.v/2*-b+this.s/2*A)+this.Bb,F=-(this.v/2*A+this.s/2*b)+this.Ab,z=0,x=t,m=0;m<this.s;m+=1){v=F;for(h=0;h<c;h+=1)n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=
p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b,n=p[x&d][v&G]|0,n>=w&&(f[z]=e[n]),z+=1,v+=A,x-=b;F+=b;x=t+=A}};a.prototype.nm=function(a,b,d){var e=this.v>>3,c=this.Ne,f=this.lc,m;var h=ViewConstants.Ra[3]+128;var w=ViewConstants.Ra[4]+128,k=ViewConstants.Ra[5]+128,l=ViewConstants.Ra[6]+128,q=1,E=1,C=0,K=this.W,r=this.Xa&~d;d=this.$a&~d;var G=b,p=this.S;1<this.c&&(q=this.m);b=1/this.S;var u=-(this.s/2*b)+this.Bb;var A=-(this.v/2*b)+this.Ab;1<this.m&&1<this.c&&(C=.4/(this.m-1),E=.6);this.Xb(E);var t=
0;var F=u;for(m=0;m<this.s;m+=1){var z=G[F&d];var x=a[F&d];var v=A;this.R&&(v+=.5*(F|0));for(F=0;F<e;F+=1){var n=z[v&r];var y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=
h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|0):n=c[n]|0;f[t]=n;t+=1;v+=b;n=z[v&r];y=x[v&r];y===w||y===l?(n>=K&&(y=h),n=c[y]|0):y===h||y===k?(n<K&&(y=w),n=c[y]|
0):n=c[n]|0;f[t]=n;t+=1;v+=b}F=u+=b}this.Cb&&this.ef()&&this.ic();for(a=1;a<q;a+=1)for(h=-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0,E+=C,this.Xb(E),b/=this.c,p*=this.c,.125>p?(G=this.Sa,d=15):.25>p?(G=this.ma,d=7):.5>p?(G=this.la,d=3):1>p?(G=this.B,d=1):(G=this.va,d=0),r=this.Xa&~d,d=this.$a&~d,u=-(this.s/2*b)+this.Bb,A=-(this.v/2*b)+this.Ab,t=0,F=u,m=0;m<this.s;m+=1){z=G[F&d];v=A;this.R&&(v+=.5*(F|0));for(F=0;F<e;F+=1)n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=
1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b,n=z[v&r]|0,n>=h&&(f[t]=c[n]),t+=1,v+=b;F=u+=b}};a.prototype.Ul=function(a,b,d){var c=this.v>>3,e=this.Ne,f=this.lc,m;var h=ViewConstants.Ra[3]+128;var w=ViewConstants.Ra[4]+128,k=ViewConstants.Ra[5]+128,l=ViewConstants.Ra[6]+128,q=1,E=1,C=0,K=this.W,r=this.Xa&~d,G=this.$a&~d,p=~d;d=~d;var u=b,A=this.S;
1<this.c&&(q=this.m);b=1/this.S;var t=-(this.s/2*b)+this.Bb;var F=-(this.v/2*b)+this.Ab;1<this.m&&1<this.c&&(C=.4/(this.m-1),E=.6);this.Xb(E);var z=8192>this.width?e[0]|0:this.Ah|0;var x=0;var v=t;for(m=0;m<this.s;m+=1){if((v&d)===(v&G)){var n=u[v&G];var y=a[v&G];var L=F;this.R&&(L+=.5*(v|0));for(v=0;v<c;v+=1){if((L&p)===(L&r)){var J=n[L&r];var S=y[L&r];S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0}else J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||
S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&
p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b;(L&p)===(L&r)?(J=n[L&r],S=y[L&r],S===w||S===l?(J>=K&&(S=h),J=e[S]|0):S===h||S===k?(J<K&&(S=w),J=e[S]|0):J=e[J]|0):J=z;f[x]=J;x+=1;L+=b}}else for(v=0;v<c;v+=1)f[x]=z,x+=1,f[x]=z,x+=1,f[x]=z,x+=1,f[x]=z,x+=1,f[x]=z,x+=1,f[x]=z,x+=1,f[x]=
z,x+=1,f[x]=z,x+=1;v=t+=b}this.Cb&&this.ef()&&this.ic();for(a=1;a<q;a+=1)for(h=-1!==this.u?this.u/this.m*a|0:(this.P+1)/this.m*a|0,E+=C,this.Xb(E),b/=this.c,A*=this.c,.125>A?(u=this.Sa,d=15):.25>A?(u=this.ma,d=7):.5>A?(u=this.la,d=3):1>A?(u=this.B,d=1):(u=this.va,d=0),r=this.Xa&~d,G=this.$a&~d,p=~d,d=~d,t=-(this.s/2*b)+this.Bb,F=-(this.v/2*b)+this.Ab,x=0,v=t,m=0;m<this.s;m+=1){if((v&d)===(v&G))for(n=u[v&G],L=F,this.R&&(L+=.5*(v|0)),v=0;v<c;v+=1)(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=
b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b,(L&p)===(L&r)&&(J=n[L&r]|0,J>=h&&(f[x]=e[J])),x+=1,L+=b;else x+=c<<3;v=t+=b}};a.prototype.zd=function(a,b,d){var c=Math.sin(this.zb/180*Math.PI)/this.S,e=Math.cos(this.zb/
180*Math.PI)/this.S,f=this.v,m=this.s,h=-(this.v/2*-c+this.s/2*e)+this.Bb,w=-(this.v/2*e+this.s/2*c)+this.Ab,k=h+f*-c,l=w+f*e,q=h+m*e;m=w+m*c;c=q+f*-c;e=m+f*e;f=h;var E=w;l<E&&(E=l);m<E&&(E=m);e<E&&(E=m);l>w&&(w=l);m>w&&(w=m);e>w&&(w=e);k<f&&(f=k);q<f&&(f=q);c<f&&(f=c);k>h&&(h=k);q>h&&(h=q);c>h&&(h=c);0>(E|0)||(w|0)>=this.width||0>(f|0)||(h|0)>=this.height?0===this.zb?this.Ul(a,b,d):this.Pl(a,b,d):0===this.zb?this.nm(a,b,d):this.Wl(a,b,d)};a.prototype.lm=function(){var a;if(!this.jc.data.buffer){var b=
this.jc.data;var d=this.rf;var c=d.length;for(a=0;a<c;)b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1}this.$d.putImageData(this.jc,0,0)};a.prototype.Ej=function(){var a,b=0,d=this.s,c=this.v,f=this.lc,P=this.ye;for(a=0;a<d;a+=1)f.set(P,b),b+=c};window.LifeConstants=d;window.Life=a})();(function(){function b(b){this.source=b.replace(/&amp;/gi,"&");this.c=this.source.match(/\S+/g);this.current=0}b.prototype.K=function(){var b="";this.c&&this.current<this.c.length&&(b=this.c[this.current],this.current+=1);return b};b.prototype.La=function(){var b="";this.c&&this.current<this.c.length&&(b=this.c[this.current]);return b};b.prototype.Eo=function(){var b=Keywords.Zk,c=!1;if(this.c)for(;this.current<this.c.length&&!c;)this.c[this.current]===b&&(c=!0),this.current+=1;return c};b.prototype.h=
function(b){return!Number.isNaN(parseFloat(b))&&Number.isFinite(Number(b))};b.prototype.o=function(b){var c=!1,a=b.indexOf("/");-1!==a&&(c=b.substr(0,a),b=b.substr(a+1),c=this.h(c)&&this.h(b));return c};b.prototype.B=function(b){var c=0;if(this.o(b)){var a=b.indexOf("/");var d=b.substr(0,a);b=b.substr(a+1);0!==b&&(c=d/b)}else this.h(b)&&(c=parseFloat(b));return c};b.prototype.ca=function(){var b=this.K();return this.B(b)};b.prototype.da=function(){var b=!1;if(this.c&&this.current<this.c.length){var c=
this.c[this.current];this.o(c)?b=!0:b=this.h(c)}return b};window.Script=b})();(function(){function b(a){this.o=a;this.lh=this.Hd=!1;this.Nc=c.Um;this.Oe=c.Vh;this.M=this.Ea=-1;this.angle=this.y=this.x=0;this.depth=this.m=this.zoom=1;this.Fa=0;this.Ja=60;this.step=1;this.bb=this.sa=0;this.dc="";this.B=this.$i=this.uk=this.fl=this.Cj=this.Mf=this.Lf=this.Fn=this.Up=this.kj=this.eg=this.Dg=this.Df=this.lf=this.te=this.hf=this.tf=this.gc=this.cf=this.ud=this.Xd=this.Eb=this.zg=this.xd=this.vd=this.sd=this.Zb=!1}function f(){this.N=[];this.Da=[];this.current=new b(this);this.W=
new b(this);this.h=new b(this);this.o=!1;this.Ef=0}var c={Um:0,play:1,stop:2,Vh:12,zp:0,yp:200};b.prototype.set=function(a){this.Hd=a.Hd;this.lh=a.lh;this.Nc=a.Nc;this.Oe=a.Oe;this.Ea=a.Ea;this.M=a.M;this.x=a.x;this.y=a.y;this.sd=a.sd;this.vd=a.vd;this.xd=a.xd;this.Zb=a.Zb;this.angle=a.angle;this.zoom=a.zoom;this.m=a.m;this.depth=a.depth;this.Fa=a.Fa;this.Ja=a.Ja;this.sa=a.sa;this.bb=a.bb;this.dc=a.dc;this.zg=a.zg;this.Eb=a.Eb};b.prototype.c=function(){var a="";switch(this.Nc){case c.play:a=Keywords.Wh;
break;case c.stop:a=Keywords.Xh}return a};b.prototype.Os=function(a){this.Hd?(this.Nc!==c.Um&&(a[a.length]=[Keywords.Wh,"overwrites "+this.c()]),this.Nc=c.play):a[a.length]=[Keywords.Wh,"only valid at POI"]};b.prototype.Qs=function(a){this.Hd?(this.Nc!==c.Um&&(a[a.length]=[Keywords.Xh,"overwrites "+this.c()]),this.Nc=c.stop):a[a.length]=[Keywords.Xh,"only valid at POI"]};b.prototype.Ps=function(a){this.Hd?(this.lh&&(a[a.length]=[Keywords.Wi,"already defined"]),this.lh=!0):a[a.length]=[Keywords.Wi,
"only valid at POI"]};b.prototype.Ts=function(a,b){this.Hd?(this.Oe!==c.Vh&&(b[b.length]=[Keywords.Xi+" "+a,"overwrites "+this.Oe]),this.Oe=a):b[b.length]=[Keywords.Xi,"only valid at POI"]};b.prototype.h=function(a,b,c){var d=a.bb+0,e=b.bb+0,f=a.angle+0,g=b.angle+0,P=1,D=1,h=1,w=1,k=1;c>e&&(c=e);e-d==ViewConstants.Vs&&(d=e);e!==d&&(P=(c-d)/(e-d),D=this.o.ao(P)+0);b.sd||b.Zb?h=P:h=D;b.vd||b.Zb?w=P:w=D;b.xd||b.Zb?k=P:k=D;this.x=a.x+h*(b.x-a.x);this.y=a.y+w*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/
a.zoom,k);180<g-f?f+=360:-180>g-f&&(g+=360);this.angle=(f+D*(g-f))%360;this.m=a.m+P*(b.m-a.m)|0;this.depth=a.depth+P*(b.depth-a.depth);this.Fa=b.Fa;this.Ja=b.Ja;this.step=b.step;this.sa=a.sa+P*(b.sa-a.sa)|0;this.bb=c;this.dc=b.dc;this.Zb=b.Zb};f.prototype.$s=function(a){var b;for(b=this.N.length-1;0<=b;--b){var c=this.N[b];c.bb>a&&c.$i&&(this.Ef=b,c.$i=!1)}};f.prototype.zs=function(){var a;for(a=0;a<this.N.length;a+=1)this.N[a].$i=!1;this.Ef=0;this.B=!1};f.prototype.Sj=function(){return new b(this)};
f.prototype.ao=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};f.prototype.reset=function(){this.N=[];this.Da=[];this.o=!1;this.Ef=0};f.prototype.Br=function(){return this.N[this.N.length-1]};f.prototype.Do=function(a){var b=this.P(a),c=this.N[b];a>c.sa?a=c.bb+1E3*(a-c.sa)/(c.Ja*c.step):0<b?(b=this.N[b-1],a=b.bb+1E3*(a-b.sa)/(c.Ja*c.step)):a=1E3*a/(c.Ja*c.step);return a};f.prototype.qo=function(a,b,c,f,F,B,g,P,D,h,w){var k=this.W;k.x=a;k.y=b;k.zoom=c;k.angle=f;k.Ja=P;k.step=D;k.m=F;k.depth=
B;k.Fa=g;k.sa=h;this.o&&(w=this.h.bb);k.bb=w-1E3;this.update(w,h);this.h.set(this.current);this.h.Zb=!1;this.h.bb=w;this.o=!0;return k.bb};f.prototype.Ai=function(){return this.N[0]};f.prototype.$r=function(){return this.N.length};f.prototype.add=function(a){a.Hd?this.Da[this.Da.length]=a:this.N[this.N.length]=a};f.prototype.Tl=function(a){var b=!1;this.Ef>=this.N.length-1&&a>=this.N[this.Ef].bb&&(b=!0);return b};f.prototype.c=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};f.prototype.es=
function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.Xd&&(b+=" X "+a.x),a.ud&&(b+=" Y "+a.y),a.gc&&(b+=" ZOOM "+this.c(a.zoom)),a.cf&&(b+=" ANGLE "+a.angle));return b.substr(1)};f.prototype.xp=function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.lh&&(b+=" POIRESET"),a.Nc===c.play?b+=" POIPLAY":a.Nc===c.stop&&(b+=" POISTOP"),a.Oe!==c.Vh&&(b+=" POITRANS "+a.Oe));return b.substr(1)};f.prototype.fs=function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.eg&&(b+=" LOOP "+(-1===a.M?
"OFF":a.M)),a.Dg&&(b+=" STOP "+(-1===a.Ea?"OFF":a.Ea)),a.lf&&(b+=" GPS "+a.Ja),a.Df&&(b+=" STEP "+a.step));return b.substr(1)};f.prototype.xp=function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.lh&&(b+=" POIRESET"),a.Nc===c.play?b+=" POIPLAY":a.Nc===c.stop&&(b+=" POISTOP"),a.Oe!==c.Vh&&(b+=" POITRANS "+a.Oe));return b.substr(1)};f.prototype.js=function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.te&&(b+=" THEME "+a.Fa),a.hf&&(b+=" DEPTH "+this.c(a.depth)),a.tf&&(b+=" LAYERS "+a.m));
return b.substr(1)};f.prototype.hs=function(a){var b="";0<=a&&a<this.Da.length&&(a=this.Da[a],a.kj&&(b+=" POIT "+a.sa));return b.substr(1)};f.prototype.gs=function(a){var b=Keywords.ub,c="";0<=a&&a<this.Da.length&&(a=this.Da[a],""!==a.dc&&(c+=" "+b+a.dc+b));return c.substr(1)};f.prototype.tt=function(a){var b=Keywords.ub,c="";if(0<=a&&a<this.N.length){var f=this.N[a];0<a?(a=this.N[a-1],c=f.sa===a.sa?"P "+this.c((f.bb-a.bb|0)/1E3):"T "+f.sa,f.Zb?c+=" F":(f.x!==a.x&&(c+=" X "+-f.x),f.y!==a.y&&(c+=" Y "+
-f.y),f.zoom!==a.zoom&&(c+=" Z "+this.c(f.zoom))),f.angle!==a.angle&&(c+=" A "+f.angle),f.m!==a.m&&(c+=" L "+f.m),f.depth!==a.depth&&(c+=" D "+this.c(f.depth)),f.Fa!==a.Fa&&(c+=" C "+f.Fa),f.Ja!==a.Ja&&(c+=" G "+f.Ja),f.step!==a.step&&(c+=" S "+f.step),""!==f.dc&&(c+=" "+b+f.dc+b)):c="T "+f.sa+" X "+-f.x+" Y "+-f.y+" Z "+this.c(f.zoom)+" A "+f.angle+" L "+f.m+" D "+this.c(f.depth)+" C "+f.Fa+" G "+f.Ja+" S "+f.step}return c};f.prototype.update=function(a,b){var c=this.N.length,d=!1,f=this.Ef,B=!1;
if(this.o)this.current.h(this.W,this.h,a),a>=this.h.bb&&(this.o=!1);else{for(;f<c&&!d;){var g=this.N[f];g.bb>=a||!g.$i?d=!0:f+=1}d?(this.N[f].$i=!0,0<f?(this.N[f].Zb&&(this.N[f].x=this.current.x,this.N[f].y=this.current.y,this.N[f].zoom=this.current.zoom),this.current.h(this.N[f-1],this.N[f],a)):(f=0,this.current.set(this.N[f]))):(f=c-1,this.current.set(this.N[f]),b>=this.current.sa&&this.B&&(B=!0),this.B=!0);this.Ef=f}return B};f.prototype.P=function(a){for(var b=0,c=!1,f=this.N,F=this.N.length;b<
F&&!c;)f[b].sa>=a?c=!0:b+=1;c||(b=F-1);return b};f.prototype.gr=function(a){this.Ef=this.P(a)};f.prototype.ib=function(a,b,c,f){if(0===this.N.length)c[c.length]=[a+" "+Keywords.oa,"no initial waypoint defined"];else switch(a){case Keywords.ec:b.Xd&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+-b.x]);b.x=this.N[0].x;b.Xd=!0;break;case Keywords.fc:b.ud&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+-b.y]);b.y=this.N[0].y;b.ud=!0;break;case Keywords.wb:b.gc&&
(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+this.c(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.N[0].zoom;b.gc=!0;break;case Keywords.Gg:b.cf&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+b.angle]);b.angle=this.N[0].angle;b.cf=!0;break;case Keywords.Qg:b.hf&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+this.c(b.depth)]);b.depth=this.N[0].depth;b.hf=!0;break;case Keywords.$g:b.tf&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+
b.m]);b.m=this.N[0].m;b.tf=!0;break;case Keywords.Eg:b.te&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+b.Fa]);b.Fa=this.N[0].Fa;b.te=!0;break;case Keywords.Wg:b.lf&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+b.Ja]);b.Ja=this.N[0].Ja;b.lf=!0;break;case Keywords.rh:b.Df&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+b.step]);b.step=this.N[0].step;b.Df=!0;break;case Keywords.se:b.Dg&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":
"overwrites "+(-1===b.Ea?"OFF":b.Ea)]);b.Ea=this.N[0].Ea;b.Dg=!0;break;case Keywords.oe:b.eg&&(c[c.length]=[a+" "+Keywords.oa,f?"already defined":"overwrites "+(-1===b.M?"OFF":b.M)]);b.M=this.N[0].M;b.eg=!0;break;default:c[c.length]=[a+" "+Keywords.oa,"illegal command before "+Keywords.oa]}};f.prototype.Dq=function(a,b){this.ib(Keywords.ec,a,b,!1);this.ib(Keywords.fc,a,b,!1);this.ib(Keywords.wb,a,b,!1);this.ib(Keywords.Gg,a,b,!1);this.ib(Keywords.$g,a,b,!1);this.ib(Keywords.Qg,a,b,!1);this.ib(Keywords.Eg,
a,b,!1);this.ib(Keywords.Wg,a,b,!1);this.ib(Keywords.rh,a,b,!1);this.ib(Keywords.oe,a,b,!1);this.ib(Keywords.se,a,b,!1)};f.prototype.ls=function(a){var b,c=this.N,f=this.N.length;for(b=1;b<f;b+=1){var F=c[b-1];var B=c[b];B.Xd||(B.x=F.x);B.ud||(B.y=F.y);B.Lf||(B.sd=F.sd);B.Mf||(B.vd=F.vd);B.Cj||(B.xd=F.xd);B.cf||(B.angle=F.angle);B.gc||(B.zoom=F.zoom);B.tf||(B.m=F.m);B.hf||(B.depth=F.depth);B.te||(B.Fa=F.Fa);B.lf||(B.Ja=F.Ja);B.Df||(B.step=F.step);B.kj?B.sa<=F.sa&&(a[a.length]=[Keywords.hl+" "+B.sa,
"target generation must be later than previous ("+F.sa+")"]):B.sa=F.sa;B.bb=B.Up?1E3*B.bb+F.bb:F.bb+1E3*(B.sa-F.sa)/(B.Ja*B.step);B.fl||(B.zg=F.zg);B.uk||(B.Eb=F.Eb)}};window.Waypoint=b;window.WaypointManager=f;window.WaypointConstants=c})();(function(){function b(b,c){var a=this;this.Tn=b;this.g=c;this.top=this.left=0;""!==b.style.left&&(this.left=parseInt(b.style.left,10));""!==b.style.top&&(this.top=parseInt(b.style.top,10));this.Fb=this.Rg=!1;this.Ji=this.Ii=this.Li=this.Ki=this.wf=this.vf=-1;registerEvent(b,"mousedown",function(b){a.h(a,b)},!1);registerEvent(document,"mousemove",function(b){a.o(a,b)},!1);registerEvent(document,"mouseup",function(b){a.B(a,b)},!1);registerEvent(b,"touchstart",function(b){a.c(a,b)},!1);registerEvent(b,
"touchmove",function(b){a.c(a,b)},!1);registerEvent(b,"touchend",function(b){a.c(a,b)},!1);registerEvent(window,"resize",function(){a.Hp(a)},!1)}b.prototype.Hp=function(b){b.Pp(b.left,b.top,b.Tn)};b.prototype.it=function(b,c){this.Pp(this.left+b,this.top+c,this.Tn)};b.prototype.Pp=function(b,c,a){var d=window.innerWidth-a.clientWidth,e=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(d-=21);0>b&&(b=0);0>c&&(c=0);b>d&&(b=d);c>e&&(c=e);a.style.left=
b+"px";a.style.top=c+"px";a.style.position="fixed";this.left=b;this.top=c};b.prototype.Cq=function(){var b=this.Tn,c=b.offsetParent;this.offsetLeft=b.offsetLeft;for(this.offsetTop=b.offsetTop;c;)this.offsetLeft+=c.offsetLeft,this.offsetTop+=c.offsetTop,c=c.offsetParent;c=b.parentNode;if("fixed"===c.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==c.tagName.toLowerCase();)this.offsetLeft-=
c.scrollLeft,this.offsetTop-=c.scrollTop,c=c.parentNode};b.prototype.c=function(b,c){var a="";if("touchend"===c.type){a="mouseup";var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,b.Ki,b.Li,b.Ii,b.Ji,!1,!1,!1,!1,0,null);c.target.dispatchEvent(d);c.preventDefault()}else{if(1===c.touches.length)switch(c.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var e=c.changedTouches[0];d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,
window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(d);c.preventDefault();b.Ki=e.screenX;b.Li=e.screenY;b.Ii=e.clientX;b.Ji=e.clientY}}};b.prototype.h=function(b,c){b.wh(b,c);b.Fb=!0;b.g.ih=!0;c.stopPropagation&&c.stopPropagation();c.preventDefault()};b.prototype.B=function(b,c){b.Rg&&b.Fb&&(b.wh(b,c),b.Fb=!1,b.g.ih=!1,c.stopPropagation&&c.stopPropagation(),c.preventDefault())};b.prototype.o=function(b,c){if(b.Rg&&b.Fb){var a=b.vf,d=b.wf;b.wh(b,c);b.Fb&&b.it(b.vf-
a,b.wf-d);b.vf=a;b.wf=d;c.stopPropagation&&c.stopPropagation();c.preventDefault()}};b.prototype.wh=function(b,c){if(c.pageX||c.pageY){var a=c.pageX;c=c.pageY}else a=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=c.clientY+document.body.scrollTop+document.documentElement.scrollTop;b.Cq();a-=b.offsetLeft;c-=b.offsetTop;b.vf=a-1|0;b.wf=c-1|0};window.PopupWindow=b})();(function(){function b(){this.key=new Uint8Array(256);this.h=this.c=0}b.prototype.ne=function(b){var c,a,d=this.key;for(c=0;256>c;c+=1)d[c]=c;for(c=a=0;256>c;c+=1){a=a+d[c]+b.charCodeAt(c%b.length)&255;var e=d[c];d[c]=d[a];d[a]=e}this.h=this.c=0};b.prototype.random=function(){var b,c=0,a=1,d=this.key,e=this.c,m=this.h;for(b=0;8>b;b+=1){e=e+1&255;m=m+d[e]&255;var F=d[e];d[e]=d[m];d[m]=F;c+=d[d[e]+d[m]&255]*a;a*=256}this.c=e;this.h=m;return c/1.8446744073709552E19};window.Random=b;window.myRand=new b})();(function(){function b(b,c){this.Nk=b;this.x=c.ga(Float32,b,"Stars.x");this.y=c.ga(Float32,b,"Stars.y");this.h=c.ga(Float32,b,"Stars.z");this.blue=this.green=this.red=255;this.c=new Random;this.c.ne(Date.now().toString());this.sin=c.ga(Float32,2880,"Stars.sin");this.cos=c.ga(Float32,2880,"Stars.cos");this.o=Math.PI/180;this.B=180/Math.PI;for(b=0;2880>b;)this.sin[b]=Math.sin(b/8*this.o),this.cos[b]=Math.cos(b/8*this.o),b+=1}b.prototype.ne=function(b,c,a){var d,e=this.Nk,f=b*b+c*c;for(d=0;d<e;d+=1){var F=
d/e*(d/e)*(d/e)*(d/e)*a+1;do{var B=3*(this.c.random()*b-b/2);var g=3*(this.c.random()*c-c/2)}while(B*B+g*g>f);this.x[d]=B;this.y[d]=g;this.h[d]=F}};b.prototype.Fq=function(b,c,a,d,e,m,F,B){var f;if(littleEndian){var P=B>>16&255;var D=B>>8&255;var h=B&255}else h=B>>24&255,D=B>>16&255,P=B>>8&255;for(f=0;f<this.Nk;f+=1){var w=this.x[f]+b;var k=this.y[f]+c;if(0!==d){var l=Math.sqrt(w*w+k*k);k=Math.atan2(k,w)*this.B;k+=d;0>k?k+=360:360<=k&&(k-=360);k*=8;k|=0;w=l*this.cos[k];k=l*this.sin[k]}l=this.h[f]/
a*2;w=e/2+w/l|0;k=m/2+k/l|0;if(0<w&&w<e-1&&0<k&&k<m-1){w+=k*e;l=1536/l|0;255<l&&(l=255);l/=255;if(F[w]===B){k=h+(this.red-h)*l;var q=D+(this.green-D)*l;var E=P+(this.blue-P)*l;k=littleEndian?-16777216|E<<16|q<<8|k:k<<24|E<<16|q<<8|255;F[w]=k}l/=2;k=h+(this.red-h)*l;q=D+(this.green-D)*l;E=P+(this.blue-P)*l;k=littleEndian?-16777216|E<<16|q<<8|k:k<<24|E<<16|q<<8|255;--w;F[w]===B&&(F[w]=k);w+=2;F[w]===B&&(F[w]=k);--w;w-=e;F[w]===B&&(F[w]=k);w+=e+e;F[w]===B&&(F[w]=k)}}};window.Stars=b})();(function(){function b(a){this.tc=this.mb=this.De=this.Ge=this.uc=this.Ee=this.Ce=this.Be=this.Fc=this.rf=this.He=!1;this.Ke=this.Za=0;this.xb=null;this.Vc=this.Uc=0;this.Sn=!1;this.Og=this.Ud=this.Vd=-1;this.an=Date.now().toString();this.Lb=this.bn=!1;this.Pd=!0;this.kb=h.wo;this.ke=!1;this.element=a;this.ja=!1;this.If=this.Ye=this.Ze=this.Hf=this.Wj=this.Tj=this.Vj=this.Uj=0;this.eb=this.Yc=this.cb=this.uh=!1;this.Bi=!0;this.qk=!1;this.pk=0;this.Yf=!1;this.Uk=this.Tk=0;this.Pe=!1;this.U="";this.wd=
this.td=0;this.pm=this.om=this.Ih=this.Xf=this.Tg=this.kf=this.wn=this.vn=this.Ag=this.qh=this.Cg=this.Bg=this.bd=-1;this.Ck=this.jk=!1;this.il=this.Rc=-1;this.Lg=!1;this.bm=0;this.am=!0;this.Nj=this.Ta=!1;this.Hg=0;this.tq=.01;this.Se=this.nf=!1;this.gf=this.cd=null;this.ee=h.ee;this.Rf=[80,80,80];this.jl=null;this.qa="";this.ph=this.za=this.Od=!1;this.Re=null;this.Jc=!1;this.L=1;this.Me=this.Bf=0;this.hb=this.Im=!1;this.A=new WaypointManager;this.Bk="";this.Lm=-1;this.yc=this.gb=!1;this.J=1;this.tm=
this.Vm=this.Pi=0;this.Ie=h.Mr;this.jm=0;this.la=this.fa=this.W=this.P=-1;this.Ti=this.Si="";this.Vi=this.zf=this.sg=this.Af=0;this.Ui=null;this.Le=this.yf=this.qe="";this.Sf=!1;this.c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.yi=this.xi=-1;this.wi="";this.kc=[];this.Mj=!1;this.o=[];this.Ch=[];this.Ob=[];this.ya=1;this.C=0;this.Uh=100;this.ab=10;this.yk=this.Kp=1;this.Ue=[64,200,290,530,700];this.Yg=[];this.M=this.Ea=-1;this.Dj=this.xk=this.Pf=this.Gc=this.Kb=this.fh=this.pc=this.Hb=this.lb=
this.ra=!1;this.ni=this.ii=this.mi=-1;this.a=null;this.ba=!0;this.elapsedTime=0;this.v=640;this.s=512;this.rd=this.rn=this.pe=this.Db=!1;this.T=this.Qd=this.Tf=this.Ad=this.Qf=this.zd=this.tg=this.Cd=this.Wa=this.Sg=this.$d=this.Vg=this.ji=this.ag=this.sf=this.Ug=this.Xg=this.df=this.Zg=this.Wc=this.fg=this.pa=this.yd=this.Qb=this.hc=this.Wb=this.Pb=this.gg=this.qg=this.pg=this.bg=this.ki=this.Ib=this.ve=this.jc=this.ye=this.ic=this.we=this.Ph=this.Bd=this.Sa=this.Hc=this.jb=this.Pa=this.Ma=this.Ga=
this.vb=this.Nd=this.Va=this.ha=null;this.Oh=this.Nh=-1;this.wheelDelta=0;this.bc=this.hh=this.Jd=this.h=this.nb=null;this.nc=60;this.w=this.g=null;this.Hh=this.Rb=this.Eh=0;this.Pg=this.yo=1;this.hm=60;this.Gh=this.ik=1;this.gm=.1;this.mh=this.Nb=this.hn=0;this.$h=1;this.Ff=this.ea=this.Zh=this.Yh=this.ei=!1;this.Gb=h.xo;this.Ej=this.Gj=this.In=this.Fj=0;this.Ve=!1;this.gj=0}function f(a,c,d,e,f){var k,l=c.parentNode,q=null,g=null;for(k=0;k<w.Vb.length&&!g;)w.Vb[k][0].tabIndex===c.tabIndex?g=w.Vb[k][1]:
k+=1;g||(g=new b(f),g.Jc=e,D.Mi&&!e&&(g.Ie=d&-8,g.Ie<h.Mc&&(g.Ie=h.Mc)),c.tabIndex=w.Vb.length+1,g.wl(c),"none"===l.style.display&&(q=new PopupWindow(l,g.g)),w.Vb[w.Vb.length]=[c,g,q]);e||g.xn(a,!1)}function c(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==D.kk&&a.className!==D.lk||(b=!0),b||(a=a.parentNode);return a}function a(){var a=w.un(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.Rg=!1;b.Db&&(b.T.current=b.Ec(h.Ka,!0,b))}function d(b){a();b.stopPropagation&&b.stopPropagation();
b.preventDefault();return!1}function e(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function m(a){var b=c(a);a=e(b.getElementsByTagName(D.jh)[0]);b=b.getElementsByTagName("form")[0];b.getElementsByTagName("input")[0].value=a;b.submit()}function F(a){a=c(a);var b=a.getElementsByTagName(D.jh)[0],
k=e(b),g=w.un();if(g)g[1].element=b,g[1].Rn(g[1]);else{g=document.createElement("canvas");g.width=h.Mc;g.height=h.kg+80;g.style.display="block";var m=document.createElement("a");m.setAttribute("href","#");m.innerHTML="&nbsp;X&nbsp;";m.style.textDecoration="none";m.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";m.style.color="#FFFFFF";m.style.backgroundColor="#C75050";m.style.cssFloat="right";m.style.height="28px";m.style.fontSize="18px";var K=document.createElement("a");K.innerHTML=
"&nbsp;X&nbsp;";K.style.textDecoration="none";K.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";K.style.visibility="hidden";K.style.cssFloat="left";K.style.height="28px";K.style.fontSize="18px";var r=document.createElement("div");r.style.textAlign="center";r.style.color="rgb(83,100,130)";r.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";r.style.fontSize="18px";r.style.height="28px";var G=document.createTextNode("LifeViewer");r.style.cursor="default";r.appendChild(G);registerEvent(m,
"click",d,!1);var p=document.createElement("div");p.style.display="none";p.style.position="fixed";p.style.border="1px solid rgb(128,128,128)";p.style.left="2048px";p.style.top="0px";p.style.textAlign="right";p.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";p.style.margin="1px";var u=document.createElement("div");u.className=D.lk;u.style.backgroundColor="#FFFFFF";u.style.height="28px";u.style.lineHeight="28px";u.appendChild(K);u.appendChild(m);u.appendChild(r);p.appendChild(u);
p.appendChild(g);a.appendChild(p);f(k,g,h.Mc,!0,b);w.tn=w.Vb.length-1;g=w.un();g[1].jl=G}a=g[0].parentNode;""!==a.style.display&&(a.style.display="");g[1].v=h.Mc;g[1].s=h.kg+80;g[1].resize();g[1].g.notification.clear(!0,!0);g[1].g.notification.clear(!1,!0);g[1].xn(k,!0);a=g[2];a.Rg=!0;a.Hp(a);g[1].Jd.canvas.focus();g[1].g.hasFocus=!0;return!1}function B(a){m(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){F(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();
return!1}function P(){var a=document.getElementsByTagName("div"),b,c=new Allocator;var d=document.getElementsByTagName("meta");for(b=0;b<d.length;b+=1){var h=d[b];if(h.name===D.tagName){D.Em=!1;D.Mi=!1;h=h.content;var m=h.match(/\S+/g);if(2<=m.length&&5>=m.length)for(D.kk=m[0],D.jh=m[1],h=2;h<m.length;h+=1)switch(m[h]){case "hide":D.Em=!0;break;case "limit":D.Mi=!0;break;default:var r=m[h];!Number.isNaN(parseFloat(r))&&Number.isFinite(Number(r))&&(D.Qk=parseFloat(r)|0)}}}for(d=0;d<a.length;d+=1)if(m=
a[d],m.className===D.kk)h=m.getElementsByTagName(D.jh)[0],b=m.getElementsByTagName("canvas")[0],(m=h.getElementsByTagName(D.jh)[0])&&(h=m),typedArrays&&b&&b.getContext?h&&(r=e(h),-1<D.Qk&&h.clientHeight>D.Qk&&(h.style.height=D.Qk+"px"),f(r,b,h.offsetWidth,!1,h)):D.Em&&b&&(b.style.display="none");else if(typedArrays&&m.className===D.lk&&m.parentNode.className!==D.kk&&(h=m.getElementsByTagName(D.jh)[0])){r=e(h);b=null;var G=!1,p=null;try{p=PatternManager.create("",r,c),p.Sb&&(G=!0)}catch(u){}if(r=G)b=
m.getElementsByTagName("a")[0],r=document.createElement("a"),r.setAttribute("href","#"),r.innerHTML="Show in Viewer",registerEvent(r,"click",g,!1),b?(h=document.createTextNode(" / "),b.parentNode.appendChild(h),b.parentNode.appendChild(r)):h.parentNode.appendChild(r);r=!1}}var D={tagName:"LifeViewer",kk:"rle",jh:"code",Qk:37,Em:!0,Mi:!0,lk:"codebox"},h={Qp:.016,Vs:16,op:16384,wo:.7,Nk:1E4,Ls:"Script errors",lg:-2,jg:2,np:2,kp:4,xo:4,fq:45,zt:0,yt:1,To:null,lp:1,hp:16,vo:3,Mg:0,Dh:1,Xj:2,Ng:3,Zj:4,
ek:5,fk:6,gk:7,hk:8,Yj:9,bk:10,ak:11,$j:12,ck:13,dk:14,dm:15,qp:0,sp:1,So:2,bp:3,gp:4,ep:5,Xo:6,Ra:[0,6,2,5,3,4,1],Zs:"Off On History Mark1 MarkOff Mark2 Kill".split(" "),Ys:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),ds:0,cs:160,wp:10,Xm:100,vp:20,Fo:19,ut:!1,rm:1800,er:"LifeViewer",jn:"LifeViewer Image",hq:"LifeViewer Plugin",Qn:254,gq:"Chris Rowett",Ik:1,Fk:10,Nm:0,Xr:1,Ka:2,bh:3,pl:1.25,Hk:0,ip:10,Vf:10,Ba:.0625,sb:32,Sr:-16,Hr:-1,Lc:1,ig:60,ah:1,Ld:50,Qa:null,fontSize:18,mk:"18px Courier",
xh:"18px Arial",Te:"18px Arial",Qc:"14px Arial",el:"9px Arial",Lh:"rgb(32,255,255)",Gi:"#000000",ee:"rgb(255,96,96)",sk:"rgb(128,128,128)",Ur:64,Tr:64,Mc:480,Mr:2048,sr:80,Th:240,Gk:2048,kg:480,fr:64,zn:0,Sp:1,Tp:2,Qr:0,Er:16},w={l:new Allocator,Vb:[],tn:-1,un:function(){var a=null;-1!==this.tn&&(a=this.Vb[this.tn]);return a},rt:function(){var a=0,b;for(b=0;b<this.Vb.length;b+=1){var c=this.Vb[b][1];c.Db&&(a+=1)}return a},vs:function(){var a,b=0;for(a=0;a<this.Vb.length;a+=1){var c=this.Vb[a][1];
c.T.current=c.Ec(h.Nm,!0,c);c.g.wg(!0);b+=1}return b},at:function(){var a,b=0;for(a=0;a<this.Vb.length;a+=1){var c=this.Vb[a][1];c.Db&&(c.T.current=c.Ec(h.Ka,!0,c),b+=1)}return b},bt:function(a){var b,k=0;for(b=0;b<this.Vb.length;b+=1){var c=this.Vb[b][1];c!==a&&c.Db&&(c.T.current=c.Ec(h.Ka,!0,c),k+=1)}return k}};b.prototype.ri=function(a){this.tc=this.mb=this.De=this.Ge=this.uc=this.Ee=this.Ce=this.Be=this.Fc=this.rf=this.He=a};b.prototype.xl=function(){this.ri(!1)};b.prototype.ql=function(){this.ri(!0)};
b.prototype.xq=function(a){var b=a.hh.toDataURL("image/png"),k;(k=document.getElementById("screenshot"))?k.src=b:(k=window.open("",h.jn))?(k.width=a.v+20,k.height=a.s+20,k.document.open(),k.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+h.jn+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.v+'" height="'+a.s+'" src="'+b+'" alt="'+h.jn+'"/>\n\t</body>\n</html>\n'),k.document.close(),a.g.notification.F("Image Captured",300,!0)):a.g.notification.F("Could not open Image window!",
h.rm,!0)};b.prototype.Al=function(a){var b=this.a.ob,k=this.a.va,c=this.a.Bc;var d=a.width;var e=a.height;var f=this.Uc,g=this.Vc,p=this.a.Xa,m=this.a.Xa>>4,w=this.a.$a,t=d,B=e;var z=Math.round(-this.a.ua/2);var x=Math.floor((this.a.ua-1)/2);var v=Math.round(-this.a.Aa/2);var n=Math.floor((this.a.Aa-1)/2);var y=f-(this.a.width>>1),D=g-(this.a.height>>1),F=!0;-1!==this.a.yb&&(0!==this.a.ua&&(y<z||y+d-1>x)&&(F=!1),0!==this.a.Aa&&(D<v||D+e-1>n)&&(F=!1),F||(this.Sn=!0,0!==this.a.ua?(f=Math.round(this.a.width/
2)+z,t>x-z+1&&(t=x-z+1)):f=Math.round(this.a.width/2),0!==this.a.Aa?(g=Math.round(this.a.height/2)+v,B>n-v+1&&(B=n-v+1)):g=Math.round(this.a.height/2)));for(e=0;e<B;e+=1){x=a.Sb[e];v=b[e+g&w];if(this.Kb||-1!==this.a.u)for(z=a.ld[e],n=k[e+g&w],d=0;d<t;d+=1)n[d+f&p]=z[d];for(d=0;d<t;d+=1)0!==(x[d>>4]&1<<(~d&15))&&(v[d+f>>4&m]|=1<<(~(d+f)&15))}if(c)for(e=0;e<B;e+=1)for(z=a.ld[e],b=c[e+g&w],d=0;d<t;d+=1)(k=z[d])&&(b[d+f&p]=h.Ra[k]+128)};b.prototype.kh=function(a,b,c){a=a[0];b&&(c.kb=a);return[a,100*a]};
b.prototype.af=function(a,b,c){var k=a[0],d=0;b?(c.yc=!0,c.a.zoom=h.Ba*Math.pow(h.sb/h.Ba,a[0])/c.a.cc):(k=Math.log(c.a.zoom*c.a.cc/h.Ba)/Math.log(h.sb/h.Ba),0>k?k=0:1<k&&(k=1));this.cb&&!this.eb?d=c.a.zoom*c.a.cc:d=c.a.zoom;d<h.Ba?d=h.Ba:d>h.sb&&(d=h.sb);1>d&&(d=-1/d);return[k,d]};b.prototype.rq=function(a){var b=a/6E4|0;a=a%6E4/1E3;var k="";0<b&&(k=b+":",10>a&&(k+="0"));return k+=a.toFixed(2)};b.prototype.Fe=function(a,b){var k=this.a.zoom,c=this.a.I,d=this.a.D;if(this.ea){var e=this.a.Fe(this.Za,
this.v*this.Gb,this.s*this.Gb,h.Ba,h.sb,h.pl,this.Af,this.sg,this.Hb&&this.Ml,this.nf,this.cb,this.Hf,this.Ye,this.Ze,this.If,this.Se);e[0]/=this.Gb}else e=h.sr,this.pc&&(e=0),e=this.a.Fe(this.Za,this.v,this.s-e,h.Ba,h.sb,h.pl,this.Af,this.sg,this.Hb&&this.Ml,this.nf,this.cb,this.Hf,this.Ye,this.Ze,this.If,this.Se);this.Ta&&!a?(this.a.zoom=(5*this.a.zoom+e[0])/6,this.a.I=(5*this.a.I+e[1])/6,this.a.D=(5*this.a.D+e[2])/6,a=this.a.zoom>k?this.a.zoom/k-1:k/this.a.zoom-1,c=this.a.I>c?this.a.I-c:c-this.a.I,
d=this.a.D>d?this.a.D-d:d-this.a.D,this.Hg=a,c>this.Hg&&(this.Hg=c),d>this.Hg&&(this.Hg=d),.01>=this.Hg&&(this.a.zoom=e[0],this.a.I=e[1],this.a.D=e[2])):(this.Bg=this.a.width/2-this.a.I,this.Cg=this.a.height/2-this.a.D,this.qh=this.a.zoom,this.Ag=this.a.angle,this.kf=this.a.width/2-e[1],this.Tg=this.a.height/2-e[2],this.Xf=e[0],this.Ih=this.Ag,this.il=WaypointConstants.Vh,b?this.Rc=0:(this.Rc=WaypointConstants.Vh,this.Mn()));this.Ma&&(this.Ma.current=this.af([this.a.zoom,this.a.zoom],!1,this));this.Ga&&
(this.Ga.current=this.wj([this.a.angle,this.a.angle],!1,this))};b.prototype.zl=function(a){var b=a.width;a=a.height;-1!==this.Vd&&(b=this.Vd);-1!==this.Ud&&(a=this.Ud);-1!==this.a.yb&&this.Pe?(this.Uc=(this.a.width>>1)+this.td,this.Vc=(this.a.height>>1)+this.wd):(this.Uc=Math.round((this.a.width-b)/2)+this.td,this.Vc=Math.round((this.a.height-a)/2)+this.wd);!this.Hb&&this.a.Kc||!PatternManager.Jh||(this.Hb=this.Kb=!0)};b.prototype.hj=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+
"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};b.prototype.zh=function(a,b){var k=this.g.vf,c=this.g.wf;b=a+b;var d=-this.a.angle,e=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);0>b?b=0:1<b&&(b=1);a=h.Ba*Math.pow(h.sb/h.Ba,a);b=h.Ba*Math.pow(h.sb/h.Ba,b);b<h.Ba?b=h.Ba:b>h.sb&&(b=h.sb);k-=this.v/2;c-=this.s/2;k=(k-b/a*k)/b;a=(c-b/a*c)/b;this.a.I-=k*d+a*-e;this.a.D-=k*e+a*d;b=Math.log(b/h.Ba)/Math.log(h.sb/h.Ba);this.Ma.current=
this.af([b,b],!0,this)};b.prototype.kt=function(a,b){a.Qd.current=a.a.i/b*100;a.Qd.j=!1;a.Hc.Ed=0};b.prototype.jt=function(a){var b=!1,k=!1,c=0;a.ra||-1===a.M||(b=!0);!a.lb&&a.gb&&(k=!0);if(b||k){var d=!1;if(k&&b)c=a.elapsedTime/a.A.Do(a.M);else if(k){if(b=a.A.Br().bb)c=a.elapsedTime/b,1<c&&(d=!0)}else 0<a.M&&(c=a.a.i/a.M);1<c&&(c=1);a.Qd.current=100*c}else d=!0;(a.Qd.j=d)?a.Hc.Ed=a.w.Ed:a.Hc.Ed=0};b.prototype.ar=function(){this.Re.Fq(this.a.width/2-this.a.Ab,this.a.height/2-this.a.Bb,this.a.S,this.a.zb,
this.a.v,this.a.s,this.a.lc,this.a.Ne[0])};b.prototype.Us=function(){var a=this.w.Je-this.v/2,b=this.Vc-this.a.D,c=this.Uc-this.a.I-(this.a.R?this.a.D/2:0);var d=Math.floor((this.w.ng-this.s/2)/this.a.zoom-b);b=Math.floor(a/this.a.zoom+(this.a.R?b/2:0)-c);-1===this.w.Je||0!==this.a.zb?(this.Wa.tb="",this.Wa.j=!this.rd):(a=this.a.getState(b+this.Uc,d+this.Vc,this.Kb&&this.Hb),b+=this.td,d+=this.wd,-1===this.a.yb||this.Pe||(b-=Math.floor((-1===this.Vd?this.Af:this.Vd)/2),d-=Math.floor((-1===this.Ud?
this.sg:this.Ud)/2)),b=-9999>b||9999<b?Number(b/1E4).toFixed(1)+"K":String(b),d=-9999>d||9999<d?Number(d/1E4).toFixed(1)+"K":String(d),this.Wa.tb=b+","+d+"="+a,this.Wa.j=!1);this.Wa.enabled=this.rd||this.T.current===h.Ka&&-1!==this.w.Je?this.C||this.ya||0===this.Af?!1:!0:!1};b.prototype.ps=function(a){if(!this.pc)if(0<this.C)0<a?this.cl(this,3):this.bl(this,3);else if(0<this.ya)0<a?this.al(this,3):this.$k(this,3);else if(!this.hb){var b=this.Ma.current[0];0>a?this.zh(b,-.05):this.zh(b,.05)}};b.prototype.qt=
function(a,b){var k;var c=b.A.current;var d=!1,e=!1,f=!1,l=!1;b.hb=!1;b.Im&&(b.Im=!1,a=0);b.Hb||b.jt(b);b.J=b.Va.current[0];b.T.current!==h.Ka?(a>h.Fo&&(a=h.Fo,e=!0),!b.Db||b.gb&&!b.lb||(b.Ke+=b.J*b.nc*a/1E3,b.Za+=b.nc*a/1E3,(b.Za|0)>b.a.i?(b.Za+=b.J-1,b.pe=!0):b.elapsedTime+=a)):b.pe&&(b.Za=b.rn?b.a.i+1:b.a.i+b.J,b.Ke=b.Za);b.Nn();b.gb&&!b.lb&&b.T.current!==h.Ka?(b.yc&&!b.A.Tl(b.elapsedTime+a)&&(b.yc=!1,b.elapsedTime=b.A.qo(b.a.width/2-b.a.I,b.a.height/2-b.a.D,b.a.zoom,b.a.angle,b.a.m,b.a.qb*h.Vf,
b.a.de,b.nc,b.J,b.a.i,b.elapsedTime)),c.Zb&&(b.Fe(!0,!1),b.yc=!1,c.x=b.a.width/2-b.a.I,c.y=b.a.height/2-b.a.D,b.ea&&(b.a.zoom*=b.Gb),c.zoom=b.a.zoom),(f=b.A.update(b.elapsedTime+a,b.a.i))?(c.Zb&&(c.Zb=!1,b.ea&&(b.a.zoom=c.zoom/b.Gb),b.Ma&&(b.Ma.current=b.af([b.a.zoom,b.a.zoom],!1,b))),b.Za+=b.nc*a/1E3,(b.Za|0)>b.a.i&&(b.Za+=b.J-1,b.pe=!0)):(b.T.current!==h.Ka&&(b.hb=!0),b.a.I=b.a.width/2-c.x,b.a.D=b.a.height/2-c.y,b.a.zoom=c.zoom,b.ea&&(b.a.zoom=b.a.zoom/b.Gb),b.Ma&&(b.Ma.current=b.af([b.a.zoom,b.a.zoom],
!1,b)),b.a.angle=c.angle,b.Ga&&(b.Ga.current=[b.a.angle,b.a.angle]),b.a.m=c.m,b.jb&&(b.jb.current=[b.a.m,b.a.m]),b.a.qb=c.depth/h.Vf+h.Hk,b.Pa&&(b.Pa.current=[Math.sqrt(b.a.qb),b.a.qb*h.Vf]),b.nc=c.Ja,b.ha&&(b.ha.current=[Math.sqrt((c.Ja-h.Lc)/(h.ig-h.Lc)),b.Ho(c.Ja)]),b.J=c.step,b.Va.current=[b.J,b.J],c.sa>b.a.i?(b.pe=!0,b.Za=c.sa):b.pe=!1,c.dc!==b.Bk&&(""===c.dc?b.g.notification.clear(!1,!1):b.g.notification.F(c.dc,1E3,!1),b.Bk=c.dc),c.Fa!==b.Lm&&(b.a.xg(c.Fa,b.a.mo),b.vb&&(b.vb.current=[c.Fa,c.Fa]),
b.Lm=c.Fa)),b.pe||(b.elapsedTime+=a)):b.Ta&&b.T.current!==h.Ka&&(b.hb=!0);b.hb&&(b.Rc=-1);c=0;if(b.pe){if(b.ba){for(k=performance.now();!l&&b.a.i<(b.Za|0);){c=performance.now()-k;if(b.a.i===b.Ea-1||c>h.fq)l=!0;b.rd&&b.a.i===(b.Za|0)-1?b.a.dh(!0,b.Od,b.ke):b.a.dh(!1,b.Od,b.ke);if(b.a.Yp||b.a.i===(b.Za|0))b.ba=b.a.Bh();b.Hs(a,b.J);-1!==b.M&&b.a.i>=b.M&&!b.ra&&(b.elapsedTime=0,b.reset(b),f&&(b.hb=!0));b.ba||(l=!0)}b.ba||(b.tm=h.fr,b.jm=b.a.i,b.Bi&&(-1===b.M||b.ra)&&b.g.notification.F("Life ended at generation "+
b.jm,600,!0))}else b.tm&&(--b.tm,a=b.a.i,b.a.i=b.jm,b.a.Bh(),b.a.i=a),b.a.i+=b.J,-1!==b.M&&b.a.i>=b.M&&!b.ra&&(b.elapsedTime=0,b.reset(b),f&&(b.hb=!0));b.a.i===b.Ea&&(b.T.current=b.Ec(h.Ka,!0,b),b.Bi&&b.g.notification.F("STOP reached - Play to continue ",180,!0))}b.df.locked=b.hb&&b.gb;b.Ug.locked=b.hb||b.Ta;b.ha.locked=b.hb&&b.gb;b.Va.locked=b.hb&&b.gb;b.vb.locked=b.hb&&b.gb;b.Ma.locked=b.hb;b.Ga.locked=b.hb;b.jb.locked=b.hb&&b.gb;b.Pa.locked=b.hb&&b.gb;b.wheelDelta&&(b.ps(b.wheelDelta),b.wheelDelta=
0);b.Ta&&(b.T.current!==h.Ka||b.gb)&&b.Fe(!1,!1);b.a.ts();b.ph&&b.ar();b.a.lm();b.gj&&(2===b.gj&&b.a.Bo(b.Pd,1,!0,b.ea),b.xq(b),2===b.gj&&b.a.lm(),b.gj=0);b.a.i&&b.ba&&b.a.zq(h.Ld)&&(b.Rb+=b.a.width>>2,b.Hh+=b.a.height>>2,b.Nb+=b.a.width>>2,b.mh+=b.a.height>>2,b.a.R&&(b.Rb-=b.a.height>>3,b.Nb-=b.a.height>>3));b.Lb&&b.a.Bo(b.Pd,b.kb,!1,b.ea);b.C?Help.Ao(b):b.Ob.length&&Help.zo(b);b.Hc.lower[0]=b.qk?"+ "+b.hj(b.a.i):"T "+b.hj(b.a.i+b.pk);b.Sg.tb=b.rq(b.elapsedTime);b.tg.tb=b.hj(b.a.Tb);b.Qf.tb=b.hj(b.a.vc);
b.Tf.tb=b.hj(b.a.wc);b.tg.H="alive "+b.a.Tb;b.Qf.H="births "+b.a.vc;b.Tf.H="deaths "+b.a.wc;c>h.fq?(b.Me+=h.vp,b.Me>=2*h.Xm&&(b.Me=0)):0<b.Me&&(b.Me-=h.vp);e?b.Bf<h.cs&&(b.Bf+=h.wp):b.Bf>h.ds&&(b.Bf-=h.wp);e=b.Me<h.Xm?"rgb("+b.Bf+","+b.Me+",0)":"rgb("+b.Bf+","+(2*h.Xm-b.Me)+",0)";b.Va.be=e;e="rgb("+b.Bf+",0,0)";b.ha.be=e;b.pe=!1;b.rn=!1;b.Us();-1!==b.Rc&&b.Mn();if(b.Db||b.Ta&&b.Hg>b.tq||-1!==b.Rc)d=!0;b.ft();b.lt();b.gt();b.mt(b.C||b.Ob.length);b.g.wg(d)};b.prototype.Nn=function(){if(this.cb&&!this.eb){this.a.nd=
this.Ke*(this.Ye+this.If)/2;this.a.Oc=this.Ke*(this.Hf+this.Ze)/2;var a=this.a.kq(0,this.Hf,this.Ye,this.Ze,this.If,this.v,this.s-80,h.Ba,h.sb,h.pl);var b=this.a.kq(this.Ke,this.Hf,this.Ye,this.Ze,this.If,this.v,this.s-80,h.Ba,h.sb,h.pl);this.a.cc=b/a}else this.a.nd=0,this.a.Oc=0,this.a.cc=1;this.Ma.current=this.af([this.a.zoom,this.a.zoom],!1,this)};b.prototype.mt=function(a){this.df.j=a;this.Ma.j=a||this.Lb;this.Ug.j=a;this.Xg.j=a;this.yd.j=a||this.Lb;this.Wc.j=a||this.Lb;this.pa.j=a||this.Lb;this.fg.j=
a||this.Lb;this.Bd.j=a||!this.Lb;this.ji.j=a||!this.Lb;this.Ph.j=a||!this.Lb;this.$d.j=a;this.Sg.j=a;this.Cd.j=a;this.tg.j=a;this.zd.j=a;this.Qf.j=a;this.Ad.j=a;this.Tf.j=a;this.nb.j=a;this.Ga.j=a||this.a.R;this.Pa.j=a;this.vb.j=a;this.jb.j=a;this.Ug.j=a;this.sf.j=a||!this.Ff;this.ag.j=a||!this.Jc;this.Vg.j=a;this.we.j=a||!this.ja;this.ic.j=a||!this.ja;this.ye.j=a||!this.ja;this.jc.j=a||!this.ja;this.ve.j=a||!this.ja;this.Ib.j=a||!this.ja;this.ki.j=a||!this.ja;this.bg.j=a||!this.ja;this.pg.j=a||!this.ja;
this.qg.j=a||!this.ja;this.gg.j=a||!this.ja;this.Pb.j=a||!this.ja;this.Wb.j=a||!this.ja;this.hc.j=a||!this.ja;this.Qb.j=a||!this.ja};b.prototype.gt=function(){var a=-(this.a.width/2-this.a.I-this.a.nd|0),b=-(this.a.height/2-this.a.D-this.a.Oc|0);this.we.j=!this.ja;this.ic.j=!this.ja;this.ye.j=!this.ja;this.jc.j=!this.ja;this.ve.j=!this.ja;this.Ib.j=!this.ja;this.ki.j=!this.ja;this.bg.j=!this.ja;this.pg.j=!this.ja;this.qg.j=!this.ja;this.gg.j=!this.ja;this.Pb.j=!this.ja;this.Wb.j=!this.ja;this.Qb.j=
!this.ja;this.hc.j=!this.ja;if(-99999>a||99999<a)a=(a/1E3|0)+"K";if(-99999>b||99999<b)b=(b/1E3|0)+"K";this.ic.tb=a;this.jc.tb=b;this.Ib.tb=this.a.angle.toFixed(0)+"\u00b0";this.Pb.tb=this.Tj.toFixed(3);this.Wb.tb=this.Vj.toFixed(3);this.hc.tb=this.Wj.toFixed(3);this.Qb.tb=this.Uj.toFixed(3)};b.prototype.lt=function(){0===this.a.i?this.Wj=this.Tj=this.Vj=this.Uj=0:(this.Vj=(this.a.G.Z-this.a.oc.Z)/this.a.i,this.Uj=(this.a.G.V-this.a.oc.V)/this.a.i,this.Tj=(this.a.G.Y-this.a.oc.Y)/this.a.i,this.Wj=
(this.a.G.X-this.a.oc.X)/this.a.i)};b.prototype.ft=function(){this.df.current=[this.Ta];this.yd.current=[!this.Pf&&this.Gc];this.yd.locked=!this.Gc;this.cb?(this.pa.lower[0]="TRACK",this.pa.current=[!this.eb&&this.cb],this.pa.locked=!this.cb,this.pa.H=["toggle track mode"]):(this.pa.lower[0]="WAYPT",this.pa.current=[!this.lb&&this.gb],this.pa.locked=!this.gb,this.pa.H=["toggle waypoint mode"]);this.fg.current=[!this.ra&&-1!==this.M];this.fg.locked=-1===this.M;this.fg.H=["loop at "+this.M];this.Wc.current=
[-1!==this.Ea];this.Wc.locked=-1===this.Ea;this.Wc.H=["stop at "+this.Ea]};b.prototype.Hs=function(a,b){if(this.a.i>=this.xb.length){var k=this.a.l.ga(Float32,this.xb.length+h.op,"View.elapsedTimes");k.set(this.xb);this.xb=k}this.elapsedTime+=a/b;this.xb[this.a.i]=this.elapsedTime};b.prototype.pt=function(a){for(var b=a.bm,c=performance.now(),k,d=a.a.Dc.Jr*LifeConstants.ij;a.a.i<b-1&&13>performance.now()-c;)k=b-1-a.a.i<=d?!1:!0,a.a.dh(!1,0,k),a.a.Bh();a.a.i===b-1?(a.a.dh(a.rd,0,!1),a.ba=a.a.Bh(),
a.Lg=!1,a.am&&a.g.notification.clear(!0,!1),a.w.locked=!1):a.w.locked=!0;a.kt(a,b);a.a.lm();a.C?Help.Ao(a):a.Ob.length&&Help.zo(a);a.g.wg(!0)};b.prototype.vm=function(a,b){b.Lg?b.pt(b):b.qt(a,b)};b.prototype.Rn=function(a){a.a.i=0;a.Za=0;a.Ke=0;a.elapsedTime=0;a.a.I=a.a.width>>1;a.a.D=a.a.height>>1;a.a.I&=a.a.width-1;a.a.D&=a.a.height-1;a.ba=!0;a.Im=!0};b.prototype.xj=function(a,b,c){b&&(c.g.oh=a[0]);c.g.wg(!0);return[c.g.oh]};b.prototype.ml=function(a,b,c){b?(b=a[0]+.5|0,c.a.de!==b&&(c.a.xg(b,c.a.mo),
c.Sf&&b===c.a.qc?c.g.notification.F("Custom Theme",40,!0):c.g.notification.F("Theme "+b,40,!0)),a=a[0]):a=c.a.de;return[a,c.a.de]};b.prototype.Fg=function(a,b,c){b&&(c.J=a[0]+.5|0);return[c.J,c.J]};b.prototype.Ho=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};b.prototype.$e=function(a,b,c){b?(c.nc=h.Lc+a[0]*a[0]*(h.ig-h.Lc),a=a[0]):a=Math.sqrt((c.nc-h.Lc)/(h.ig-h.Lc));return[a,c.Ho(c.nc)]};b.prototype.Jp=function(a){a.$h=a.a.zoom;a.ea&&(a.$h=a.$h*a.Gb);a.hn=a.a.angle;a.Nb=a.a.I;
a.mh=a.a.D};b.prototype.Bs=function(a){a.Bg=a.a.width/2-a.a.I;a.Cg=a.a.height/2-a.a.D;a.qh=a.a.zoom;a.Ag=a.a.angle;a.kf=a.a.width/2-a.Nb;a.Tg=a.a.height/2-a.mh;a.Ih=a.hn;a.ea?a.Xf=a.$h/a.Gb:a.Xf=a.$h;a.Rc=0};b.prototype.xs=function(a,b){a.a.zoom=a.yo;a.ea&&(a.a.zoom=a.a.zoom/a.Gb);a.Ma&&(a.Ma.current=a.af([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.Eh;a.Ga&&(a.Ga.current=[a.Eh,a.Eh]);a.a.I=a.Rb;a.a.D=a.Hh;b&&(a.a.xg(a.Pg,1),a.vb.current=[a.Pg,a.Pg],a.Kb&&(a.a.Jg=0),b=Math.sqrt((a.hm-h.Lc)/(h.ig-h.Lc)),
a.ha.current=a.$e([b,b],!0,a),a.J=a.ik,a.Va.current=[a.J,a.J],a.a.m=a.Gh,a.jb.current=[a.Gh,a.Gh],b=Math.sqrt(a.gm),a.Pa.current=a.Jf([b,b],!0,a))};b.prototype.Ql=function(a){a?(this.a.I+=this.a.nd,this.a.D+=this.a.Oc,this.a.zoom*=this.a.cc):(this.Nn(),this.a.I-=this.a.nd,this.a.D-=this.a.Oc,this.a.zoom/=this.a.cc,this.Nn());this.a.zoom<h.Ba?this.a.zoom=h.Ba:this.a.zoom>h.sb&&(this.a.zoom=h.sb)};b.prototype.Ep=function(a){a.elapsedTime=0;a.Kb||(a.a.Yk(a.Od),a.ba=!0,a.a.ba=!0,a.a.Ic=!0,a.a.fn())};
b.prototype.reset=function(a){var b=!1,c=!1;if(0===a.elapsedTime||a.xk)b=!0;a.ra||-1===a.M||a.a.i>=a.M&&(c=!0);c||b||(a.gb&&(a.lb=!0),a.cb&&(a.eb=!0),-1!==a.M&&(a.ra=!0),a.Nj&&(a.Ta=!1));a.elapsedTime=0;a.a.nd=0;a.a.Oc=0;a.a.cc=1;b&&(c||a.xs(a,b),a.gb&&(a.lb=!1),a.cb&&(a.eb=!1),a.ra=!1,a.Nj&&(a.Ta=!0));a.Kb||(a.a.Yk(a.Od),a.Za=a.a.i,a.Ke=a.Za,a.ba=!0,a.a.ba=!0,a.a.Ic=!0);a.a.Fp();a.a.fn();a.Bk="";a.Lm=-1;a.yc=!1;a.A.zs();a.g.notification.clear(!1,!1)};b.prototype.Mp=function(a){a?(this.T.icon[2]=
h.Qa.icon("pause"),this.T.H[2]="pause"):(this.T.icon[2]=h.Qa.icon("stepforward"),this.T.H[2]="next generation")};b.prototype.Ec=function(a,b,c){var d=a,k=c.ra,e=c.lb,f=c.Pf,q=c.Ta,l=c.eb,g=40,m=0,t=0,w=0,z=0,x=0;if(b){switch(a){case h.Nm:c.Pf=c.xk||c.Gc&&0===c.a.i&&0===c.elapsedTime?!1:!0;c.Gc&&!c.Pf?(a=h.bh,c.Db=!0):(a=h.Ka,c.Db=!1);c.reset(c);b="Reset";!c.ra&&k&&-1!==c.M&&(m=1);c.ra&&!k&&-1!==c.M&&(m=-1);!q&&c.Ta&&(x=1);q&&!c.Ta&&(x=-1);!c.lb&&e&&(t=1);c.lb&&!e&&(t=-1);!c.eb&&l&&(w=1);c.eb&&!l&&
(w=-1);!c.Pf&&f&&c.Gc&&(z=1);c.Pf&&!f&&c.Gc&&(z=-1);if(0!==m||0!==t||0!==w||0!==z||0!==x){b="";0!==m&&(b+="Loop");if(0!==t||0!==w||0!==x)0!==m&&(b=0!==z?b+", ":b+" and "),b=0!==t?b+"Waypoints":0!==w?b+"Track":b+"AutoFit";if(0!==z){if(0!==m||0!==t||0!==w||0!==x)b+=" and ";b+="AutoStart"}b=0<m||0<t||0<w||0<z||0<x?b+" On":b+" Off";g=120}c.g.notification.F(b,g,!0);break;case h.bh:c.T.current!==h.bh&&(c.Db=!0,c.g.notification.F("Play",40,!0));break;case h.Xr:c.Db?(c.Db=!1,c.g.notification.F("Pause",40,
!0)):0<c.a.i&&c.dj(c.a.i-c.J);a=h.Ka;break;case h.Ka:c.Db?(c.Db=!1,(c.a.i!==c.Ea||c.Bi)&&c.g.notification.F("Pause",40,!0)):c.pe=!0}d=a;c.Mp(c.Db)}return d};b.prototype.wj=function(a,b,c){b&&(c.yc=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};b.prototype.yj=function(a,b,c){b?(c.yc=!0,c.a.m=a[0]+.5|0,a=a[0]):a=c.a.m;return[a,c.a.m]};b.prototype.Jf=function(a,b,c){return b?(c.yc=!0,c.a.qb=a[0]*a[0],[a[0],c.a.qb*h.Vf]):[Math.sqrt(c.a.qb),c.a.qb*h.Vf]};b.prototype.Ij=function(a,b,c,d){if(c){if(-1!==
d.Nh)if(d.C){var k=d.Oh-b;k/=h.fontSize;0<k?d.bl(d,k):0>k&&d.cl(d,-k)}else if(d.ya)k=d.Oh-b,k/=h.fontSize,0<k?d.$k(d,k):0>k&&d.al(d,-k);else{c=(d.Nh-a)/d.a.S;k=(d.Oh-b)/d.a.S;var e=d.a.R?0:-d.a.angle;var f=Math.sin(e/180*Math.PI);e=Math.cos(e/180*Math.PI);d.hb||(d.yc=!0,d.a.I+=c*e+k*-f,d.a.D+=c*f+k*e)}d.Nh=a;d.Oh=b}else d.Nh=-1,d.Oh=-1};b.prototype.og=function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.Oh=this.Nh=0;this.Ij(a,b,!0,this);this.Nh=-1};b.prototype.Bl=function(a){var b=
h.To;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAAoCAMAAADXNTCCAAAAb1BMVEUAAAAAADoAAGYAAP8AOpAAZrYAZv8IAAAIAP8IkNsIkP8NAAANADoNAGYNAP8NZrYNtv8TOgATOmYTOv8T2/8XZgAXZmYXZv8XtrYXttsX//8bkDob//8gtmYgtv8g25Ag/7Yg/9sg//9wcHD///8u+qFBAAAAAXRSTlMAQObYZgAABDJJREFUeAHsmYl28jYQhdUU/5Quf02Dm5alRKP7/s9Y5VohwkeZeEC49OB7ghHWMDORPmsR7j/QrFmzgvJ+57npOc4CpdeOt6sPDKqYzMBUBGaEhcGuemeAF72uMjAKh7Pg8KWBxa46MHQLvWo6YGaBf3q9xa4yMHpo1kwKzCzwpVdb7KoDQ8dQKiYFZhZ40WstdrWBoQDD/emBMRgjqfR5YGYPY2hMJCn5Afb/F2a7MEq1tnGpziBDfrAAAuBWwChB5HMpGYwGBvM5jCU/6P1eaOj6wOghROzEwACMgZgZGPMIQ90OGKAKMLABU4mYGRj/WUPjNsAAdYCBFRjc4px4ImAw0H0CA9QGRnFu5sUODP7HwCgfJwbG6zTXBUZ3bREuAQYzMDcHBqgHTMVhFUZglJgr2dUF5ptEHZfvHfC0ff2FhZAKvOfX8W2x552BnR0Yfluo7sltJSUQ1cbSzp6fg4EXh6HqAAPUAwZGYJSgP2zYtpna7kJgArWRXs8haSvf88IkwCRiWpZ2pvwqAANcDwxQERhYgVGiLvZ/+fU5QJ27QiuR9ZtXOWRD/RQjTPr2k2NpsffrPswqfyBClt9wOnr7YigFgM6LQ0nXAZOpwqIXlwFTNlv5P7aH1ODx8uumfzhXfDLVUaXgjSg8u6jmuAyx/LdE99FzxFBeysAwVNdnEF+/ixTAQV4aAQy5jzeH/0NI+YWYn8vyC8yvDAwAKzBUZWAu31bjOmAwmJGOy7ZnJQemZdyDERgycPzpo3NE5PW36PmNF8lIYE26k6aNBEyaTS6dkg5nIwx9d2fApPwIRiG/EjAe3ue8PDYwi/3BNdIlYPq269jc8SKdGZhGYoew/V+/8wGnU/r7VgQm9uCSNv2L5BTinq74Cph8DcNE8hk36PmVgPG8eCswzt0NMFWnpFXfzgNgGg4urewuG2FSh3DioVP6+7E4JTVC+fU7NIx71RomHx0j9fkUFwb5hfP8CsD4/J2XO1n0juGl/qL3NBbXAYZP+kvfUTZgpBsFDMauYXKEsyEmMD+CMwaYHBHvHfjpobfVnBBcKx3ngRXXFGlK4uWyXRJhy4Ghq5+lBMxppzRiSqIMwDTC6S4HJuUXUn5hkN8QGK/+TP14B3fp1K6Rw8eytM0WvVr0r85h/glhK8/peCPdLJ3DtGnFMVj01gAmd2fKLwWA18M+4E8DG3Zc/5CJ/BnfXUNs8m21Coxy0nsaYfRtdUvzwba6CjAMS15s+aUA+LedM7YBEIiB2C6w/46UqQjIEjKFvcAX7y53t/6RcHyE+MfHXRh+S5pv929J+zNevIEn7sR4gyCMHm9YKEDlC8OxhCmiWeJuRw6BE2EKgfvCeDWT457f10yAMEbNhAsTnxTZzldYRTbQS4qqslVlK+MnjD/30dzHEw0KDQ0KRZNlCSPQKCIn4gKh3CRFwGJehgAAAABJRU5ErkJggg==",
h.To=b);a=new IconManager(b,a);a.add("play",40,40);a.add("pause",40,40);a.add("tostart",40,40);a.add("menu",40,40);a.add("stepback",40,40);a.add("stepforward",40,40);a.add("autofit",40,40);a.add("fit",40,40);a.add("grid",40,40);a.add("help",40,40);a.add("shrink",40,40);a.add("fps",40,40);a.add("hexgrid",40,40);a.add("lines",40,40);return a};b.prototype.eq=function(){this.Xg.icon=this.a.R?[h.Qa.icon("hexgrid")]:[h.Qa.icon("grid")]};b.prototype.Jj=function(a,b){a.g.hasFocus&&(a.Lg||(b.wheelDelta?a.wheelDelta=
b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.g.wg(!0)),b.preventDefault())};b.prototype.Mn=function(){var a=this.A.ao(this.Rc/this.il),b=this.Ag,c=this.Ih;this.a.I=this.a.width/2-(this.Bg+a*(this.kf-this.Bg));this.a.D=this.a.height/2-(this.Cg+a*(this.Tg-this.Cg));this.a.zoom=this.qh*Math.pow(this.Xf/this.qh,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.jk&&(this.a.qb=this.vn+a*(this.om-this.vn),this.Pa.current=this.Jf([this.a.qb,this.a.qb],!1,this));this.Ck&&(this.a.m=
this.wn+a*(this.pm-this.wn),this.jb.current=this.yj([this.a.m,this.a.m],!1,this));this.Rc+=1;this.Rc>this.il&&(this.Rc=-1,this.a.zoom=this.Xf,this.a.angle=c,this.a.I=this.a.width/2-this.kf,this.a.D=this.a.height/2-this.Tg,this.jk&&(this.a.qb=this.om,this.Pa.current=this.Jf([this.a.qb,this.a.qb],!1,this)),this.Ck&&(this.a.m=this.pm,this.jb.current=this.yj([this.a.m,this.a.m],!1,this)));this.Ma&&(this.Ma.current=this.af([this.a.zoom,this.a.zoom],!1,this));this.Ga&&(this.Ga.current=this.wj([this.a.angle,
this.a.angle],!1,this))};b.prototype.Lp=function(a,b){var c=a.A.Da[b];a.Bg=a.a.width/2-a.a.I;a.Cg=a.a.height/2-a.a.D;a.qh=a.a.zoom;a.Ag=a.a.angle;c.Xd?a.kf=c.x:a.kf=a.Bg;c.ud?a.Tg=c.y:a.Tg=a.Cg;c.gc?a.Xf=c.zoom:a.Xf=a.qh;c.cf?a.Ih=c.angle:a.Ih=a.Ag;a.a.R&&(a.kf+=a.a.D/2);a.jk=c.hf;a.jk&&(a.vn=a.a.qb,a.om=c.depth/h.Vf);a.Ck=c.tf;a.Ck&&(a.wn=a.a.m,a.pm=c.m);a.Rc=0;a.il=c.Oe;a.Mn();c.lh&&a.Ep(a);c.Nc===WaypointConstants.play?a.T.current=a.Ec(h.bh,!0,a):c.Nc===WaypointConstants.stop&&a.T.current!==h.Ka&&
(a.T.current=a.Ec(h.Ka,!0,a));c.te&&(a.vb.current=a.ml([c.Fa,c.Fa],!0,a));a.g.notification.F("POI "+(b+1),60,!0);""!==c.dc?a.g.notification.F(c.dc,180,!1):a.g.notification.clear(!1,!0);c.Dg&&(a.Ea=c.Ea);c.eg&&(a.M=c.M);c.lf&&(a.nc=Math.sqrt((c.Ja-h.Lc)/(h.ig-h.Lc)),a.ha.current=a.$e([a.nc,a.nc],!0,a));c.Df&&(a.J=c.step,a.Va.current=a.Fg([a.J,a.J],!0,a));c.kj&&(a.a.i>c.sa&&a.Ep(a),a.a.i<c.sa&&(a.Lg=!0,a.bm=c.sa,a.am=!1));c.uk&&(a.a.Cb=c.Eb);c.fl&&(this.ph=c.zg)};b.prototype.ce=function(a,b,c){var d=
b/a.a.cc;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.cc);a.hb||(a.Bg=a.a.width/2-a.a.I,a.Cg=a.a.height/2-a.a.D,a.qh=a.a.zoom,a.Ag=a.a.angle,a.kf=a.Bg,a.Tg=a.Cg,a.Xf=d,a.Ih=a.Ag,a.Rc=0)};b.prototype.Kl=function(a){a.Lb=!1};b.prototype.yl=function(){a()};b.prototype.Pl=function(a){a.Dn();a.C&&(a.C=0);a.resize();a.Nd.current[0]=!1;a.g.th=!0};b.prototype.Dl=function(a){a.Fe(!0,!0);a.T.current===h.Ka&&(a.yc=!0)};b.prototype.aq=function(a,b,c){b&&(c.a.Cb=a[0],c.g.notification.F("Grid Lines "+(c.a.Cb?
"On":"Off"),40,!0));return[c.a.Cb]};b.prototype.bq=function(a,b,c){b&&(c.Pd=a[0]);return[c.Pd]};b.prototype.$p=function(a,b,c){b&&(c.Ta=a[0],c.g.notification.F("AutoFit "+(c.Ta?"On":"Off"),40,!0),c.Ta&&c.T.current===h.Ka&&c.Fe(!0,!0));return[c.Ta]};b.prototype.Ul=function(a,b,c){b&&-1!==c.M&&(c.ra=!a[0],c.gb?(c.lb=c.ra,c.g.notification.F("Loop and Waypoints "+(c.ra?"Off":"On"),40,!0)):c.cb?(c.eb=c.ra,c.g.notification.F("Loop and Track "+(c.ra?"Off":"On"),40,!0),c.Ql(c.eb)):c.g.notification.F("Loop "+
(c.ra?"Off":"On"),40,!0));return[c.ra]};b.prototype.Wl=function(a,b,c){b&&(c.cb?(c.eb=!a[0],c.Ql(c.eb),-1!==c.M?(c.ra=c.eb,c.g.notification.F("Loop and Track "+(c.ra?"Off":"On"),40,!0)):c.g.notification.F("Track "+(c.eb?"Off":"On"),40,!0)):c.gb&&(c.lb=!a[0],-1!==c.M?(c.ra=c.lb,c.g.notification.F("Loop and Waypoints "+(c.ra?"Off":"On"),40,!0)):c.g.notification.F("Waypoints "+(c.lb?"Off":"On"),40,!0)));return c.cb?[c.eb]:[c.lb]};b.prototype.qj=function(a,b,c){b&&(c.C=a[0]);return[c.C]};b.prototype.ll=
function(a,b,c){b&&(c.rd=a[0],c.rd&&(c.ba?0===c.a.i?(c.a.Tb=c.a.Xk.Tb,c.a.vc=c.a.Xk.vc,c.a.wc=c.a.Xk.wc):-1===c.a.u&&(--c.a.i,c.a.dh(!0,c.Od,c.ke)):(c.a.Tb=0,c.a.vc=0,c.a.wc=0)));c.g.wg(!0);return[c.rd]};b.prototype.al=function(a,b){1<a.ya&&(a.ya-=b,1>a.ya&&(a.ya=1))};b.prototype.$k=function(a,b){a.ya<a.Ob.length-a.ab+1&&(a.ya+=b,a.ya>a.Ob.length-a.ab+1&&(a.ya=a.Ob.length-a.ab+1))};b.prototype.cl=function(a,b){1<a.C&&(a.C-=b,1>a.C&&(a.C=1))};b.prototype.bl=function(a,b){a.C<a.Uh-a.ab&&(a.C+=b,a.C>
a.Uh-a.ab&&(a.C=a.Uh-a.ab))};b.prototype.ms=function(a){for(var b=a.Yg.length-1,c=!1;0<=b&&!c;)a.C<=a.Yg[b]?--b:c=!0;c&&(a.C=a.Yg[b])};b.prototype.Zr=function(a){for(var b=0,c=!1;b<a.Yg.length&&!c;)a.C>=a.Yg[b]?b+=1:c=!0;c&&(a.C=a.Yg[b])};b.prototype.dj=function(a){this.Od?this.g.notification.F("Step back disabled",40,!0):(0>a&&(a=0),this.elapsedTime=this.xb[a],this.Ke=this.Za=a,this.ba=this.a.dj(a,this.rd,this.ke),this.A.$s(this.elapsedTime),this.yc=!0,a!==this.a.i&&(this.Lg=!0,this.bm=a,this.a.Yk(!1),
this.g.notification.F("Computing previous generations",1E4,!0),this.am=!0))};b.prototype.oo=function(a){var b=document.createElement("textarea");b.innerHTML=e(a.element);document.body.appendChild(b);b.select();try{document.execCommand("copy")}catch(q){}document.body.removeChild(b);a.Jd.canvas.focus()};b.prototype.ns=function(b,c,d){var e=!0;if(!b.pc){if(d.ctrlKey&&67!==c||d.metaKey)c=-1;if(d.altKey){if(49<=c&&57>=c)c-=49,0<=c&&c<b.A.Da.length&&(b.bd=c,b.Lp(b,b.bd));else switch(c){case 67:c=b.Pg,b.vb.current=
b.ml([c,c],!0,b)}c=-2}switch(c){case 191:case 111:d.shiftKey?b.a.Pk!==b.a.R&&(b.a.R?(b.a.I+=b.a.D/2,b.Rb+=b.a.D/2,b.Nb+=b.a.D/2,b.a.R=!1):(b.a.I-=b.a.D/2,b.Rb-=b.a.D/2,b.Nb-=b.a.D/2,b.a.R=!0)):b.a.R?(b.a.I+=b.a.D/2,b.Rb+=b.a.D/2,b.Nb+=b.a.D/2,b.a.R=!1):(b.a.I-=b.a.D/2,b.Rb-=b.a.D/2,b.Nb-=b.a.D/2,b.a.R=!0);b.g.notification.F("Hex Display "+(b.a.R?"On":"Off"),40,!0);b.eq();b.Ga.j=b.a.R;break;case 66:b.Hb||(b.T.current===h.Ka?0<b.a.i&&b.dj(b.a.i-1):b.T.current=b.Ec(h.Ka,!0,b));break;case 13:b.Hb||(b.T.current=
b.T.current===h.bh?b.Ec(h.Ka,!0,b):b.Ec(h.bh,!0,b));break;case 9:b.Hb||(b.Db?b.T.current=b.Ec(h.Ka,!0,b):d.shiftKey?0<b.a.i&&b.dj(b.a.i-b.J):b.pe=!0);break;case 32:b.Hb||(b.Db?b.T.current=b.Ec(h.Ka,!0,b):(b.pe=!0,b.rn=!0));break;case 87:b.gb?(b.lb=!b.lb,-1!==b.M?(b.ra=b.lb,b.g.notification.F("Loop and Waypoints "+(b.lb?"Off":"On"),40,!0)):b.g.notification.F("Waypoints "+(b.lb?"Off":"On"),40,!0),b.lb?b.g.notification.clear(!1,!1):b.A.Tl(b.elapsedTime)||(b.A.gr(b.a.i),b.elapsedTime=b.A.Do(b.a.i),b.elapsedTime=
b.A.qo(b.a.width/2-b.a.I,b.a.height/2-b.a.D,b.a.zoom,b.a.angle,b.a.m,b.a.qb*h.Vf,b.a.de,b.nc,b.J,b.a.i,b.elapsedTime),b.yc=!1)):b.cb?(b.eb=!b.eb,-1!==b.M?(b.ra=b.eb,b.g.notification.F("Loop and Track "+(b.eb?"Off":"On"),40,!0)):b.g.notification.F("Track "+(b.eb?"Off":"On"),40,!0),b.Ql(b.eb)):-1!==b.M&&(b.ra=!b.ra,b.g.notification.F("Loop "+(b.ra?"Off":"On"),40,!0));break;case 69:!b.Va.locked&&b.J<h.Ld&&(d.shiftKey?b.J=h.Ld:b.J+=1,b.Va.current=b.Fg([b.J,b.J],!0,b));break;case 68:!b.Va.locked&&b.J>
h.ah&&(d.shiftKey?b.J=h.ah:--b.J,b.Va.current=b.Fg([b.J,b.J],!0,b));break;case 90:d.shiftKey?(c=w.at(),0===c?b.g.notification.F("No LifeViewers playing",100,!0):1<c&&b.g.notification.F("Paused all LifeViewers",100,!0)):(c=w.bt(b),0===c?b.g.notification.F("No other LifeViewers playing",100,!0):1<c?b.g.notification.F("Paused "+c+" other LifeViewers",100,!0):b.g.notification.F("Paused "+c+" other LifeViewer",100,!0));break;case 88:d.shiftKey?(b.a.Zf=!b.a.Zf,0<b.a.gd&&b.g.notification.F("Major Grid Lines "+
(b.a.Zf?"On":"Off"),40,!0)):(b.a.Cb=!b.a.Cb,b.Xg.current=b.aq([b.a.Cb],!0,b));break;case 89:b.ke?b.g.notification.F("Graph Disabled",40,!0):d.shiftKey?(b.Pd=!b.Pd,b.Ph.current=b.bq([b.Pd],!0,b),b.g.notification.F("Graph "+(b.Pd?"Lines":"Points"),40,!0)):(b.Lb=!b.Lb,b.g.notification.F("Population Graph "+(b.Lb?"On":"Off"),40,!0));break;case 80:b.Kb||b.Pa.locked||(b.Pa.current=.99>=b.Pa.current[0]?b.Jf([b.Pa.current[0]+.01,b.Pa.current[1]],!0,b):b.Jf([1,b.Pa.current[1]],!0,b));break;case 76:d.shiftKey?
-1!==b.xt&&(b.ra=!b.ra,b.fg.current=[b.ra]):b.Kb||b.Pa.locked||(b.Pa.current=.01<=b.Pa.current[0]?b.Jf([b.Pa.current[0]-.01,b.Pa.current[1]],!0,b):b.Jf([0,b.Pa.current[1]],!0,b));break;case 81:!b.Kb&&!b.jb.locked&&b.jb.current[0]<h.Fk&&(b.jb.current=b.yj([b.a.m+1,b.jb.current[1]],!0,b));break;case 65:!b.Kb&&!b.jb.locked&&b.jb.current[0]>h.Ik&&(b.jb.current=b.yj([b.a.m-1,b.jb.current[1]],!0,b));break;case 82:d.shiftKey?w.vs():b.T.current=b.Ec(h.Nm,!0,b);break;case 83:d.shiftKey?b.a.Kc&&(b.Se=!b.Se,
b.g.notification.F("AutoFit State 1 Mode "+(b.Se?"On":"Off"),40,!0)):b.ph=!b.ph;break;case 78:b.Ff&&(b.ea?b.Cn():(b.Dn(),b.C&&(b.C=0)),b.resize());break;case 86:d.shiftKey?(b.Jp(b),b.g.notification.F("Saved camera position",100,!0)):b.hb||(b.Bs(b),b.g.notification.F("Restored camera position",100,!0),b.T.current===h.Ka&&(b.yc=!0));break;case 221:b.hb||(d.shiftKey?b.zh(b.Ma.current[0],Math.log(b.a.zoom*b.a.cc*2/h.Ba)/Math.log(h.sb/h.Ba)-b.Ma.current[0]):b.zh(b.Ma.current[0],.01));break;case 219:b.hb||
(d.shiftKey?b.zh(b.Ma.current[0],Math.log(b.a.zoom*b.a.cc/2/h.Ba)/Math.log(h.sb/h.Ba)-b.Ma.current[0]):b.zh(b.Ma.current[0],-.01));break;case 53:case 101:b.Ga.locked||(b.a.angle=0,b.Ga.current=[b.a.angle,b.a.angle]);break;case 49:case 97:d.shiftKey?(b.ce(b,b.a.zoom*b.a.cc,!0),b.g.notification.F("Integer Zoom",40,!0)):b.ce(b,1,!1);break;case 50:case 98:d.shiftKey?b.ce(b,.5,!1):b.ce(b,2,!1);break;case 51:case 99:b.ce(b,32,!1);break;case 52:case 100:d.shiftKey?b.ce(b,.25,!1):b.ce(b,4,!1);break;case 54:case 102:d.shiftKey?
b.ce(b,.0625,!1):b.ce(b,16,!1);break;case 55:b.ke?b.g.notification.F("Graph Disabled",40,!0):(0<b.kb&&(b.kb-=.05,0>b.kb&&(b.kb=0)),this.Bd.current=this.kh([b.kb,b.kb],!1,b));break;case 56:case 104:d.shiftKey?b.ce(b,.125,!1):b.ce(b,8,!1);break;case 57:b.ke?b.g.notification.F("Graph Disabled",40,!0):(1>b.kb&&(b.kb+=.05,1<b.kb&&(b.kb=1)),this.Bd.current=this.kh([b.kb,b.kb],!1,b));break;case 48:case 96:b.J=1;b.Va.current=b.Fg([b.J,b.J],!0,b);b.ha.current=b.$e([1,b.ha.current[1]],!0,b);break;case 189:case 109:b.Hb||
(b.J>h.ah?(d.shiftKey?b.J=h.ah:--b.J,b.Va.current=b.Fg([b.J,b.J],!0,b)):b.ha&&(b.ha.current=.01<=b.ha.current[0]&&!d.shiftKey?b.$e([b.ha.current[0]-.01,b.ha.current[1]],!0,b):b.$e([0,b.ha.current[1]],!0,b)));break;case 187:case 107:!b.Hb&&b.ha&&(.99>=b.ha.current[0]&&!d.shiftKey?b.ha.current=b.$e([b.ha.current[0]+.01,b.ha.current[1]],!0,b):.99>=b.ha.current[0]?b.ha.current=b.$e([1,b.ha.current[1]],!0,b):(b.ha.current=b.$e([1,b.ha.current[1]],!0,b),b.J<h.Ld&&(d.shiftKey?b.J=h.Ld:b.J+=1,b.Va.current=
b.Fg([b.J,b.J],!0,b))));break;case 188:b.Ga.locked||(c=b.Ga.current[0],c=d.shiftKey?c-90:c-1,0>c&&(c+=360),b.Ga.current=b.wj([c,c],!0,b));break;case 190:b.Ga.locked||(c=b.Ga.current[0],c=d.shiftKey?c+90:c+1,360<=c&&(c-=360),b.Ga.current=b.wj([c,c],!0,b));break;case 74:b.A.Da.length?b.hb||(d.shiftKey?(--b.bd,0>b.bd&&(b.bd=b.A.Da.length-1)):(b.bd+=1,b.bd>=b.A.Da.length&&(b.bd=0)),b.Lp(b,b.bd)):b.g.notification.F("No POIs defined",80,!0);break;case 84:d.shiftKey?b.g.ai=!b.g.ai:b.Vg.current=b.xj([!b.g.oh],
!0,b);break;case 71:b.Hb||(d.shiftKey?b.Yf&&(b.qk=!b.qk):(b.ll([!b.rd],!0,b),b.Hc&&(b.Hc.current=[b.rd],b.g.th=!0)));break;case 70:d.shiftKey?b.df.locked||(b.Ta=!b.Ta,b.df.current=b.$p([b.Ta],!0,b)):b.Ug.locked||(b.Fe(!0,!0),b.g.notification.F("Fit Zoom",80,!0),b.T.current===h.Ka&&(b.yc=!0));break;case 79:b.gj=d.shiftKey?2:1;break;case 37:d.shiftKey?b.og(b.a.zoom,b.a.zoom):b.og(b.a.zoom,0);break;case 38:b.C?b.cl(b,1):b.ya?b.al(b,1):d.shiftKey?b.og(-b.a.zoom,b.a.zoom):b.og(0,b.a.zoom);break;case 39:d.shiftKey?
b.og(-b.a.zoom,-b.a.zoom):b.og(-b.a.zoom,0);break;case 40:b.C?b.bl(b,1):b.ya?b.$k(b,1):d.shiftKey?b.og(b.a.zoom,-b.a.zoom):b.og(0,-b.a.zoom);break;case 77:b.Nd&&!b.Nd.j&&(b.Nd.current[0]=!b.Nd.current[0],b.g.th=!0);break;case 67:d.ctrlKey?b.fh||(b.oo(b),b.g.notification.F("Copied to Clipboard",180,!0)):b.Kb||!b.vb||b.vb.locked||(d.shiftKey?(c=b.vb.current[0],--c,0>c&&(b.Sf?c=b.a.qc:c=b.a.qc-1)):(c=b.vb.current[0],c+=1,b.Sf?c>=b.a.qc+1&&(c=0):c>=b.a.qc&&(c=0)),b.vb.current=b.ml([c,c],!0,b));break;
case 72:d.shiftKey?(b.nf=!b.nf,b.g.notification.F("AutoFit History Mode "+(b.nf?"On":"Off"),40,!0)):(b.Ob.length?b.C?b.C=0:b.C=b.Kp:b.C?b.C=0:b.ea||(b.C=1),b.Zg.current=b.qj([b.C],!0,b));break;case 73:d.shiftKey?b.ja=!b.ja:(b.C?b.C!==b.yk?b.C=b.yk:b.C=0:b.ea||(b.C=b.yk),b.Zg.current=b.qj([b.C],!0,b));break;case 27:b.Jc?b.Ob.length?(b.Ob=[],b.ya=0):a():b.C?b.C=0:b.Ob.length?(b.Ob=[],b.ya=0):b.Db&&(b.T.current=b.Ec(h.Ka,!0,b));b.C=0;b.Zg.current=b.qj([b.C],!0,b);break;case 33:b.C?d.shiftKey?b.ms(b):
b.cl(b,b.ab):b.ya&&b.al(b,b.ab);break;case 34:b.C?d.shiftKey?b.Zr(b):b.bl(b,b.ab):b.ya&&b.$k(b,b.ab);break;case 36:b.C?b.C=1:b.ya&&(b.ya=1);break;case 35:b.C?b.C=b.Uh-b.ab:b.ya&&(b.ya=b.Ob.length-b.ab);break;default:-1===c&&(e=!1)}}return e};b.prototype.os=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.xj([!a.g.oh],!0,a);break;default:d=!1}return d};b.prototype.Ll=function(a,b){var c=b.charCode||b.keyCode;if(a.Lg?a.os(a,c,b):a.ns(a,c,b))a.g.wg(!0),b.preventDefault()};
b.prototype.Cl=function(){this.w=this.g.Jq(this.vm,this.Rn,this);this.w.km=this.Ij;this.we=this.w.Na(Menu.md,0,40,16,20,"X");this.we.font=h.Qc;this.we.orientation=Menu.$b;this.ye=this.w.Na(Menu.md,70,40,16,20,"Y");this.ye.font=h.Qc;this.ye.orientation=Menu.$b;this.ve=this.w.Na(Menu.md,140,40,16,20,"A");this.ve.font=h.Qc;this.ve.orientation=Menu.$b;this.ic=this.w.Na(Menu.md,16,40,54,20,"");this.ic.font=h.Qc;this.ic.textAlign=Menu.right;this.ic.H="camera X position";this.jc=this.w.Na(Menu.md,86,40,
54,20,"");this.jc.font=h.Qc;this.jc.textAlign=Menu.right;this.jc.H="camera Y position";this.Ib=this.w.Na(Menu.md,156,40,40,20,"");this.Ib.font=h.Qc;this.Ib.textAlign=Menu.right;this.Ib.H="camera angle";this.ki=this.w.Na(Menu.md,196,40,4,20,"");this.bg=this.w.Na(Menu.Ac,-280,40,20,20,"E");this.bg.font=h.Qc;this.pg=this.w.Na(Menu.Ac,-210,40,20,20,"S");this.pg.font=h.Qc;this.qg=this.w.Na(Menu.Ac,-140,40,20,20,"W");this.qg.font=h.Qc;this.gg=this.w.Na(Menu.Ac,-70,40,20,20,"N");this.gg.font=h.Qc;this.Pb=
this.w.Na(Menu.Ac,-260,40,50,20,"");this.Pb.font=h.Qc;this.Pb.textAlign=Menu.right;this.Pb.H="bounding box east edge velocity";this.Wb=this.w.Na(Menu.Ac,-190,40,50,20,"");this.Wb.font=h.Qc;this.Wb.textAlign=Menu.right;this.Wb.H="bounding box south edge velocity";this.hc=this.w.Na(Menu.Ac,-120,40,50,20,"");this.hc.font=h.Qc;this.hc.textAlign=Menu.right;this.hc.H="bounding box west edge velocity";this.Qb=this.w.Na(Menu.Ac,-50,40,50,20,"");this.Qb.font=h.Qc;this.Qb.textAlign=Menu.right;this.Qb.H="bounding box north edge velocity";
this.yd=this.w.Dd(null,Menu.md,90,0,40,20,["START"],[!1],Menu.Md);this.yd.font=h.el;this.yd.H=["autostart indicator"];this.Wc=this.w.Dd(null,Menu.md,90,20,40,20,["STOP"],[!1],Menu.Md);this.Wc.font=h.el;this.Wc.H=["stop indicator"];this.pa=this.w.Dd(this.Wl,Menu.Ac,-130,0,40,20,["WAYPT"],[!1],Menu.Md);this.pa.font=h.el;this.pa.H=["toggle waypoint mode"];this.fg=this.w.Dd(this.Ul,Menu.Ac,-130,20,40,20,["LOOP"],[!1],Menu.Md);this.fg.font=h.el;this.fg.H=["toggle loop mode"];this.Zg=this.w.Dd(this.qj,
Menu.Ac,-40,0,40,40,[""],[!1],Menu.Md);this.Zg.icon=[h.Qa.icon("help")];this.Zg.H=["toggle help display"];this.df=this.w.Dd(this.$p,Menu.md,0,0,40,40,[""],[!1],Menu.Md);this.df.icon=[h.Qa.icon("autofit")];this.df.H=["toggle autofit"];this.Ug=this.w.Lj(this.Dl,Menu.md,45,0,"");this.Ug.icon=h.Qa.icon("fit");this.Ug.H="fit pattern to display";this.Xg=this.w.Dd(this.aq,Menu.Ac,-85,0,40,40,[""],[!1],Menu.Md);this.Xg.icon=[h.Qa.icon("grid")];this.Xg.H=["toggle grid lines"];this.Qd=this.w.oq();this.Qd.locked=
!0;this.$d=this.w.Na(Menu.yg,0,-100,70,30,"Time");this.$d.textAlign=Menu.left;this.$d.font=h.Te;this.$d.H="elapsed time";this.Sg=this.w.Na(Menu.yg,70,-100,70,30,"");this.Sg.textAlign=Menu.right;this.Sg.font=h.Te;this.Sg.H="elapsed time";this.Wa=this.w.Na(Menu.yg,0,-70,140,30,"");this.Wa.textAlign=Menu.left;this.Wa.font=h.Te;this.Wa.H="cell state at cursor position";this.Hc=this.w.Dd(this.ll,Menu.yg,0,-40,100,40,[""],[this.rd],Menu.Md);this.Hc.H=["toggle generation statistics"];this.Sa=this.w.Na(Menu.yg,
0,-40,this.v-40,40,"");this.Sa.textAlign=Menu.left;this.Sa.j=!0;this.Cd=this.w.Na(Menu.Td,-140,-130,70,30,"Alive");this.Cd.textAlign=Menu.left;this.Cd.font=h.Te;this.Cd.H="current population";this.tg=this.w.Na(Menu.Td,-70,-130,70,30,"");this.tg.textAlign=Menu.right;this.tg.font=h.Te;this.tg.H="alive";this.zd=this.w.Na(Menu.Td,-140,-100,70,30,"Births");this.zd.textAlign=Menu.left;this.zd.font=h.Te;this.zd.H="cells born this generation";this.Qf=this.w.Na(Menu.Td,-70,-100,70,30,"");this.Qf.textAlign=
Menu.right;this.Qf.font=h.Te;this.Qf.H="births";this.Ad=this.w.Na(Menu.Td,-140,-70,70,30,"Deaths");this.Ad.textAlign=Menu.left;this.Ad.font=h.Te;this.Ad.H="cells died this generation";this.Tf=this.w.Na(Menu.Td,-70,-70,70,30,"");this.Tf.textAlign=Menu.right;this.Tf.font=h.Te;this.Tf.H="deaths";this.nb=this.w.Na(Menu.yg,0,-130,140,30,this.yf);this.nb.font=h.Te;this.Ma=this.w.Of(this.af,Menu.Kk,0,0,212,40,0,1,.1,"Zoom ","x",1);this.Ma.H="camera zoom";this.jb=this.w.Of(this.yj,Menu.jq,30,0,40,292,h.Fk,
h.Ik,1,"Layers ","",0);this.jb.H="number of layers";this.Pa=this.w.Of(this.Jf,Menu.Co,-70,0,40,292,1,0,.1,"Depth ","",2);this.Pa.H="depth between layers";this.Ga=this.w.Of(this.wj,Menu.Kk,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Ga.H="camera angle";this.sf=this.w.Lj(this.Pl,Menu.md,0,50,"");this.sf.icon=h.Qa.icon("shrink");this.sf.H="shrink to thumbnail";this.ag=this.w.Lj(this.yl,Menu.Td,-40,-90,"X");this.ag.H="close window";this.Vg=this.w.Dd(this.xj,Menu.Ac,-40,50,40,40,[""],[this.g.oh],Menu.Md);
this.Vg.icon=[h.Qa.icon("fps")];this.Vg.H=["toggle timing display"];this.Bd=this.w.Of(this.kh,Menu.Kk,0,0,212,40,0,1,this.kb,"Opacity ","%",0);this.Bd.H="graph opacity";this.Ph=this.w.Dd(this.bq,Menu.md,90,0,40,40,[""],[!1],Menu.Md);this.Ph.icon=[h.Qa.icon("lines")];this.Ph.H=["toggle lines"];this.ji=this.w.Lj(this.Kl,Menu.Ac,-130,0,"X");this.ji.H="close graph";this.Nd=this.w.Dd(null,Menu.Td,-40,-40,40,40,[""],[!1],Menu.Md);this.Nd.icon=[h.Qa.icon("menu")];this.Nd.H=["toggle navigation menu"];this.vb=
this.w.Of(this.ml,Menu.Rp,0,-90,390,40,0,this.a.qc-1,1,"Theme ","",0);this.vb.H="colour theme";this.ha=this.w.Of(this.$e,Menu.Td,-375,-40,80,40,0,1,0,"","",-1);this.ha.H="steps per second";this.Va=this.w.Of(this.Fg,Menu.Td,-290,-40,80,40,h.ah,h.Ld,1,"x","",0);this.Va.H="generations per step";this.T=this.w.Dd(this.Ec,Menu.Td,-205,-40,160,40,["","","",""],h.Ka,Menu.qn);this.T.icon=[h.Qa.icon("tostart"),h.Qa.icon("stepback"),h.Qa.icon("pause"),h.Qa.icon("play")];this.T.H=["reset","previous generation",
"pause","play"];this.Nd.Vn([this.jb,this.Pa,this.Ga,this.vb,this.sf,this.ag,this.Vg]);this.Hc.Vn([this.Cd,this.tg,this.zd,this.Qf,this.Ad,this.Tf,this.$d,this.Sg,this.nb])};b.prototype.wl=function(a){var b=this,c=0,d=0;this.h=a;this.h.getContext&&(c=this.h.width,d=this.h.height,c!==this.Ie&&D.Mi&&(c=this.Ie),c<h.Mc&&(c=h.Mc),d<h.Th&&(d=h.Th),c&=-8,this.h.width!==c&&(this.h.width=c),this.h.height!==d&&(this.h.height=d),this.Jd=this.h.getContext("2d",{alpha:!1}),this.Jd.globalAlpha=1,this.Jd.fillStyle=
"black",this.Jd.fillRect(0,0,this.h.width,this.h.height),this.hh=document.createElement("canvas"),this.hh.width=this.h.width,this.hh.height=this.h.height,this.bc=this.hh.getContext("2d",{alpha:!1}),this.v=this.h.width,this.s=this.h.height,this.a=new Life(this.bc,this.v,this.s,1024,1024),this.a.xr(this.bc,this.v,this.s),this.xb=this.a.l.ga(Float32,h.op,"View.elapsedTimes"),this.Re=new Stars(h.Nk,this.a.l),this.Re.ne(8192,8192,1024),this.a.l.ga(Uint16,1024,"Life.fillAllBuffer"),this.bc.textAlign="left",
this.bc.textBaseline="middle",h.Qa=this.Bl(this.bc),this.g=new MenuManager(this.Jd,this.bc,"24px Arial",h.Qa,this,this.Fl),this.g.oh=!1,this.Cl(),this.mi=this.T.x,this.ii=this.ha.x,this.ni=this.Va.x,registerEvent(this.h,"DOMMouseScroll",function(a){b.Jj(b,a)},!1),registerEvent(this.h,"mousewheel",function(a){b.Jj(b,a)},!1),this.g.notification.enabled=!0,this.g.lq(this.w),registerEvent(this.h,"keydown",function(a){b.Ll(b,a)},!1))};b.prototype.li=function(a){switch(a){case Keywords.En:case Keywords.qm:case Keywords.nn:case Keywords.pn:case Keywords.sm:case Keywords.on:case Keywords.Tm:case Keywords.kd:case Keywords.ae:case Keywords.Dm:case Keywords.sn:case Keywords.cn:case Keywords.im:case Keywords.Sk:case Keywords.fi:case Keywords.Rm:case Keywords.Sm:case Keywords.tj:case Keywords.Bm:case Keywords.Wi:case Keywords.Xh:case Keywords.Wh:case Keywords.Rk:case Keywords.Xi:case Keywords.oa:case Keywords.xe:case Keywords.xa:case Keywords.yn:case Keywords.vh:case Keywords.sj:case Keywords.rk:case Keywords.Jk:case Keywords.xm:case Keywords.ym:case Keywords.jj:case Keywords.Oj:case Keywords.Fm:case Keywords.hl:case Keywords.rh:case Keywords.Wm:case Keywords.Ei:case Keywords.Di:case Keywords.An:case Keywords.Bn:case Keywords.Ha:case Keywords.Zl:case Keywords.ec:case Keywords.fc:case Keywords.nl:case Keywords.ol:case Keywords.wb:case Keywords.Rl:case Keywords.Vo:case Keywords.oe:case Keywords.zj:case Keywords.Qm:case Keywords.Pm:case Keywords.Kn:case Keywords.Jn:case Keywords.Ve:case Keywords.Pj:case Keywords.Zk:case Keywords.kn:case Keywords.Gg:case Keywords.Eg:case Keywords.Wg:case Keywords.se:case Keywords.$g:case Keywords.Qg:case Keywords.Bj:case Keywords.Fi:case Keywords.Zi:case Keywords.Yi:a=
!0;break;default:a=!1}return a};b.prototype.Tc=function(a,b,c,d,e){var f=a.La();""===f||this.li(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.K())};b.prototype.B=function(a,b,c,d){var e=!0,f=0,k=0,g=0,l=a.K();if(a.da()){f=a.ca()|0;if(0>f||255<f)b[b.length]=[d+" "+l+" "+f,"RED out of range"];if(a.da()){k=a.ca();if(0>k||255<k)b[b.length]=[d+" "+l+" "+f+" "+k,"GREEN out of range"];a.da()?(g=a.ca(),0>g||255<g?b[b.length]=[d+" "+l+" "+f+" "+k+" "+g,"BLUE out of range"]:e=!1):
this.Tc(a,b,d+" "+l+" "+f+" "+k,"BLUE","numeric")}else this.Tc(a,b,d+" "+l+" "+f,"GREEN","numeric")}else{var q=a.La();var m=ColourManager.kc[q.toLowerCase()];void 0!==m?(a.K(),f=m[1],k=m[2],g=m[3],e=!1):""===q||this.li(q)?b[b.length]=[d+" "+l,"name missing"]:(b[b.length]=[d+" "+l+" "+q,"name not known"],a.K())}if(!e)switch(-1!==this.c[c]&&(b[b.length]=[d+" "+l+" "+f+" "+k+" "+g,"overwrites "+(this.c[c]>>16)+" "+(this.c[c]>>8&255)+" "+(this.c[c]&255)]),this.c[c]=f<<16|k<<8|g,c){case h.ek:this.xi=this.c[c];
break;case h.fk:this.yi=this.c[c];break;case h.gk:this.Re.red=f;this.Re.green=k;this.Re.blue=g;break;case h.hk:this.cd=[f,k,g];break;case h.dm:this.gf=[f,k,g];this.ee="rgb("+f+","+k+","+g+")";break;case h.Yj:this.Rf=[f,k,g];this.a.Ah=this.a.cg?-16777216|g<<16|k<<8|f:f<<24|k<<16|g<<8|255;break;case h.bk:this.a.he=[f,k,g];break;case h.ak:this.a.ge=[f,k,g];break;case h.$j:this.a.fe=[f,k,g];break;case h.ck:this.a.ie=[f,k,g];break;case h.dk:this.a.je=[f,k,g];break;default:this.Sf=!0}};b.prototype.nm=function(a,
b){var c=!0,d=this.a.rc[this.a.qc];-1===this.c[h.Dh]&&(a[a.length]=[b+" "+Keywords.Gn,"missing"],c=!1);-1===this.c[h.Mg]&&-1===this.c[h.Ng]&&(a[a.length]=[b+" "+Keywords.Hn,"missing"],c=!1);c&&(a=this.c[h.Mg],-1===a&&(a=this.c[h.Ng]),d.sc.red=a>>16,d.sc.green=a>>8&255,d.sc.blue=a&255,a=this.c[h.Dh],d.Ya.O.red=a>>16,d.Ya.O.green=a>>8&255,d.Ya.O.blue=a&255,a=this.c[h.Xj],-1===a&&(a=this.c[h.Dh]),d.Ya.ia.red=a>>16,d.Ya.ia.green=a>>8&255,d.Ya.ia.blue=a&255,a=this.c[h.Ng],-1===a&&(a=this.c[h.Mg]),d.Ua.O.red=
a>>16,d.Ua.O.green=a>>8&255,d.Ua.O.blue=a&255,a=this.c[h.Zj],-1===a&&(a=this.c[h.Ng],-1===a&&(a=this.c[h.Mg])),d.Ua.ia.red=a>>16,d.Ua.ia.green=a>>8&255,d.Ua.ia.blue=a&255,this.a.xg(this.a.qc,1))};b.prototype.um=function(a){var b=this.A.Ai();b.Xd||(b.x=this.a.width/2-this.a.I);b.ud||(b.y=this.a.height/2-this.a.D);b.gc||(b.zoom=this.a.zoom);b.cf||(b.angle=this.a.angle);b.tf||(b.m=this.a.m);b.hf||(b.depth=this.a.qb);b.lf||(b.Ja=this.nc);b.Df||(b.step=this.J);b.te||(b.Fa=this.a.de);this.A.ls(a)};b.prototype.El=
function(a){var b=a,c=this.bc,d=a.length;c.font=h.xh;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};b.prototype.rg=function(a,b){var c=a;a.length>b&&(c=a.substr(0,b-1)+"...");return c};b.prototype.Hj=function(a,b,c){var d=a.indexOf("\\n");-1!==d&&(c?b[b.length]=[Keywords.fi+" "+Keywords.ub+this.rg(a,23)+Keywords.ub,"only one line allowed"]:(d=a.substr(d+2).indexOf("\\n"),
-1!==d&&(b[b.length]=[Keywords.ub+this.rg(a,23),"only two lines allowed"])))};b.prototype.pi=function(a,b,c){var d=Keywords.Eg+" ",e="overwrites ";d=b>=this.a.qc?d+Keywords.lj:d+b;e=c>=this.a.qc?e+Keywords.lj:e+c;a[a.length]=[d,e]};b.prototype.fb=function(a,b,c,d,e,f){var g=0,k=0,h=0;if(a.da())if(g=a.ca()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.da())if(k=a.ca()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+k,"GREEN out of range"],e=!0;else if(a.da()){if(h=a.ca()|0,
0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+k+" "+h,"BLUE out of range"],e=!0}else this.Tc(a,b,d+" "+f+" "+g+" "+k,"BLUE","numeric"),e=!0;else this.Tc(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var q=a.La();var l=ColourManager.kc[q.toLowerCase()];void 0!==l?(a.K(),g=l[1],k=l[2],h=l[3]):(e=!0,""===q||this.li(q)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+q,"name not known"],a.K()))}e||(-1!==this.o[c]&&(b[b.length]=[d+" "+f+" "+g+" "+k+" "+h,"overwrites "+(this.o[c]>>16)+" "+(this.o[c]>>
8&255)+" "+(this.o[c]&255)]),this.o[c]=g<<16|k<<8|h)};b.prototype.yh=function(a){var b="",c=a.indexOf(Keywords.Sc);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.Qn;break;case "N":b+=this.Si;break;case "R":b+=this.yf;break;case "A":b=""===this.Le?b+this.yf:b+this.Le;break;case "O":b+=this.Ti;break;case "T":b+=h.er;break;case Keywords.Sc:b+=Keywords.Sc;break;default:b+=Keywords.Sc+d}c=a.indexOf(Keywords.Sc)}else c=-1;b+=a}return b};
b.prototype.ka=function(a,b,c,d){d[d.length]=a?b===Keywords.kd?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.kd]:b===Keywords.kd?[b+" "+c,"overwrites "+Keywords.ae]:[b+" "+c,"already defined"]};b.prototype.ma=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);return b};b.prototype.Nl=function(a,b){var c=new Script(a),d=!1,e,f=!1,g="",k=0,l;a=this.Ob;var m=0,w="",t=this.A.Sj(),B=!1,z=!1,x=-1,v=-1,n=-1,y=!1,F=!1,J=!1,P=!1,ba=!1,ca=!1,V=!1,aa=!1,X=!1,Q=!1,W=!1,T=!1,Z=!1,R=!1,I=!1;
this.Vm=this.Pi=0;this.Sf=!1;this.c[h.Mg]=-1;this.c[h.Dh]=-1;this.c[h.Xj]=-1;this.c[h.Ng]=-1;this.c[h.Zj]=-1;this.c[h.ek]=-1;this.c[h.fk]=-1;this.c[h.gk]=-1;this.c[h.hk]=-1;this.c[h.Yj]=-1;this.c[h.bk]=-1;this.c[h.ak]=-1;this.c[h.$j]=-1;this.c[h.ck]=-1;this.c[h.dk]=-1;this.c[h.dm]=-1;this.o=[];if(c.Eo()){for(e=0;256>e;e+=1)this.o[e]=-1;for(e=c.K();""!==e;){if(f)e[e.length-1]===Keywords.ub?(g=g+" "+e.substr(0,e.length-1),f=!1,this.Hj(g,a,d),d?(""!==this.qa&&(a[a.length]=[Keywords.fi+" "+Keywords.ub+
this.rg(g,20)+Keywords.ub,"overwrites "+Keywords.ub+this.qa+Keywords.ub]),this.qa=g,d=!1):(t.dc=this.yh(g),t.Fn=!0)):g=g+" "+e;else if(e[0]===Keywords.ub)g=e.substr(1),f=!0,e[e.length-1]===Keywords.ub&&(f=!1,g=g.substr(0,g.length-1),this.Hj(g,a,d),d?(""!==this.qa&&(a[a.length]=[Keywords.fi+" "+Keywords.ub+this.rg(g,20)+Keywords.ub,"overwrites "+Keywords.ub+this.qa+Keywords.ub]),this.qa=g,d=!1):(t.dc=this.yh(g),t.Fn=!0));else{var O=l=!1;this.Pi+=1;switch(e){case Keywords.fi:O=d=!0;break;case Keywords.Rm:O=
this.Od=!0;break;case Keywords.Sm:this.Bi=!1;O=!0;break;case Keywords.jj:var N=c.La();N===Keywords.xa?(c.K(),t.zg=!1):t.zg=!0;O=t.fl=!0;break;case Keywords.Oj:N=c.La();N===Keywords.xa?(c.K(),t.Zb=!1):t.Zb=!0;O=!0;break;case Keywords.Fm:N=c.La();N===Keywords.xa?(c.K(),this.nf=!1):this.nf=!0;O=!0;break;case Keywords.Ei:N=c.La();N===Keywords.xa?(c.K(),t.Eb=!1):t.Eb=!0;O=t.uk=!0;break;case Keywords.Di:c.da()&&(l=!0,k=c.ca()|0,k>=h.Qr&&k<=h.Er&&(this.a.gd=k,O=!0));break;case Keywords.Ha:case Keywords.Zl:w=
e;N=!1;if(c.da()){O=c.ca()|0;if(0>O||255<=O)a[a.length]=[e+" "+O,"STATE out of range"],N=!0;this.fb(c,a,O,e,N,O)}else switch(N=c.La(),N){case Keywords.pp:N=c.K();this.fb(c,a,h.qp,e,!1,N);break;case Keywords.rp:N=c.K();this.fb(c,a,h.sp,e,!1,N);break;case Keywords.Qo:N=c.K();this.fb(c,a,h.So,e,!1,N);break;case Keywords.ap:N=c.K();this.fb(c,a,h.bp,e,!1,N);break;case Keywords.fp:N=c.K();this.fb(c,a,h.gp,e,!1,N);break;case Keywords.cp:N=c.K();this.fb(c,a,h.ep,e,!1,N);break;case Keywords.Wo:N=c.K();this.fb(c,
a,h.Xo,e,!1,N);break;case Keywords.Wp:this.B(c,a,h.Mg,w);break;case Keywords.Gn:this.B(c,a,h.Dh,w);break;case Keywords.Vp:this.B(c,a,h.Xj,w);break;case Keywords.Hn:this.B(c,a,h.Ng,w);break;case Keywords.Xp:this.B(c,a,h.Zj,w);break;case Keywords.Ei:this.B(c,a,h.ek,w);break;case Keywords.Di:this.B(c,a,h.fk,w);break;case Keywords.jj:this.B(c,a,h.gk,w);break;case Keywords.En:this.B(c,a,h.hk,w);break;case Keywords.qm:this.B(c,a,h.dm,w);break;case Keywords.co:this.B(c,a,h.Yj,w);break;case Keywords.Ko:this.B(c,
a,h.bk,w);break;case Keywords.Jo:this.B(c,a,h.ak,w);break;case Keywords.Io:this.B(c,a,h.$j,w);break;case Keywords.Lo:this.B(c,a,h.ck,w);break;case Keywords.Mo:this.B(c,a,h.dk,w);break;default:a[a.length]=[e+" "+N,"illegal element"],c.K()}O=!0;break;case Keywords.kn:c.Eo();O=!0;--this.Pi;break;case Keywords.zj:O=this.Hb=!0;break;case Keywords.Tm:O=this.oi=!0;break;case Keywords.Qm:O=this.pc=!0;break;case Keywords.Pm:O=this.fh=!0;break;case Keywords.An:O=this.Dj=!0;break;case Keywords.Bn:O=I=R=Z=T=
W=Q=X=aa=V=ca=ba=P=J=F=y=!0;break;case Keywords.xa:a[a.length]=[Keywords.xa,"must follow LOOP or STOP"];O=!0;break;case Keywords.xe:N=c.La();N===Keywords.oa?(c.K(),t.Hd?(this.A.Dq(t,a),this.ql()):a[a.length]=[Keywords.xe+" "+Keywords.oa,"only valid at a POI"]):a[a.length]=[Keywords.xe,"must be followed by INITIAL"];O=!0;break;case Keywords.oa:a[a.length]=[Keywords.oa,"must follow POI, ALL or a POI setting"];O=!0;break;case Keywords.Pj:N=c.La();N===Keywords.xa?(c.K(),this.Gc=!1):this.za&&(this.Gc=
!0);O=!0;break;case Keywords.Rk:c.da()&&(l=!0,k=c.ca()|0,0<=k&&(t.Hd?(t.sa=k,t.kj=!0):a[a.length]=[Keywords.Rk+" "+k,"only valid at a POI"],O=!0));break;case Keywords.Wh:t.Os(a);O=!0;break;case Keywords.Xh:t.Qs(a);O=!0;break;case Keywords.Wi:t.Ps(a);O=!0;break;case Keywords.Xi:c.da()&&(l=!0,k=c.ca(),k>=WaypointConstants.zp&&k<=WaypointConstants.yp&&(t.Ts(k,a),O=!0));break;case Keywords.Bm:O=this.xk=!0;break;case Keywords.yn:N=c.La();N===Keywords.xa?(c.K(),this.Se=!1):this.Se=!0;O=!0;break;case Keywords.tj:if(c.da()&&
(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg)){var Y=k;l=!1;e+=" "+k;if(c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg)){var U=k;O=!0;this.cb&&(a[a.length]=[Keywords.tj+" "+Y+" "+U,"overwrites "+v+" "+n]);v=Y;n=U;this.cb=!0}}break;case Keywords.sj:c.da()&&(l=!0,k=c.ca()|0,0<k&&(N=k,l=!1,e+=" "+k,c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg&&(Y=k,l=!1,e+=" "+k,c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg&&(U=k,O=!0,this.Yc&&(a[a.length]=[Keywords.sj+" "+N+" "+Y+" "+U,"overwrites "+x+" "+v+" "+n]),x=N,v=Y,n=U,this.cb=this.Yc=!0))))));
break;case Keywords.vh:if(c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg&&(U=k,l=!1,e+=" "+k,c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg&&(Y=k,l=!1,e+=" "+k,c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg)))))){var M=k;l=!1;e+=" "+k;c.da()&&(l=!0,k=c.ca(),k>=h.lg&&k<=h.jg&&(N=k,O=!0,M>U?a[a.length]=[Keywords.vh+" W "+this.ma(M)+" E "+this.ma(U),"W is greater than E"]:N>Y?a[a.length]=[Keywords.vh+" N "+this.ma(N)+" S "+this.ma(Y),"N is greater than S"]:(this.uh&&(a[a.length]=[Keywords.vh+" "+this.ma(U)+" "+this.ma(Y)+
" "+this.ma(M)+" "+this.ma(N),"overwrites "+this.ma(this.Ye)+" "+this.ma(this.Ze)+" "+this.ma(this.If)+" "+this.ma(this.Hf)]),this.cb=this.uh=!0,this.Hf=N,this.Ye=U,this.Ze=Y,this.If=M)))}break;case Keywords.se:Y=t;!t.Hd&&0<this.A.$r&&(t=this.A.Ai());c.da()?(l=!0,k=c.ca()|0,0<k&&(!t.Dg||this.mb||W||(a[a.length]=-1===t.Ea?[Keywords.se+" "+k,"overwrites "+Keywords.xa]:[Keywords.se+" "+k,"overwrites "+t.Ea]),t.Ea=k,t.Dg=!0,W=this.mb=!1,O=!0)):(N=c.La(),N===Keywords.xa?(c.K(),!t.Dg||this.mb||W||(a[a.length]=
-1!==t.Ea||this.mb?[Keywords.se+" "+Keywords.xa,"overwrites "+t.Ea]:[Keywords.se+" "+Keywords.xa,"overwrites "+Keywords.xa]),t.Ea=-1,t.Dg=!0,W=this.mb=!1,O=!0):N===Keywords.oa&&(c.K(),this.A.ib(Keywords.se,t,a,this.mb),O=this.mb=!0));t=Y;break;case Keywords.oe:Y=t;!t.Hd&&0<this.A.N.length&&(t=this.A.Ai());c.da()?(l=!0,k=c.ca()|0,0<k&&(!t.eg||this.tc||Q||(a[a.length]=-1===t.M?[Keywords.oe+" "+k,"overwrites "+Keywords.xa]:[Keywords.oe+" "+k,"overwrites "+t.M]),t.M=k,t.eg=!0,Q=this.tc=!1,O=!0)):(N=c.La(),
N===Keywords.xa?(c.K(),!t.eg||this.tc||Q||(a[a.length]=-1===t.M?[Keywords.oe+" "+Keywords.xa,"overwrites "+Keywords.xa]:[Keywords.oe+" "+Keywords.xa,"overwrites "+t.M]),t.M=-1,t.eg=!0,Q=this.tc=!1,O=!0):N===Keywords.oa&&(c.K(),this.A.ib(Keywords.oe,t,a,this.tc),O=this.tc=!0));t=Y;break;case Keywords.Gg:c.da()?(l=!0,k=c.ca()|0,0<=k&&359>=k&&(!t.cf||this.Be||P||(a[a.length]=[Keywords.Gg+" "+k,"overwrites "+t.angle]),t.angle=k,t.cf=!0,P=this.Be=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.Gg,
t,a,this.Be),O=this.Be=!0));break;case Keywords.$g:c.da()?(l=!0,k=c.ca()|0,k>=h.Ik&&k<=h.Fk&&(!t.tf||this.Ee||ba||(a[a.length]=[Keywords.$g+" "+k,"overwrites "+t.m]),t.m=k,t.tf=!0,ba=this.Ee=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.$g,t,a,this.Ee),O=this.Ee=!0));break;case Keywords.Qg:c.da()?(l=!0,k=c.ca(),k>=h.Hk&&k<=h.ip&&(!t.hf||this.Ce||ca||(a[a.length]=[Keywords.Qg+" "+k,"overwrites "+t.depth]),t.depth=k,t.hf=!0,ca=this.Ce=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.Qg,
t,a,this.Ce),O=this.Ce=!0));break;case Keywords.nl:c.da()&&(l=!0,k=c.ca(),k>=-this.a.rb/2&&k<=this.a.rb/2&&(this.td=k,O=!0));break;case Keywords.ol:c.da()&&(l=!0,k=c.ca(),k>=-this.a.rb/2&&k<=this.a.rb/2&&(this.wd=k,O=!0));break;case Keywords.ec:c.da()?(l=!0,k=c.ca(),k>=-this.a.rb/2&&k<=this.a.rb/2&&(!t.Xd||this.He||y||(a[a.length]=[Keywords.ec+" "+k,"overwrites "+-t.x]),t.x=-k,t.Xd=!0,y=this.He=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.ec,t,a,this.He),O=this.He=!0));break;case Keywords.fc:c.da()?
(l=!0,k=c.ca(),k>=-this.a.rb/2&&k<=this.a.rb/2&&(!t.ud||this.rf||F||(a[a.length]=[Keywords.fc+" "+k,"overwrites "+-t.y]),t.y=-k,t.ud=!0,F=this.rf=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.fc,t,a,this.rf),O=this.rf=!0));break;case Keywords.Vo:O=!0;break;case Keywords.Rl:case Keywords.wb:c.da()?(l=!0,k=c.ca(),k>=h.Ba&&k<=h.sb?(!t.gc||this.Fc||J||(a[a.length]=1>t.zoom?[Keywords.wb+" "+k,"overwrites "+-(1/t.zoom)]:[Keywords.wb+" "+k,"overwrites "+t.zoom]),t.zoom=k,t.gc=!0,J=this.Fc=
!1,O=!0):k>=h.Sr&&k<=h.Hr&&(t.gc&&!this.Fc&&(a[a.length]=1>t.zoom?[Keywords.wb+" "+k,"overwrites "+-(1/t.zoom)]:[Keywords.wb+" "+k,"overwrites "+t.zoom]),t.zoom=-(1/k),t.gc=!0,this.Fc=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.wb,t,a,this.Fc),O=this.Fc=!0));break;case Keywords.Wg:c.da()?(l=!0,k=c.ca()|0,k>=h.Lc&&k<=h.ig&&(!t.lf||this.De||aa||(a[a.length]=[Keywords.Wg+" "+k,"overwrites "+t.Ja]),t.Ja=k,t.lf=!0,aa=this.De=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.Wg,
t,a,this.De),O=this.De=!0));break;case Keywords.Kn:N=c.La();N===Keywords.xa?(c.K(),this.Jc||(this.Ff=this.ea=!1)):this.Jc||(this.Ff=this.ea=!0);O=!0;break;case Keywords.Zp:N=c.La();N===Keywords.xa?(c.K(),this.Jc||(this.Ve=this.Ff=this.ea=!1,this.g.Ve=!1)):this.Jc||(this.Ve=this.Ff=this.ea=!0,this.g.Ve=!0);O=!0;break;case Keywords.Jn:c.da()&&(l=!0,k=c.ca()|0,k>=h.np&&k<=h.kp&&(this.Gb=k,O=!0));break;case Keywords.Eg:c.da()?(l=!0,k=c.ca()|0,0<=k&&k<this.a.qc&&(!t.te||this.uc||V||this.pi(a,k,t.Fa),t.Fa=
k,t.te=!0,V=this.uc=!1,O=!0)):(N=c.La(),N===Keywords.lj?(c.K(),this.Sf?(t.te&&!this.uc&&this.pi(a,this.a.qc,t.Fa),t.Fa=this.a.qc,t.te=!0,this.uc=!1):a[a.length]=[Keywords.Eg+" "+Keywords.lj,"no custom THEME defined"],O=!0):N===Keywords.oa&&(c.K(),this.A.ib(Keywords.Eg,t,a,this.uc),O=this.uc=!0));break;case Keywords.Zk:a[a.length]=[e,"already in a script block"];O=!0;break;case Keywords.on:this.ja=!this.ja;O=!0;break;case Keywords.pn:this.Vg.current=this.xj([!0],!0,this);O=!0;break;case Keywords.sm:O=
this.g.ai=!0;break;case Keywords.nn:this.ll([!0],!0,this);this.Hc&&(this.Hc.current=[this.rd],this.g.th=!0);O=!0;break;case Keywords.im:c.da()&&(l=!0,k=c.ca()|0,k>=h.lp&&k<=h.hp&&(O=!0,this.a.Vk=k));break;case Keywords.Jk:O=this.ke=!0;break;case Keywords.rk:O=this.Lb=!0;break;case Keywords.xm:c.da()&&(l=!0,k=c.ca(),0<=k&&1>=k&&(O=!0,this.kb=k));break;case Keywords.ym:this.Pd=!1;O=!0;break;case Keywords.sn:this.a.R=!1;this.Ga.j=this.a.R;O=!0;break;case Keywords.Dm:this.a.R=!0;this.Ga.j=this.a.R;O=
!0;break;case Keywords.cn:this.an=c.K();O=this.bn=!0;break;case Keywords.kd:N=c.La();switch(N){case Keywords.ec:t.Lf&&this.ka(t.sd,Keywords.kd,Keywords.ec,a);t.sd=!0;t.Lf=!0;c.K();break;case Keywords.fc:t.Mf&&this.ka(t.vd,Keywords.kd,Keywords.fc,a);t.vd=!0;t.Mf=!0;c.K();break;case Keywords.wb:t.Un&&this.ka(t.xd,Keywords.kd,Keywords.wb,a);t.xd=!0;t.Cj=!0;c.K();break;case Keywords.xe:t.Lf&&this.ka(t.sd,Keywords.kd,Keywords.ec,a);t.Mf&&this.ka(t.vd,Keywords.kd,Keywords.fc,a);t.Un&&this.ka(t.xd,Keywords.kd,
Keywords.wb,a);t.sd=!0;t.Lf=!0;t.vd=!0;t.Mf=!0;t.xd=!0;t.Cj=!0;c.K();break;default:this.Tc(c,a,Keywords.kd,"argument",Keywords.xe+", "+Keywords.ec+", "+Keywords.fc+" or "+Keywords.wb)}O=!0;break;case Keywords.ae:N=c.La();switch(N){case Keywords.ec:t.Lf&&this.ka(t.sd,Keywords.ae,Keywords.ec,a);t.sd=!1;t.Lf=!0;c.K();break;case Keywords.fc:t.Mf&&this.ka(t.vd,Keywords.ae,Keywords.fc,a);t.vd=!1;t.Mf=!0;c.K();break;case Keywords.wb:t.Un&&this.ka(t.xd,Keywords.ae,Keywords.wb,a);t.xd=!1;t.Cj=!0;c.K();break;
case Keywords.xe:t.Lf&&this.ka(t.sd,Keywords.ae,Keywords.ec,a);t.Mf&&this.ka(t.vd,Keywords.ae,Keywords.fc,a);t.Un&&this.ka(t.xd,Keywords.ae,Keywords.wb,a);t.sd=!1;t.Lf=!0;t.vd=!1;t.Mf=!0;t.xd=!1;t.Cj=!0;c.K();break;default:this.Tc(c,a,Keywords.ae,"argument",Keywords.xe+", "+Keywords.ec+", "+Keywords.fc+" or "+Keywords.wb)}O=!0;break;case Keywords.Sk:z=!0;this.A.add(t);t=this.A.Sj();t.Hd=!0;N=c.La();N===Keywords.oa&&(c.K(),-1!==this.Og&&(a[a.length]=[Keywords.Sk+" "+Keywords.oa,"overrides previous initial POI"]),
this.Og=this.A.Da.length);this.xl();O=!0;break;case Keywords.hl:c.da()&&(l=!0,k=c.ca()|0,0<=k&&(B||(B=!0),0<k&&(this.A.add(t),t=this.A.Sj()),t.sa=k,O=t.kj=!0));break;case Keywords.rh:c.da()?(l=!0,k=c.ca()|0,k>=h.ah&&k<=h.Ld&&(!t.Df||this.Ge||X||(a[a.length]=[Keywords.rh+" "+k,"overwrites "+t.step]),t.step=k,t.Df=!0,X=this.Ge=!1,O=!0)):(N=c.La(),N===Keywords.oa&&(c.K(),this.A.ib(Keywords.rh,t,a,this.Ge),O=this.Ge=!0));break;case Keywords.Wm:c.da()&&(l=!0,k=c.ca(),0<=k&&(B||(B=!0),this.A.add(t),t=this.A.Sj(),
k<h.Qp&&(k=h.Qp),t.bb=k,O=t.Up=!0));break;case Keywords.Bj:c.da()&&(l=!0,k=c.ca()|0,this.Jc||(-1===this.P||T||(a[a.length]=[Keywords.Bj+" "+k,"overwrites "+this.P]),this.P=k),T=!1,O=!0);break;case Keywords.Fi:c.da()&&(l=!0,k=c.ca()|0,this.Jc||(-1===this.W||Z||(a[a.length]=[Keywords.Fi+" "+k,"overwrites "+this.W]),this.W=k),Z=!1,O=!0);break;case Keywords.Zi:c.da()&&(l=!0,k=c.ca()|0,-1===this.fa||R||(a[a.length]=[Keywords.Zi+" "+k,"overwrites "+this.fa]),this.fa=k,R=!1,O=!0);break;case Keywords.Yi:c.da()&&
(l=!0,k=c.ca()|0,-1===this.la||I||(a[a.length]=[Keywords.Yi+" "+k,"overwrites "+this.la]),this.la=k,I=!1,O=!0);break;default:a[a.length]=[e,"unknown or misspelt command"],O=!0}O||(l?a[a.length]=[e+" "+k,"argument out of range"]:this.Tc(c,a,e,"argument","numeric"))}""!==e&&(e=c.K())}f&&(a[a.length]=[Keywords.ub+g,"unterminated string"]);B&&this.cb&&(c=this.uh?Keywords.vh:this.Yc?Keywords.sj:Keywords.tj,a[a.length]=[c,"can not be used with Waypoints"],this.Yc=this.uh=this.cb=!1);this.uh||!this.cb&&
!this.Yc||(this.Yc&&(0<this.a.gd&&(x*=this.a.gd),t.M=x),this.Hf=n,this.Ye=v,this.Ze=n,this.If=v);if(B||z){this.A.add(t);B?(t=this.A.Ai(),this.gb=!0):-1!==this.Og&&(t=this.A.Da[this.Og],this.bd=this.Og);if(B){for(e=0;e<this.A.N.length;e+=1)t=this.A.N[e],t.Zb&&(t.Xd||t.ud||t.gc)&&(g="",t.Xd?(g="X "+t.x,t.ud?g=t.gc?g+(", Y "+t.y+" and ZOOM "+t.zoom):g+(" and Y "+t.y):t.gc&&(g+=" and ZOOM "+t.zoom)):t.ud?(g="Y "+t.y,t.gc&&(g+=" and ZOOM "+t.zoom)):t.gc&&(g="ZOOM "+t.zoom),a[a.length]=[Keywords.Oj,"overwrites "+
g]);t=this.A.Ai()}z&&t.Nc===WaypointConstants.play&&this.za&&(this.Gc=!0)}t.Zb&&(this.Ta=!0);t.Xd&&(this.a.I=this.a.width/2-t.x);t.ud&&(this.a.D=this.a.height/2-t.y);t.gc&&(this.a.zoom=t.zoom);t.cf&&(this.a.angle=t.angle);t.te&&this.a.xg(t.Fa,1);t.hf&&(this.a.qb=t.depth/h.Vf+h.Hk);t.tf&&(this.a.m=t.m);t.lf&&(this.nc=t.Ja);t.Df&&(this.J=t.step);t.Fn&&this.g.notification.F(t.dc,1E3,!1);this.Ea=t.Ea;this.M=t.M;t.gc&&(this.ei=!0);t.Xd&&(this.Yh=!0);t.ud&&(this.Zh=!0);t.uk&&(this.a.Cb=t.Eb);t.fl&&(this.ph=
t.zg);for(e=0;e<b;e+=1)-1!==this.o[e]&&(m+=1);if(0<m){this.Mj=!0;for(e=0;e<b;e+=1)PatternManager.qd[e]?-1===this.o[e]?(m=this.kc[e],this.Dj&&(a[a.length]=this.a.Kc?[w+" "+h.Ys[e],"definition missing (used "+(m>>16)+" "+(m>>8&255)+" "+(m&255)+")"]:[w+" "+e,"definition missing (used "+(m>>16)+" "+(m>>8&255)+" "+(m&255)+")"]),this.o[e]=m,this.Mj=!1,this.Ch[e]=h.Tp):this.Ch[e]=h.Sp:this.Ch[e]=h.zn;this.wi=this.Mj?"(custom)":this.wi+" (custom*)"}else this.o=[];this.Sf&&this.nm(a,w);-1!==this.xi&&(this.a.hd=
this.xi);-1!==this.yi&&(this.a.le=this.yi);2<b&&!this.a.Kc&&-1===this.a.Dt&&(this.Hb=!0);this.Hb&&(c="not possible due to "+Keywords.zj,this.Gc&&(a[a.length]=[Keywords.Pj,c],this.Gc=!1),-1!==this.Ea&&(a[a.length]=[Keywords.se+" "+this.Ea,c]),-1!==this.M&&(a[a.length]=[Keywords.oe+" "+this.M,c]));0!==this.td&&this.Af+h.Ld+2*Math.abs(this.td)>=this.a.rb&&(a[a.length]=[Keywords.nl+" "+this.td,"pattern does not fit on grid at this offset"],this.td=0);0!==this.wd&&this.sg+h.Ld+2*Math.abs(this.wd)>=this.a.rb&&
(a[a.length]=[Keywords.ol+" "+this.wd,"pattern does not fit on grid at this offset"],this.wd=0);this.Vm=a.length}this.Sf&&this.vb&&(this.vb.upper=this.a.qc);""!==this.qa&&(this.qa=this.yh(this.qa));this.Ta&&(this.Nj=!0);this.Lb&&this.ke&&(a[a.length]=[Keywords.rk,"not valid with "+Keywords.Jk],this.Lb=!1);w=!1;-1!==this.P&&(b=h.Mc,this.pc&&(b=h.Ur),this.P<b||this.P>this.Ie)&&(a[a.length]=[Keywords.Bj+" "+this.P,"argument out of range"],w=!0);-1!==this.W&&(b=h.Th,this.pc&&(b=h.Tr),this.W<b||this.W>
h.Gk)&&(a[a.length]=[Keywords.Fi+" "+this.W,"argument out of range"],w=!0);this.Jc&&(-1!==this.fa&&(this.fa<h.Mc||this.fa>this.Ie)&&(a[a.length]=[Keywords.Zi+" "+this.fa,"argument out of range"],this.fa=-1,w=!0),-1!==this.la&&(this.la<h.Th||this.la>h.Gk)&&(a[a.length]=[Keywords.Yi+" "+this.la,"argument out of range"],this.la=-1,w=!0));if(w||a.length)-1!==this.P&&this.P<h.Mc&&(this.P=h.Mc),-1!==this.W&&this.W<h.kg&&(this.W=h.kg),this.pc=!1;this.w.j=this.pc;this.g.pc=this.pc;this.g.fh=this.fh;this.pc&&
(this.Lb=this.Ve=this.ea=this.Gc=!1,this.xj([!1],!0,this),this.ll([!1],!0,this),this.ja=!1);this.oi&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===D.lk&&(this.element.parentNode.parentNode.style="display:none;"))};b.prototype.Ol=function(){this.Og=-1;this.bn=this.fh=this.oi=this.pc=!1;this.a.nd=0;this.a.Oc=0;this.a.cc=1;this.ja=this.Nj=this.Ta=!1;this.o=[];this.gf=this.cd=null;this.ee=h.ee;this.a.he=this.a.pr;
this.a.ge=this.a.nr;this.a.fe=this.a.mr;this.a.ie=this.a.qr;this.a.je=this.a.rr;this.Pf=this.Gc=this.xk=!1;this.M=this.Ea=-1;this.rd=this.eb=this.Yc=this.cb=this.uh=this.gb=this.lb=this.ra=!1};b.prototype.Cn=function(){this.Ve?F(this.element):(this.v=this.Fj,this.s=this.In,this.Ta?(this.ea=!1,this.Fe(!0,!1)):this.a.zoom=this.Gj,this.Ma&&(this.Ma.current=this.af([this.a.zoom,this.a.zoom],!1,this)),this.C=this.Ej,this.ea=!1,this.g.ea=!1,this.w.j=!1,this.g.notification.F("Shrink with hotkey N",100,!0))};
b.prototype.Fl=function(a){a.ea?(a.Cn(),a.resize()):a.pc&&a.oo(a)};b.prototype.resize=function(){this.h.width=this.v;this.h.height=this.s;this.hh.width=this.v;this.hh.height=this.s;this.bc.textBaseline="middle";this.a.Gp(this.v,this.s)};b.prototype.Dn=function(){this.Fj=this.v;this.In=this.s;this.Gj=this.a.zoom;this.Ej=this.C;this.v=this.v/this.Gb|0;this.s=this.s/this.Gb|0;this.a.zoom=this.a.zoom/this.Gb;this.v&=-8;this.w.j=!0;this.g.ea=!0;this.g.Gb=this.Gb;this.ea=!0};b.prototype.xn=function(a,b){var c,
d=!1;this.Ob=[];if(a=PatternManager.create("",a,this.a.l)){this.Yf=PatternManager.Yf;this.pk=PatternManager.wm;this.Pe=PatternManager.Pe;this.Tk=PatternManager.Ym;this.Uk=PatternManager.Zm;this.Vd=PatternManager.Vd;this.Ud=PatternManager.Ud;this.Af=a.width;this.sg=a.height;this.Si=a.name;this.Ti=a.tp;this.qe=a.qe;""===this.qe&&(this.qe="(none)");this.zf=a.xf;this.Vi=a.Qi;this.yf=a.na;this.Le=a.Zn;this.za=PatternManager.za;this.a.Kc=a.pb;this.a.u=a.u;if(this.a.ac=a.ac)this.a.Nf.ug=a.Cf,this.a.Nf.et=
a.Sh,this.a.Nf.Vr=a.Zd,this.a.Nf.Ir=a.Xc,this.a.Nf.Pr=a.bf,this.a.Nf.Dr=a.Yd,this.a.Nf.Ks=a.u,this.a.Nf.type=a.xc?"N":"M";this.a.R=a.R;this.a.Pk=a.R;this.a.xc=a.xc;this.a.Kf=a.Kf;this.a.yb=a.jd;this.a.ua=a.me;this.a.Aa=a.mf;this.a.ui=a.Ci;this.a.vi=a.Kh;this.a.Vl=a.zm;this.a.io=a.wk;this.Ui=new Uint32Array(this.zf);for(c=0;c<this.zf;c+=1)this.Ui[c]=PatternManager.qd[c]}else this.Yf=!1,this.pk=0,this.Pe=!1,this.Uk=this.Tk=0,this.Ti=this.Si=this.Le=this.yf="",this.Vi=this.zf=this.sg=this.Af=0,this.qe=
"(none)",this.a.Kc=!1,this.a.R=!1,this.a.xc=!1,this.a.Kf=-1,this.a.Pk=!1,this.a.u=-1,this.a.yb=-1,this.a.ac=!1,this.a.Et=!1;this.Lb=!1;this.Pd=!0;this.kb=h.wo;this.ke=!1;this.Bi=!0;this.qk=!1;this.Ga.j=this.a.R;this.U=PatternManager.U;this.a.ba=!0;this.a.Ic=-1===this.a.u?!1:!0;this.a.gl=-1;this.a.Vk=h.vo;this.wd=this.td=0;this.Rc=this.bd=-1;this.Lg=!1;this.Se=this.nf=this.w.locked=!1;this.a.ir();this.a.jr();this.a.Kc&&((PatternManager.qd[2]||PatternManager.qd[3]||PatternManager.qd[4]||PatternManager.qd[5]||
PatternManager.qd[6])&&this.a.Lq(),PatternManager.qd[6]&&this.a.Nq());this.qa="";this.ph=!1;ColourManager.ne();this.a.Hq();this.a.Gq();this.a.Aq();this.a.Kc?this.a.xg(10,1):-1!==this.a.u?this.a.xg(11,1):this.a.xg(1,1);this.a.po();this.a.Xb(1);this.nc=60;this.J=1;this.a.m=1;this.a.qb=.1;this.a.angle=0;this.a.zoom=6;this.a.I=this.a.width/2;this.a.D=this.a.height/2;this.Zh=this.Yh=this.ei=!1;this.la=this.fa=this.W=this.P=-1;this.c[h.Mg]=-1;this.c[h.Dh]=-1;this.c[h.Xj]=-1;this.c[h.Ng]=-1;this.c[h.Zj]=
-1;this.c[h.ek]=-1;this.c[h.fk]=-1;this.c[h.gk]=-1;this.c[h.hk]=-1;this.c[h.Yj]=-1;this.c[h.bk]=-1;this.c[h.ak]=-1;this.c[h.$j]=-1;this.c[h.ck]=-1;this.c[h.dk]=-1;this.ea&&(this.Cn(),this.resize());this.Ff=!1;this.g.ea=!1;this.Gb=h.xo;this.Ve=!1;this.Hb=this.Kb=this.g.Gt=!1;this.a.Cb=!1;this.T.j=!1;this.Hc.j=!1;this.ha.j=!1;this.Va.j=!1;this.Nd.j=!1;this.jb.j=!1;this.Pa.j=!1;this.vb.j=!1;this.w.j=!1;this.Qd.j=!1;this.Nd.current=[!1];this.Hc.current=[!1];this.ya=this.C=0;this.Zg.current=this.qj([this.C],
!0,this);this.a.hd=this.a.vk;this.a.le=this.a.Am;this.a.gd=10;this.a.Zf=!0;this.xi=this.yi=-1;this.Rf=[96,96,96];this.a.Ah=this.a.cg?4284506208:1616929023;this.A.reset();this.Od=this.gb=!1;if(a){if(PatternManager.Jh||a.pb)a.pb?(this.kc=ColourManager.no("LifeHistory"),this.kc[2]=96):this.kc=ColourManager.no(a.na),this.kc.length?this.wi=a.na:(this.kc=ColourManager.em,this.wi="(default)");this.Ol();a.title&&(this.Nl(a.title,a.xf),myRand.ne(this.an),this.Ob.length&&(this.ya=1),this.ea&&b&&(this.ea=!1),
-1<this.P&&(this.P&=-8,this.P!==this.v&&(this.v=this.P,d=!0)),-1<this.W&&this.W!==this.s&&(this.s=this.W,d=!0),this.Jc&&(-1<this.fa?(this.fa&=-8,this.fa!==this.v&&(this.v=this.fa,d=!0)):this.v=h.Mc,-1<this.la?this.la!==this.s&&(this.s=this.la,d=!0):this.s=h.kg+80));this.Sn=!1;-1!==this.a.yb?(b=this.a.ua,c=this.a.Aa,0===b&&(b=a.width),0===c&&(c=a.height)):(b=a.width,c=a.height);this.Pe&&(this.td+=this.Tk,this.wd+=this.Uk);for(;this.a.width<this.a.rb&&(b+h.Ld+2*Math.abs(this.td)>=this.a.width||c+h.Ld+
2*Math.abs(this.wd)>=this.a.height);)this.a.No(),this.Rb+=this.a.width>>2,this.Hh+=this.a.height>>2,this.Nb+=this.a.width>>2,this.mh+=this.a.height>>2,this.a.R&&(this.Rb-=this.a.height>>3,this.Nb-=this.a.height>>3);this.zl(a);this.a.Kc&&PatternManager.qd[6]&&this.a.ks(a,this.Uc,this.Vc);this.cd?this.g.notification.Yl="rgb("+this.cd[0]+","+this.cd[1]+","+this.cd[2]+")":this.g.notification.Yl=this.g.notification.Bp;if(0===this.o.length)for(c=0;c<this.kc.length;c+=1)this.Ch[c]=PatternManager.qd[c]?h.Tp:
h.zn;this.a.Bc?(this.a.Iq(this.kc,this.o),this.a.jf=!0):this.a.jf=!1;this.Al(a);this.a.ht();this.nb.tb=""!==this.Le?this.Le:this.yf;this.nb.H="rule "+this.yf;""!==this.Le&&(this.nb.H+=" alias "+this.Le)}this.Bd.current=this.kh([this.kb,this.kb],!1,this);this.Ph.current=[this.Pd];this.df.current=[this.Ta];this.Xg.current=[this.a.Cb];this.a.ws(this.Se);this.a.fn();this.elapsedTime=this.Ke=this.Za=this.a.i=0;this.Kb?(a&&0<this.o.length&&(this.kc=this.o),this.a.Kq(this.kc),this.a.Dc.reset()):(-1===this.a.u&&
this.a.ys(this.a.ob),this.a.Kc&&PatternManager.qd[2]&&this.a.Eq(a,this.Uc,this.Vc),this.a.As(this.a.ob),-1!==this.a.yb&&this.a.ln(),this.a.Is(this.Od),this.a.Yk(this.Od));this.a.Fp();a&&(a.ld=null);b=this.a.zoom;c=this.a.I;var e=this.a.D;var f=this.ea;this.ea=!1;this.Fe(!0,!1);this.ea=f;this.ei&&(this.a.zoom=b);this.Yh&&(this.a.I=c);this.Zh&&(this.a.D=e);this.gb&&this.um(this.Ob);this.yo=this.a.zoom;this.Ma&&(this.Ma.current=this.af([this.a.zoom,this.a.zoom],!1,this));this.Rb=this.a.I;this.Hh=this.a.D;
this.Eh=this.a.angle;this.Ga&&(this.Ga.current=[this.Eh,this.Eh]);this.Pg=this.a.de;this.vb&&(this.vb.current=[this.Pg,this.Pg]);this.hm=this.nc;b=Math.sqrt((this.hm-h.Lc)/(h.ig-h.Lc));this.ha&&(this.ha.current=this.$e([b,b],!0,this));this.ik=this.J;this.Va&&(this.Va.current=this.Fg([this.ik,this.ik],!0,this));this.Gh=this.a.m;this.jb&&(this.jb.current=[this.Gh,this.Gh]);this.gm=this.a.qb;b=Math.sqrt(this.gm);this.Pa&&(this.Pa.current=this.Jf([b,b],!0,this));this.ba=!0;this.Gc&&!this.Pf?(this.Db=
!0,this.T.current=h.bh):(this.Db=!1,this.T.current=h.Ka);this.Mp(this.Db);this.s<h.kg?(this.Nd.j=!0,this.T.x=this.mi+45,this.T.Rd=this.T.x,this.ha.x=this.ii+45,this.ha.Rd=this.ha.x,this.Va.x=this.ni+45):(this.T.x=this.mi,this.T.Rd=this.T.x,this.ha.x=this.ii,this.ha.Rd=this.ha.x,this.Va.x=this.ni);this.Va.Rd=this.Va.x;if(d||this.ea)this.ea&&this.Dn(),this.resize();a||(PatternManager.Gf?this.g.notification.F("Pattern too big!",h.rm,!1):this.g.notification.F("Invalid pattern!",h.rm,!1));this.Ob.length?
this.C=0:this.ya=0;this.za||(this.Hb=!0);this.Hb?(this.T.j=!0,this.Hc.j=!0,this.Qd.j=!0,this.ha.j=!0,this.Va.j=!0,this.Kb&&(this.jb.j=!0,this.Pa.j=!0,this.vb.j=!0,this.a.m=1),this.Sa.j=!1,""===this.U?(this.Sa.tb=Keywords.zj,this.Sa.ed=h.Lh):(this.Sa.tb=this.U,this.Sa.ed=this.ee)):this.Sa.j=!0;this.eq();Help.en(this,null,6,14,19,0);this.yc=!1;this.Bk="";this.Jp(this);this.g.th=!0;this.g.wg(!0);this.Jc&&this.jl&&(""===this.qa?this.jl.nodeValue="LifeViewer":this.jl.nodeValue=this.El(this.qa))};registerEvent(window,
"load",P,!1);window.DocConfig=D;window.Controller=w;window.ViewConstants=h;window.startAllViewers=P;window.updateViewer=F;window.updateMe=function(a){var b=c(a).getElementsByTagName(D.jh)[0];a=w.Vb[0];b.innerHTML=b.value;b=e(b);a[1].Rn(a[1]);a[1].g.notification.clear(!0,!0);a[1].g.notification.clear(!1,!0);a[1].xn(b,!1)};window.hideViewer=a;window.launchInMolly=m})();window.Help={us:function(b,f,c,a,d,e,m,F,B,g){var P=F,D=!1,h=b.L;e&&(e.fillStyle===ViewConstants.Gi&&(D=!0),h>=g&&h<=g+b.ab&&(e.font=ViewConstants.mk,D||(e.fillStyle=1<(b.C|0)?ViewConstants.Lh:ViewConstants.sk),e.fillText(f,m,F),D||(e.fillStyle=ViewConstants.Lh),e.fillText(c,m+e.measureText(f).width,F),D||(e.fillStyle=(b.C|0)<b.Uh-b.ab?ViewConstants.Lh:ViewConstants.sk),e.fillText(a,m+e.measureText(f+c).width,F),D||(e.fillStyle=ViewConstants.Lh),e.font=ViewConstants.xh,e.fillText(d,m+b.Ue[0],F),P+=
B));b.L+=1;return P},Mb:function(b,f,c,a,d,e,m,F,B){var g=b.L;d&&(F-=6,g>=B&&g<=B+b.ab&&(b=d.fillStyle,b!==ViewConstants.Gi&&(d.fillStyle="rgb("+f+","+c+","+a+")"),d.fillRect(e,m-(F>>1)-1,F,F),d.fillStyle=b))},b:function(b,f,c,a,d,e,m,F){var B=e,g=String(c).indexOf("\t"),P=b.L,D=0;if(a&&P>=F&&P<=F+b.ab){if(f.length){a.font=ViewConstants.mk;a.fillText(f,d,e);for(a.font=ViewConstants.xh;-1!==g;)a.fillText(c.substr(0,g),d+b.Ue[D],e),D+=1,c=c.substr(g+1),g=c.indexOf("\t");a.fillText(c,d+b.Ue[D],e)}else a.font=
ViewConstants.xh,a.fillText(c,d,e);B+=m}b.L+=1;return B},Cc:function(b,f,c){for(var a=ColourManager.kc,d=Object.keys(a),e="    "+b+"\t"+f+"\t"+c,m=!1,F,B=0;B<d.length&&!m;)F=a[d[B]],F[1]===b&&F[2]===f&&F[3]===c?(e+="\t"+F[0],m=!0,B=d.length):B+=1;return e},aj:function(b){return this.Cc(b.red,b.green,b.blue)},qq:function(b){var f=0,c=0;b.a.i?b.ba&&(f=b.a.G.Y-b.a.G.X+1,c=b.a.G.Z-b.a.G.V+1):(f=b.Af,c=b.sg);-1!==b.a.yb&&(0!==b.a.ua&&(f=b.a.ua),0!==b.a.Aa&&(c=b.a.Aa));return f+" x "+c},sq:function(b){var f=
"AutoFit";b.nf&&(f+=" History");b.Se&&(f+=" State 1");return f},up:function(b,f){f-=b.length;for(var c="";0<f;)c+=" ",--f;return c+b},en:function(b,f,c,a,d,e){var m=a,F="Player",B;var g=b.a.rc[b.a.de];var P=b.kc;var D=ColourManager.kc,h=Object.keys(D),w=b.Ue;var k=b.Yg;var l=0;b.L=1;w[0]=108;k[l]=b.L;l+=1;a=this.b(b,"",ViewConstants.hq+" build "+ViewConstants.Qn+" by "+ViewConstants.gq,f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);w[0]=124;k[l]=b.L;l+=1;a=this.b(b,"","Keyboard commands",
f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Playback controls:",f,c,a,d,e);b.Kb?a=this.b(b,"R","reset",f,c,a,d,e):(a=this.b(b,"Enter","toggle play / pause",f,c,a,d,e),a=this.b(b,"Space","pause / next generation",f,c,a,d,e),a=this.b(b,"B","pause / previous generation",f,c,a,d,e),a=this.b(b,"Tab","pause / next step",f,c,a,d,e),a=this.b(b,"Shift Tab","pause / previous step",f,c,a,d,e),a=b.Jc?this.b(b,"Esc","close LifeViewer",f,c,a,d,e):this.b(b,"Esc","pause if playing",f,c,a,
d,e),a=this.b(b,"R","reset to generation 0",f,c,a,d,e),a=this.b(b,"Shift R","reset all LifeViewers to generation 0",f,c,a,d,e),a=this.b(b,"-","decrease generation speed",f,c,a,d,e),a=this.b(b,"+","increase generation speed",f,c,a,d,e),a=this.b(b,"Shift -","minimum generation speed",f,c,a,d,e),a=this.b(b,"Shift +","maximum generation speed",f,c,a,d,e),a=this.b(b,"D","decrease step size",f,c,a,d,e),a=this.b(b,"E","increase step size",f,c,a,d,e),a=this.b(b,"Shift D","minimum step size",f,c,a,d,e),a=
this.b(b,"Shift E","maximum step size",f,c,a,d,e),a=this.b(b,"0","reset step and speed",f,c,a,d,e),b.gb?(a=-1!==b.M?this.b(b,"W","toggle waypoint playback and loop",f,c,a,d,e):this.b(b,"W","toggle waypoint playback",f,c,a,d,e),a=this.b(b,"Y","move back in time",f,c,a,d,e),a=this.b(b,"U","move forward in time",f,c,a,d,e)):-1!==b.M&&(a=this.b(b,"W","toggle loop",f,c,a,d,e)));a=this.b(b,"Z","stop playback in all other LifeViewers",f,c,a,d,e);a=this.b(b,"Shift Z","stop playback in all LifeViewers",f,
c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Camera controls:",f,c,a,d,e);if(b.s>=ViewConstants.kg||(b.ea&&b.In)>=ViewConstants.kg)a=this.b(b,"M","toggle navigation menu",f,c,a,d,e);a=this.b(b,"V","restore saved camera position",f,c,a,d,e);a=this.b(b,"Shift V","save current camera position",f,c,a,d,e);var q=b.A.Da.length;if(0<q)for(a=this.b(b,"J","jump to next point of interest",f,c,a,d,e),a=this.b(b,"Shift J","jump to previous point of interest",f,c,a,d,e),9<q&&(q=9),B=1;B<=
q;B+=1)a=this.b(b,"Alt "+String(B),"jump to POI #"+String(B),f,c,a,d,e);a=this.b(b,"F","fit pattern to display",f,c,a,d,e);a=this.b(b,"Shift F","toggle autofit",f,c,a,d,e);a=this.b(b,"Shift H","toggle autofit history mode",f,c,a,d,e);b.a.Kc&&(a=this.b(b,"Shift S","toggle autofit state 1 mode",f,c,a,d,e));a=this.b(b,"[","zoom out",f,c,a,d,e);a=this.b(b,"]","zoom in",f,c,a,d,e);a=this.b(b,"Shift [","halve zoom",f,c,a,d,e);a=this.b(b,"Shift ]","double zoom",f,c,a,d,e);a=this.b(b,"1","1x zoom",f,c,a,
d,e);a=this.b(b,"2","2x zoom",f,c,a,d,e);a=this.b(b,"4","4x zoom",f,c,a,d,e);a=this.b(b,"8","8x zoom",f,c,a,d,e);a=this.b(b,"6","16x zoom",f,c,a,d,e);a=this.b(b,"3","32x zoom",f,c,a,d,e);a=this.b(b,"Shift 1","integer zoom",f,c,a,d,e);a=this.b(b,"Shift 2","-2x zoom",f,c,a,d,e);a=this.b(b,"Shift 4","-4x zoom",f,c,a,d,e);a=this.b(b,"Shift 8","-8x zoom",f,c,a,d,e);a=this.b(b,"Shift 6","-16x zoom",f,c,a,d,e);a=this.b(b,"Left","pan left",f,c,a,d,e);a=this.b(b,"Right","pan right",f,c,a,d,e);a=this.b(b,"Up",
"pan up",f,c,a,d,e);a=this.b(b,"Down","pan down",f,c,a,d,e);a=this.b(b,"Shift Left","pan north west",f,c,a,d,e);a=this.b(b,"Shift Right","pan south east",f,c,a,d,e);a=this.b(b,"Shift Up","pan north east",f,c,a,d,e);a=this.b(b,"Shift Down","pan south west",f,c,a,d,e);a=this.b(b,"<","rotate left",f,c,a,d,e);a=this.b(b,">","rotate right",f,c,a,d,e);a=this.b(b,"Shift <","rotate left 90 degrees",f,c,a,d,e);a=this.b(b,"Shift >","rotate right 90 degrees",f,c,a,d,e);a=this.b(b,"5","reset angle",f,c,a,d,e);
a=this.b(b,"","",f,c,a,d,e);b.Kb||(k[l]=b.L,l+=1,a=this.b(b,"","View controls:",f,c,a,d,e),a=this.b(b,"Q","increase number of layers",f,c,a,d,e),a=this.b(b,"A","decrease number of layers",f,c,a,d,e),a=this.b(b,"P","increase layer depth",f,c,a,d,e),a=this.b(b,"L","decrease layer depth",f,c,a,d,e),a=this.b(b,"C","next colour theme",f,c,a,d,e),a=this.b(b,"Shift C","previous colour theme",f,c,a,d,e),a=this.b(b,"Alt C","default theme",f,c,a,d,e),a=this.b(b,"","",f,c,a,d,e));k[l]=b.L;l+=1;a=this.b(b,"",
"Display controls:",f,c,a,d,e);b.Kb||(a=this.b(b,"G","toggle generation statistics",f,c,a,d,e),a=this.b(b,"Shift G","toggle generation display mode",f,c,a,d,e),a=this.b(b,"Y","toggle population graph",f,c,a,d,e),a=this.b(b,"Shift Y","toggle graph lines",f,c,a,d,e),a=this.b(b,"7","decrease graph opacity",f,c,a,d,e),a=this.b(b,"9","increase graph opacity",f,c,a,d,e));a=this.b(b,"/","toggle hex view",f,c,a,d,e);a=this.b(b,"Shift /","pattern default view",f,c,a,d,e);a=this.b(b,"T","toggle timing information",
f,c,a,d,e);a=this.b(b,"Shift T","toggle extended timing information",f,c,a,d,e);a=this.b(b,"I","toggle pattern and engine information",f,c,a,d,e);a=this.b(b,"Shift I","toggle information bar",f,c,a,d,e);a=this.b(b,"X","toggle grid lines",f,c,a,d,e);0<b.a.gd&&(a=this.b(b,"Shift X","toggle major grid lines",f,c,a,d,e));b.Ff&&(a=this.b(b,"N","toggle thumbnail view",f,c,a,d,e));a=this.b(b,"S","toggle stars",f,c,a,d,e);a=this.b(b,"O","open screenshot in separate window",f,c,a,d,e);a=this.b(b,"Shift O",
"open population graph in separate window",f,c,a,d,e);a=this.b(b,"Control C","copy pattern to clipboard",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Help controls:",f,c,a,d,e);a=this.b(b,"Up","scroll up one line",f,c,a,d,e);a=this.b(b,"Down","scroll down one line",f,c,a,d,e);a=this.b(b,"PgUp","scroll up one page",f,c,a,d,e);a=this.b(b,"PgDn","scroll down one page",f,c,a,d,e);a=this.b(b,"Shift PgUp","scroll up one section",f,c,a,d,e);a=this.b(b,"Shift PgDn","scroll down one section",
f,c,a,d,e);a=this.b(b,"Home","go to first help page",f,c,a,d,e);a=this.b(b,"End","go to last help page",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);w[0]=252;a=this.b(b,"","",f,c,a,d,e);b.Kp=b.L;k[l]=b.L;l+=1;a=this.b(b,"","Scripts",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","Scripts must be embedded in pattern comments",f,c,a,d,e);a=this.b(b,"","Commands must be surrounded by whitespace",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","Parameter conventions:",f,c,a,d,e);a=this.b(b,"A|B",
"either A or B",f,c,a,d,e);a=this.b(b,"(A)","A is optional",f,c,a,d,e);a=this.b(b,"<1..3>","integer range",f,c,a,d,e);a=this.b(b,"<1.0..3.0>","decimal range",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Commands:",f,c,a,d,e);a=this.b(b,Keywords.Zk,"start script section",f,c,a,d,e);a=this.b(b,Keywords.kn,"end script section",f,c,a,d,e);a=this.b(b,Keywords.An,"enable strict validation",f,c,a,d,e);a=this.b(b,Keywords.Bn,"suppress overwrite warning",f,c,a,d,e);a=this.b(b,Keywords.Pj+
" ("+Keywords.xa+")","start play automatically",f,c,a,d,e);a=this.b(b,Keywords.Bm,"always use hard reset",f,c,a,d,e);a=this.b(b,Keywords.oe+" <1..>|"+Keywords.xa,"loop at generation",f,c,a,d,e);a=this.b(b,Keywords.se+" <1..>|"+Keywords.xa,"stop at generation",f,c,a,d,e);a=this.b(b,Keywords.hl+" <0..>","waypoint at generation",f,c,a,d,e);a=this.b(b,Keywords.Wm+" <0.0..>","pause for time",f,c,a,d,e);a=this.b(b,Keywords.kd+" "+Keywords.xe+"|"+Keywords.ec+"|"+Keywords.fc+"|"+Keywords.wb,"linear motion",
f,c,a,d,e);a=this.b(b,Keywords.ae+" "+Keywords.xe+"|"+Keywords.ec+"|"+Keywords.fc+"|"+Keywords.wb,"bezier motion (default)",f,c,a,d,e);a=this.b(b,Keywords.Oj+" ("+Keywords.xa+")","fit pattern to display",f,c,a,d,e);a=this.b(b,Keywords.Fm+" ("+Keywords.xa+")","autofit uses pattern history",f,c,a,d,e);a=this.b(b,Keywords.yn+" ("+Keywords.xa+")","autofit only uses state 1",f,c,a,d,e);a=this.b(b,Keywords.tj+" X Y","camera tracking",f,c,a,d,e);a=this.b(b," X ","horizontal speed cells/gen",f,c,a,d,e);a=
this.b(b," Y ","vertical speed cells/gen",f,c,a,d,e);a=this.b(b,Keywords.vh+" E S W N","camera box tracking",f,c,a,d,e);a=this.b(b," E ","east edge speed cells/gen",f,c,a,d,e);a=this.b(b," S ","south edge speed cells/gen",f,c,a,d,e);a=this.b(b," W ","west edge speed cells/gen",f,c,a,d,e);a=this.b(b," N ","north edge speed cells/gen",f,c,a,d,e);a=this.b(b,Keywords.sj+" P X Y","camera tracking with loop",f,c,a,d,e);a=this.b(b," P ","period",f,c,a,d,e);a=this.b(b," X ","horizontal speed cells/gen",f,
c,a,d,e);a=this.b(b," Y ","vertical speed cells/gen",f,c,a,d,e);a=this.b(b,Keywords.Sk,"define point of interest",f,c,a,d,e);a=this.b(b,Keywords.Rk+" <0..>","start POI at generation",f,c,a,d,e);a=this.b(b,Keywords.Wi,"reset generation at POI",f,c,a,d,e);a=this.b(b,Keywords.Wh,"start playback at POI",f,c,a,d,e);a=this.b(b,Keywords.Xh,"stop playback at POI",f,c,a,d,e);a=this.b(b,Keywords.Xi+" <"+WaypointConstants.zp+".."+WaypointConstants.yp+">","set POI transition speed",f,c,a,d,e);a=this.b(b,"<command>|ALL "+
Keywords.oa,"use initial value for POI",f,c,a,d,e);a=this.b(b,Keywords.ub+"<string>"+Keywords.ub,"define message",f,c,a,d,e);a=this.b(b,Keywords.fi+" "+Keywords.ub+"<string>"+Keywords.ub,"set window title",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+"B","program build number",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+"N","pattern name",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+"O","pattern originator",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+"R","rule name",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+"A","rule alias",f,
c,a,d,e);a=this.b(b," "+Keywords.Sc+"T","program title",f,c,a,d,e);a=this.b(b," "+Keywords.Sc+Keywords.Sc,Keywords.Sc+" symbol",f,c,a,d,e);a=this.b(b,Keywords.Qm,"disable menus and hotkeys",f,c,a,d,e);a=this.b(b,Keywords.Pm,"disable pattern source copy",f,c,a,d,e);a=this.b(b,Keywords.Tm,"hide pattern source",f,c,a,d,e);a=this.b(b,Keywords.zj,"disable playback",f,c,a,d,e);a=this.b(b,Keywords.Rm,"disable step back",f,c,a,d,e);a=this.b(b,Keywords.Sm,"disable stop messages",f,c,a,d,e);a=this.b(b,Keywords.Kn+
" ("+Keywords.xa+")","start at 1/"+b.Gb+" size",f,c,a,d,e);a=this.b(b,Keywords.Jn+" <"+ViewConstants.np+".."+ViewConstants.kp+">","set thumbnail divisor",f,c,a,d,e);a=this.b(b,Keywords.Zp+" ("+Keywords.xa+")","thumbnail launches viewer",f,c,a,d,e);a=this.b(b,Keywords.Ei+" ("+Keywords.xa+")","display grid lines",f,c,a,d,e);a=this.b(b,Keywords.Di+" <0..16>","set major grid line interval",f,c,a,d,e);a=this.b(b,Keywords.rk,"display population graph",f,c,a,d,e);a=this.b(b,Keywords.xm+" <0.0..1.0>","population graph opacity",
f,c,a,d,e);a=this.b(b,Keywords.ym,"population graph use points",f,c,a,d,e);a=this.b(b,Keywords.Jk,"disable population graph",f,c,a,d,e);a=this.b(b,Keywords.jj+" ("+Keywords.xa+")","display stars",f,c,a,d,e);a=this.b(b,Keywords.Dm,"force hex display",f,c,a,d,e);a=this.b(b,Keywords.sn,"force square display",f,c,a,d,e);a=this.b(b,Keywords.Eg+" <0.."+(b.a.qc-1)+">|"+Keywords.lj,"set theme",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Wp+" R G B","set theme background",f,c,a,d,e);a=this.b(b,Keywords.Ha+
" "+Keywords.Gn+" R G B","set theme alive color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Vp+" R G B","set theme alive ramp",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Hn+" R G B","set theme dead color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Xp+" R G B","set theme dead ramp",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.co+" R G B","set boundary color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" <0.."+String(b.zf-1)+"> R G B","set state color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.pp+
" R G B","set [R]History state color "+ViewConstants.qp,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.rp+" R G B","set [R]History state color "+ViewConstants.sp,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Qo+" R G B","set [R]History state color "+ViewConstants.So,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.ap+" R G B","set [R]History state color "+ViewConstants.bp,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.fp+" R G B","set [R]History state color "+ViewConstants.gp,f,c,a,d,e);a=this.b(b,
Keywords.Ha+" "+Keywords.cp+" R G B","set [R]History state color "+ViewConstants.ep,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Wo+" R G B","set [R]History state color "+ViewConstants.Xo,f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Ei+" R G B","set grid color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Di+" R G B","set grid major color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.jj+" R G B","set star color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.En+" R G B","set waypoint message color",
f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.qm+" R G B","set error message color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Ko+" R G B","set graph background color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Jo+" R G B","set graph axis color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Io+" R G B","set graph alive color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Lo+" R G B","set graph birth color",f,c,a,d,e);a=this.b(b,Keywords.Ha+" "+Keywords.Mo+" R G B","set graph death color",
f,c,a,d,e);a=this.b(b,Keywords.Zl,"same as "+Keywords.Ha,f,c,a,d,e);a=this.b(b,Keywords.Wg+" <"+ViewConstants.Lc+".."+ViewConstants.ig+">","set steps per second",f,c,a,d,e);a=this.b(b,Keywords.rh+" <"+ViewConstants.ah+".."+ViewConstants.Ld+">","set generations per step",f,c,a,d,e);a=this.b(b,Keywords.Gg+" <0..359>","set camera angle",f,c,a,d,e);a=this.b(b,Keywords.ec+" <-"+(b.a.rb>>1)+".."+(b.a.rb>>1)+">","set camera x position",f,c,a,d,e);a=this.b(b,Keywords.fc+" <-"+(b.a.rb>>1)+".."+(b.a.rb>>1)+
">","set camera y position",f,c,a,d,e);a=this.b(b,Keywords.wb+" <"+Number(-1/ViewConstants.Ba).toFixed(1)+".."+ViewConstants.sb.toFixed(1)+">","set camera zoom",f,c,a,d,e);a=this.b(b,Keywords.Rl,"same as "+Keywords.wb,f,c,a,d,e);a=this.b(b,Keywords.$g+" <"+ViewConstants.Ik+".."+ViewConstants.Fk+">","set number of layers",f,c,a,d,e);a=this.b(b,Keywords.Qg+" <"+ViewConstants.Hk.toFixed(1)+".."+ViewConstants.ip.toFixed(1)+">","set layer depth",f,c,a,d,e);a=this.b(b,Keywords.nl+" <-"+(b.a.rb>>1)+".."+
(b.a.rb>>1)+">","set pattern x offset",f,c,a,d,e);a=this.b(b,Keywords.ol+" <-"+(b.a.rb>>1)+".."+(b.a.rb>>1)+">","set pattern y offset",f,c,a,d,e);a=this.b(b,Keywords.Bj+" <"+ViewConstants.Mc+".."+b.Ie+">","set LifeViewer width",f,c,a,d,e);a=this.b(b,Keywords.Fi+" <"+ViewConstants.Th+".."+ViewConstants.Gk+">","set LifeViewer height",f,c,a,d,e);a=this.b(b,Keywords.Zi+" <"+ViewConstants.Mc+".."+b.Ie+">","set popup width",f,c,a,d,e);a=this.b(b,Keywords.Yi+" <"+ViewConstants.Th+".."+ViewConstants.Gk+">",
"set popup height",f,c,a,d,e);a=this.b(b,Keywords.pn,"show timing information",f,c,a,d,e);a=this.b(b,Keywords.sm,"extended timing information",f,c,a,d,e);a=this.b(b,Keywords.nn,"show generation statistics",f,c,a,d,e);a=this.b(b,Keywords.on,"show information bar",f,c,a,d,e);a=this.b(b,Keywords.im+" <"+ViewConstants.lp+".."+ViewConstants.hp+">","set boundary delete range",f,c,a,d,e);a=this.b(b,Keywords.cn+" <string>","set random seed",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);w[0]=128;a=this.b(b,"","",
f,c,a,d,e);b.yk=b.L;k[l]=b.L;l+=1;a=this.b(b,"","Information",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Display:",f,c,a,d,e);a=this.b(b,"Size",b.v+" x "+b.s,f,c,a,d,e);DocConfig.Mi&&(a=this.b(b,"Limit Width",b.Ie,f,c,a,d,e));q=b.a.S;1>q&&(q=-1/q);a=this.b(b,"View","X "+-(b.a.width/2-(b.a.I+b.a.nd)|0)+"  Y "+-(b.a.height/2-(b.a.D+b.a.Oc)|0)+"  Z "+q.toFixed(2)+"  ANGLE "+b.a.angle.toFixed(0),f,c,a,d,e);q=b.$h;1>q&&(q=1/q);a=this.b(b,"Saved View","X "+-(b.a.width/2-b.Nb|0)+
"  Y "+-(b.a.height/2-b.mh|0)+"  Z "+q.toFixed(2)+"  ANGLE "+b.hn.toFixed(0),f,c,a,d,e);a=this.b(b,"Origin","X "+b.a.nd.toFixed(2)+"  Y "+b.a.Oc.toFixed(2)+"  Z "+b.a.cc.toFixed(3),f,c,a,d,e);b.Hb?F=b.Kb?"Multi-State Viewer":"Viewer":b.a.Kc&&(F="History Player");a=this.b(b,"Type",F,f,c,a,d,e);F=b.a.R?"Hex":"Square";a=this.b(b,"Mode",F,f,c,a,d,e);b.Ff&&(a=this.b(b,"Thumbnail","1/"+b.Gb,f,c,a,d,e));a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Pattern:",f,c,a,d,e);""!==b.Si&&(a=this.b(b,
"Name",b.Si,f,c,a,d,e));""!==b.Ti&&(a=this.b(b,"Originator",b.Ti,f,c,a,d,e));a=this.b(b,"Actual Size",b.Af+" x "+b.sg,f,c,a,d,e);-1!==b.Vd&&-1!==b.Ud&&(a=this.b(b,"Specified",b.Vd+" x "+b.Ud,f,c,a,d,e));a=this.b(b,"Offset","X "+b.td+"  Y "+b.wd,f,c,a,d,e);b.Yf&&(a=this.b(b,"CXRLE Gen",b.pk,f,c,a,d,e));b.Pe&&(a=this.b(b,"CXRLE Pos","X "+b.Tk+"  Y "+b.Uk,f,c,a,d,e));b.Sn&&(a=this.b(b,"Clipped",(0===b.a.ua?"Inf":b.a.ua)+" x "+(0===b.a.Aa?"Inf":b.a.Aa)+" "+PatternManager.fo(b.a.yb),f,c,a,d,e));b.za?B=
b.yf:(B=b.yf,""===B&&(B="(none)"));if("MAP"===B.substr(0,3)&&B.length===PatternManager.Qh+3)for(a=this.b(b,"Rule","MAP",f,c,a,d,e),q=3;q<PatternManager.Qh+3;)a=this.b(b,"  "+(q-3),B.substr(q,16),f,c,a,d,e),q+=16;else a=this.b(b,"Rule",B,f,c,a,d,e);""!==b.Le&&(a=this.b(b,"Alias",b.Le,f,c,a,d,e));B=-1!==b.a.Kf?"1D":b.a.Pk?"Hex":b.a.xc?"Von Neumann":"Moore";a=this.b(b,"N'hood",B,f,c,a,d,e);B=b.zf;2<b.zf&&b.Vi!==b.zf&&(B=b.Vi+" of "+B);a=this.b(b,"States",B,f,c,a,d,e);if(b.Ui)for(B=1;B<b.zf;B+=1)b.Ui[B]&&
(a=this.b(b,"State "+B,b.Ui[B],f,c,a,d,e));a=this.b(b,"Decoder",b.qe,f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Grid:",f,c,a,d,e);a=this.b(b,"Size",b.a.width+" x "+b.a.height,f,c,a,d,e);a=this.b(b,"Maximum",b.a.rb+" x "+b.a.rb,f,c,a,d,e);a=this.b(b,"Area",this.qq(b),f,c,a,d,e);a=0!==(b.a.i&1)?this.b(b,"Tiles",b.a.mj(b.a.wa)+" / "+b.a.mj(b.a.Oa),f,c,a,d,e):this.b(b,"Tiles",b.a.mj(b.a.aa)+" / "+b.a.mj(b.a.Oa),f,c,a,d,e);b.a.re&&(a=this.b(b,"State6",b.a.mj(b.a.re),f,c,a,d,e));
a=this.b(b,"Tile Size",(b.a.nj<<3)+" x "+b.a.oj,f,c,a,d,e);a=this.b(b,"Generation",b.a.i,f,c,a,d,e);a=this.b(b,"DeleteRange",b.a.Vk,f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);-1!==b.a.yb&&(k[l]=b.L,l+=1,a=this.b(b,"","Bounded grid:",f,c,a,d,e),a=this.b(b,"Type",PatternManager.fo(b.a.yb),f,c,a,d,e),a=0===b.a.ua?this.b(b,"Width","Infinite",f,c,a,d,e):this.b(b,"Width",b.a.ua,f,c,a,d,e),4!==b.a.yb&&(a=0===b.a.Aa?this.b(b,"Height","Infinite",f,c,a,d,e):this.b(b,"Height",b.a.Aa,f,c,a,d,e),2===b.a.yb&&(a=b.a.Vl?
this.b(b,"Twist","Horizontal",f,c,a,d,e):this.b(b,"Twist","Vertical",f,c,a,d,e)),0!==b.a.ui&&(a=this.b(b,"H'Shift",b.a.ui,f,c,a,d,e)),0!==b.a.vi&&(a=this.b(b,"V'Shift",b.a.vi,f,c,a,d,e))),a=this.b(b,"","",f,c,a,d,e));k[l]=b.L;l+=1;a=this.b(b,"","AutoFit:",f,c,a,d,e);a=this.b(b,"Enabled",b.Ta?"On":"Off",f,c,a,d,e);a=this.b(b,"Mode",this.sq(b),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Track:",f,c,a,d,e);a=this.b(b,"Enabled",b.cb&&!b.eb?"On":"Off",f,c,a,d,e);b.cb&&(b.uh?(a=
this.b(b,"Mode","Track Box",f,c,a,d,e),a=this.b(b,"Definition","E "+b.Ye.toFixed(3)+"  S "+b.Ze.toFixed(3)+"  W "+b.If.toFixed(3)+"  N "+b.Hf.toFixed(3),f,c,a,d,e)):(a=this.b(b,"Mode","Track",f,c,a,d,e),a=this.b(b,"Definition","X "+b.Ye.toFixed(3)+"  Y "+b.Ze.toFixed(3),f,c,a,d,e)));a=this.b(b,"Current","E "+b.Tj.toFixed(3)+"  S "+b.Vj.toFixed(3)+"  W "+b.Wj.toFixed(3)+"  N "+b.Uj.toFixed(3),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Step back:",f,c,a,d,e);a=this.b(b,"Enabled",
b.Od?"Off":"On",f,c,a,d,e);if(!b.Od){a=this.b(b,"Snapshots",b.a.Dc.nt()+"/"+b.a.Dc.Gd.length,f,c,a,d,e);B=0;q=b.a.Dc.Pc.length;if(0<q)for(a=this.b(b,"Reset Gens",q,f,c,a,d,e);B<q;)a=this.b(b,String(B),b.a.Dc.Pc[B].i,f,c,a,d,e),B+=1;a=this.b(b,"Buffer",(b.a.Dc.bufferSize()>>10)+"K",f,c,a,d,e);a=this.b(b,"Next Gen",b.a.eh,f,c,a,d,e)}a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Engine:",f,c,a,d,e);a=this.b(b,"Name",ViewConstants.hq,f,c,a,d,e);a=this.b(b,"Build",ViewConstants.Qn,f,c,a,d,e);
a=this.b(b,"Author",ViewConstants.gq,f,c,a,d,e);a=this.b(b,"Decoders","RLE, Life 1.06, Life 1.05, Cells",f,c,a,d,e);a=this.b(b,"N'hoods","Moore, Hex, Von Neumann, 1D",f,c,a,d,e);a=this.b(b,"Rules","Wolfram, Totalistic, Generations,",f,c,a,d,e);a=this.b(b," ","Isotropic Non-Totalistic (Hensel),",f,c,a,d,e);a=this.b(b," ","Larger Than Life, MAP",f,c,a,d,e);a=this.b(b,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",f,c,a,d,e);a=this.b(b,"States","2 state, [R]History, Niemiec,",f,c,a,d,e);
a=this.b(b," ","Generations, Larger Than Life",f,c,a,d,e);a=this.b(b,"Viewers",Controller.Vb.length,f,c,a,d,e);a=this.b(b,"Playing",Controller.rt(),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);w[1]=210;w[2]=270;w[3]=330;if(b.Kb)for(k[l]=b.L,l+=1,a=this.b(b,"","Set:",f,c,a,d,e),a=this.b(b,"Name",b.wi,f,c,a,d,e),a=this.b(b,"Used",b.Vi,f,c,a,d,e),B=0;B<P.length;B+=1)b.Ch[B]!==ViewConstants.zn&&(F=this.Cc(P[B]>>16&255,P[B]>>8&255,P[B]&255),g=String(B),b.Ch[B]!==ViewConstants.Sp||b.Mj||(g+="*"),this.Mb(b,P[B]>>
16,P[B]>>8&255,P[B]&255,f,c+w[0],a,d,e),a=this.b(b,g,F,f,c,a,d,e));else{k[l]=b.L;l+=1;a=this.b(b,"","Theme:",f,c,a,d,e);P=b.a.de===b.a.qc?"(custom)":String(b.a.de);a=this.b(b,"Name",P,f,c,a,d,e);this.Mb(b,b.a.pd[0],b.a.fd[0],b.a.$c[0],f,c+w[0],a,d,e);a=this.b(b,"Background",this.Cc(b.a.pd[0],b.a.fd[0],b.a.$c[0]),f,c,a,d,e);if(-1!==b.a.u)for(B=1;B<b.a.u;B+=1)this.Mb(b,b.a.pd[B],b.a.fd[B],b.a.$c[B],f,c+w[0],a,d,e),a=this.b(b,"State "+B,this.Cc(b.a.pd[B],b.a.fd[B],b.a.$c[B]),f,c,a,d,e);else this.Mb(b,
g.Ya.O.red,g.Ya.O.green,g.Ya.O.blue,f,c+w[0],a,d,e),a=this.b(b,"Alive",this.aj(g.Ya.O),f,c,a,d,e),g.Ya.O.red!==g.Ya.ia.red||g.Ya.O.green!==g.Ya.ia.green||g.Ya.O.blue!==g.Ya.ia.blue?(this.Mb(b,g.Ya.ia.red,g.Ya.ia.green,g.Ya.ia.blue,f,c+w[0],a,d,e),a=this.b(b,"AliveRamp",this.aj(g.Ya.ia),f,c,a,d,e)):a=this.b(b,"AliveRamp","    (none)",f,c,a,d,e),this.Mb(b,g.Ua.O.red,g.Ua.O.green,g.Ua.O.blue,f,c+w[0],a,d,e),a=this.b(b,"Dead",this.aj(g.Ua.O),f,c,a,d,e),g.Ua.O.red!==g.Ua.ia.red||g.Ua.O.green!==g.Ua.ia.green||
g.Ua.O.blue!==g.Ua.ia.blue?(this.Mb(b,g.Ua.ia.red,g.Ua.ia.green,g.Ua.ia.blue,f,c+w[0],a,d,e),a=this.b(b,"DeadRamp",this.aj(g.Ua.ia),f,c,a,d,e)):a=this.b(b,"DeadRamp","    (none)",f,c,a,d,e);if(b.a.Kc)for(B=3;6>=B;B+=1)q=128+ViewConstants.Ra[B],F=this.Cc(b.a.pd[q],b.a.fd[q],b.a.$c[q]),g=ViewConstants.Zs[B],this.Mb(b,b.a.pd[q],b.a.fd[q],b.a.$c[q],f,c+w[0],a,d,e),a=this.b(b,g,F,f,c,a,d,e)}this.Mb(b,b.Rf[0],b.Rf[1],b.Rf[2],f,c+w[0],a,d,e);a=this.b(b,"Boundary",this.Cc(b.Rf[0],b.Rf[1],b.Rf[2]),f,c,a,d,
e);b.cd&&(this.Mb(b,b.cd[0],b.cd[1],b.cd[2],f,c+w[0],a,d,e),a=this.b(b,"Text",this.Cc(b.cd[0],b.cd[1],b.cd[2]),f,c,a,d,e));b.gf&&(this.Mb(b,b.gf[0],b.gf[1],b.gf[2],f,c+w[0],a,d,e),a=this.b(b,"Error",this.Cc(b.gf[0],b.gf[1],b.gf[2]),f,c,a,d,e));a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Grid Lines:",f,c,a,d,e);P=b.a.Cb?"On":"Off";b.a.Cb&&!b.a.ef()&&(P+=" (Hidden)");a=this.b(b,"Enabled",P,f,c,a,d,e);P="Line Color";-1!==b.xi&&(P+="*");this.Mb(b,b.a.hd>>16,b.a.hd>>8&255,b.a.hd&255,f,c+w[0],
a,d,e);a=this.b(b,P,this.Cc(b.a.hd>>16,b.a.hd>>8&255,b.a.hd&255),f,c,a,d,e);P="Major Color";-1!==b.yi&&(P+="*");this.Mb(b,b.a.le>>16,b.a.le>>8&255,b.a.le&255,f,c+w[0],a,d,e);a=this.b(b,P,this.Cc(b.a.le>>16,b.a.le>>8&255,b.a.le&255),f,c,a,d,e);P=0<b.a.gd&&b.a.Zf?String(b.a.gd):"Off";a=this.b(b,"Interval",P,f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Population Graph:",f,c,a,d,e);a=this.b(b,"Enabled",b.Lb?"On":"Off",f,c,a,d,e);a=this.b(b,"Disabled",b.ke?"On":"Off",f,c,a,d,e);
a=this.b(b,"Mode",b.Pd?"Lines":"Points",f,c,a,d,e);a=this.b(b,"Opacity",b.kb.toFixed(2),f,c,a,d,e);this.Mb(b,b.a.he[0],b.a.he[1],b.a.he[2],f,c+w[0],a,d,e);a=this.b(b,"Bg Color",this.Cc(b.a.he[0],b.a.he[1],b.a.he[2]),f,c,a,d,e);this.Mb(b,b.a.ge[0],b.a.ge[1],b.a.ge[2],f,c+w[0],a,d,e);a=this.b(b,"Axis Color",this.Cc(b.a.ge[0],b.a.ge[1],b.a.ge[2]),f,c,a,d,e);this.Mb(b,b.a.fe[0],b.a.fe[1],b.a.fe[2],f,c+w[0],a,d,e);a=this.b(b,"Alive Color",this.Cc(b.a.fe[0],b.a.fe[1],b.a.fe[2]),f,c,a,d,e);this.Mb(b,b.a.ie[0],
b.a.ie[1],b.a.ie[2],f,c+w[0],a,d,e);a=this.b(b,"Birth Color",this.Cc(b.a.ie[0],b.a.ie[1],b.a.ie[2]),f,c,a,d,e);this.Mb(b,b.a.je[0],b.a.je[1],b.a.je[2],f,c+w[0],a,d,e);a=this.b(b,"Death Color",this.Cc(b.a.je[0],b.a.je[1],b.a.je[2]),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Random Seed:",f,c,a,d,e);a=this.b(b,"Custom",b.bn?"On":"Off",f,c,a,d,e);a=this.b(b,"Seed",b.an,f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Stars:",f,c,a,d,e);a=this.b(b,"Enabled",
b.ph?"On":"Off",f,c,a,d,e);this.Mb(b,b.Re.red,b.Re.green,b.Re.blue,f,c+w[0],a,d,e);a=this.b(b,"Color",this.aj(b.Re),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;l+=1;a=this.b(b,"","Script:",f,c,a,d,e);a=this.b(b,"Commands",b.Pi,f,c,a,d,e);a=this.b(b,"Errors",b.Vm,f,c,a,d,e);if(b.gb)for(a=this.b(b,"","",f,c,a,d,e),k[l]=b.L,l+=1,a=this.b(b,"","Waypoints:",f,c,a,d,e),a=this.b(b,"Enabled",b.lb?"Off":"On",f,c,a,d,e),a=this.b(b,"Number",b.A.N.length,f,c,a,d,e),B=0;B<b.A.N.length;B+=1)P=String(B),B===
b.A.Ef&&(P=b.A.Tl(b.elapsedTime)?P+">":P+"*"),a=this.b(b,P,b.A.tt(B),f,c,a,d,e);if(b.A.Da.length)for(a=this.b(b,"","",f,c,a,d,e),k[l]=b.L,l+=1,a=this.b(b,"","Points of interest:",f,c,a,d,e),a=this.b(b,"Number",b.A.Da.length,f,c,a,d,e),B=0;B<b.A.Da.length;B+=1)P=String(B+1),B===b.bd&&(P+="*"),B===b.Og&&(P+=" INITIAL"),q=!1,g=b.A.es(B),""!==g&&(a=this.b(b,q?" ":P,(q?"  ":"")+g,f,c,a,d,e),q=!0),g=b.A.js(B),""!==g&&(a=this.b(b,q?" ":P,(q?"  ":"")+g,f,c,a,d,e),q=!0),g=b.A.fs(B),""!==g&&(a=this.b(b,q?" ":
P,(q?"  ":"")+g,f,c,a,d,e),q=!0),g=b.A.xp(B),""!==g&&(a=this.b(b,q?" ":P,(q?"  ":"")+g,f,c,a,d,e),q=!0),g=b.A.hs(B),""!==g&&(a=this.b(b,q?" ":P,(q?"  ":"")+g,f,c,a,d,e),q=!0),g=b.A.gs(B),""!==g&&(a=this.b(b,q?" ":P,(q?"  ":"")+g,f,c,a,d,e));-1!==b.M&&(a=this.b(b,"","",f,c,a,d,e),k[l]=b.L,l+=1,a=this.b(b,"","Loop:",f,c,a,d,e),a=this.b(b,"Enabled",b.ra?"Off":"On",f,c,a,d,e),a=this.b(b,"Generation",b.M,f,c,a,d,e));a=this.b(b,"","",f,c,a,d,e);w[1]=200;w[2]=290;w[3]=530;k[l]=b.L;l+=1;a=this.b(b,"","Memory:",
f,c,a,d,e);a=this.b(b,"Allocations",b.a.l.Lk+"\t"+(b.a.l.gi>>20)+"M\t"+b.a.l.gi,f,c,a,d,e);a=this.b(b,"Frees",b.a.l.Mk+"\t"+(b.a.l.hi>>20)+"M\t"+b.a.l.hi,f,c,a,d,e);a=this.b(b,"In Use",b.a.l.Lk-b.a.l.Mk+"\t"+(b.a.l.gi-b.a.l.hi>>20)+"M\t"+(b.a.l.gi-b.a.l.hi),f,c,a,d,e);a=this.b(b,this.up("Bytes",10),"Type\tElements\tName\tCount",f,c,a,d,e);for(B=0;B<b.a.l.Zc.length;B+=1)a=this.b(b,this.up(String(b.a.l.Zc[B].size),10),b.a.l.pq(B),f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=
b.L;l+=1;a=this.b(b,"","Aliases",f,c,a,d,e);w[0]=260;for(B=0;B<AliasManager.f.length;B+=1)""===AliasManager.f[B][1]?(a=this.b(b,"","",f,c,a,d,e),k[l]=b.L,l+=1,a=this.b(b,"",AliasManager.f[B][0]+" Aliases:",f,c,a,d,e)):""!==AliasManager.f[B][0]&&(a=this.b(b,AliasManager.f[B][0],AliasManager.f[B][1],f,c,a,d,e));w[1]=320;w[2]=380;a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);k[l]=b.L;a=this.b(b,"","Colours",f,c,a,d,e);a=this.b(b,"","",f,c,a,d,e);a=this.b(b,"","The following names can be used in place of R G B:",
f,c,a,d,e);for(B=0;B<h.length;B+=1)k=D[h[B]],a=this.b(b,k[0],k[1]+"\t"+k[2]+"\t"+k[3],f,c,a,d,e);b.Uh=b.L-1;b.L=1;w[0]=120;a=m+d*(b.ab+2);a=this.us(b,"Up"," / ","Down","scroll help",f,c,a,d,0);b.Jc?this.b(b,"H","close help",f,c,a,d,0):this.b(b,"H / Esc","close help",f,c,a,d,0)},Ao:function(b){var f=b.bc;b.ab=(b.s/19|0)-6;f.fillStyle="black";f.globalAlpha=.5;f.fillRect(0,0,f.canvas.width,f.canvas.height);f.globalAlpha=1;f.fillStyle=ViewConstants.Gi;this.en(b,f,6,14,19,b.C|0);f.fillStyle=ViewConstants.Lh;
this.en(b,f,4,12,19,b.C|0)},ss:function(b,f,c,a,d,e,m,F,B,g){var P=F,D=0,h=!1,w=b.L;e.fillStyle===ViewConstants.Gi&&(h=!0);w>=g&&w<=g+b.ab&&(e.font=ViewConstants.mk,h||(e.fillStyle=1<(b.ya|0)?b.ee:ViewConstants.sk),e.fillText(f,m,F),h||(e.fillStyle=b.ee),e.fillText(c,m+e.measureText(f).width,F),h||(e.fillStyle=(b.ya|0)<b.Ob.length-b.ab+1?b.ee:ViewConstants.sk),e.fillText(a,m+e.measureText(f+c).width,F),b.Ue[0]&&(D=b.Ue[0]),h||(e.fillStyle=b.ee),e.font=ViewConstants.xh,e.fillText(d,m+D,F),P+=B);return P},
Wk:function(b,f,c,a,d,e,m,F){var B=e,g=0,P=b.L;P>=F&&P<=F+b.ab&&(f.length&&(a.font=ViewConstants.mk,a.fillText(f,d,e),g=a.measureText(f+" ").width),b.Ue[0]&&(g=b.Ue[0]),a.font=ViewConstants.xh,a.fillText(c,d+g,e),B+=m);b.L+=1;return B},Dp:function(b,f,c,a,d,e){var m,F=b.Ob,B=a;b.L=1;b.Ue[0]=0;f.font=ViewConstants.xh;a=this.Wk(b,"",ViewConstants.Ls,f,c,a,d,e);for(m=0;m<F.length;m+=1)a=this.Wk(b,F[m][0],F[m][1],f,c,a,d,e);b.ea||(b.Ue[0]=120,b.L=1,a=B+d*(b.ab+2),a=this.ss(b,"Up"," / ","Down","scroll errors",
f,c,a,d,0),a=this.Wk(b,"Esc","clear messages",f,c,a,d,0),this.Wk(b,"H  ","help on script commands",f,c,a,d,0))},zo:function(b){var f=b.bc,c=7;b.ea&&(c=1);b.ab=(b.s/19|0)-c;f.fillStyle="black";f.globalAlpha=.5;f.fillRect(0,0,f.canvas.width,f.canvas.height);f.globalAlpha=1;f.fillStyle=ViewConstants.Gi;this.Dp(b,f,6,14,19,b.ya|0);f.fillStyle=b.ee;this.Dp(b,f,4,12,19,b.ya|0)}};window.Keywords={ub:'"',Zk:"[[",kn:"]]",Bn:"SUPPRESS",Rk:"POIT",oa:"INITIAL",xa:"OFF",yn:"STATE1FIT",Wi:"POIRESET",Wh:"POIPLAY",Xh:"POISTOP",Xi:"POITRANS",Bm:"HARDRESET",tj:"TRACK",vh:"TRACKBOX",sj:"TRACKLOOP",Sm:"NOREPORT",rk:"GRAPH",Jk:"NOGRAPH",xm:"GRAPHOPACITY",ym:"GRAPHPOINTS",xe:"ALL",kd:"LINEAR",ae:"BEZIER",Dm:"HEXDISPLAY",sn:"SQUAREDISPLAY",Vo:"INTEGERZOOM",cn:"RANDOMSEED",im:"DELETERANGE",pn:"SHOWTIMING",sm:"EXTENDEDTIMING",nn:"SHOWGENSTATS",on:"SHOWINFOBAR",Tm:"NOSOURCE",Sk:"POI",fi:"TITLE",
jj:"STARS",lj:"CUSTOM",nl:"XOFFSET",ol:"YOFFSET",Wp:"BACKGROUND",Gn:"ALIVE",Vp:"ALIVERAMP",Hn:"DEAD",Xp:"DEADRAMP",co:"BOUNDARY",Oj:"AUTOFIT",Fm:"HISTORYFIT",rh:"STEP",Rm:"NOSTEPBACK",hl:"T",Wm:"PAUSE",Ei:"GRID",Di:"GRIDMAJOR",En:"TEXT",qm:"ERROR",pp:"OFF",rp:"ON",Qo:"HISTORY",ap:"MARK1",fp:"MARKOFF",cp:"MARK2",Wo:"KILL",Ko:"GRAPHBG",Jo:"GRAPHAXIS",Io:"GRAPHALIVE",Lo:"GRAPHBIRTH",Mo:"GRAPHDEATH",Ha:"COLOR",Zl:"COLOUR",An:"STRICT",zj:"VIEWONLY",Qm:"NOGUI",Pm:"NOCOPY",Kn:"THUMBNAIL",Jn:"THUMBSIZE",
Zp:"THUMBLAUNCH",Eg:"THEME",Pj:"AUTOSTART",oe:"LOOP",se:"STOP",Gg:"ANGLE",$g:"LAYERS",Qg:"DEPTH",Wg:"GPS",wb:"ZOOM",Rl:"Z",ec:"X",fc:"Y",Bj:"WIDTH",Fi:"HEIGHT",Zi:"POPUPWIDTH",Yi:"POPUPHEIGHT",Sc:"#"};
